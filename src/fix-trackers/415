Path: news!news.crl.dec.com!pa.dec.com!nobody
Message-Id: <9208102325.AA05393@xenon.lcs.mit.edu>
To: fix-trackers@expo.lcs.mit.edu
Cc: mor@expo.lcs.mit.edu
Subject: (seq: 2644) PEXlib patch (part 1 of 3)
Date: Mon, 10 Aug 92 19:25:44 EDT
From: Ralph Mor <mor@expo.lcs.mit.edu>
Distribution: dec
X-Mailing-List: fix-trackers@expo.lcs.mit.edu
X-Disclaimer: This message originated from a mailing list outside of Digital.
Newsgroups: dec.mail.lists.x.fix-trackers
Approved: news@usenet.pa.dec.com

*** /tmp/da01474	Mon Aug 10 17:23:03 1992
--- extensions/lib/PEXlib/PEXlib.h	Mon Aug 10 15:56:28 1992
***************
*** 1,22 ****
  #ifndef _PEXLIB_H_
  #define _PEXLIB_H_
  
! /* $XConsortium: PEXlib.h,v 1.5 92/06/30 14:26:26 mor Exp $ */
  
  /******************************************************************************/
  /*  Copyright 1987,1991 by Digital Equipment Corporation, Maynard, Mass.      */
  /*                                                                            */
  /*  (c) Copyright Hewlett-Packard Company, 1992,  Fort Collins, Colorado      */
  /*                                                                            */
  /*                            All Rights Reserved                             */
  /*                                                                            */
! /*  Permission to use, copy, modify, and distribute this software and its     */
! /*  documentation for any purpose and without fee is hereby granted,          */
! /*  provided that the above copyright notices appear in all copies and that   */
! /*  both the copyright notices and this permission notice appear in           */
! /*  supporting documentation, and that the names of Digital or                */
! /*  Hewlett-Packard not be used in advertising or publicity pertaining to     */
! /*  distribution of the software without specific, written prior permission.  */
  /*                                                                            */
  /*  DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING  */
  /*  ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL  */
--- 1,26 ----
  #ifndef _PEXLIB_H_
  #define _PEXLIB_H_
  
! /* $XConsortium: PEXlib.h,v 1.8 92/08/10 16:00:17 mor Exp $ */
  
  /******************************************************************************/
  /*  Copyright 1987,1991 by Digital Equipment Corporation, Maynard, Mass.      */
  /*                                                                            */
  /*  (c) Copyright Hewlett-Packard Company, 1992,  Fort Collins, Colorado      */
+ /*									      */
+ /*  Copyright 1992 by the Massachusetts Institute of Technology		      */
  /*                                                                            */
  /*                            All Rights Reserved                             */
  /*                                                                            */
! /*  Permission to use, copy, modify, distribute, and sell this software and   */
! /*  its documentation for any purpose is hereby granted without fee, provided */
! /*  that the above copyright notice appear in all copies and that both that   */
! /*  copyright notice and this permission notice appear in supporting          */
! /*  documentation, and that the name of M.I.T. not be used in advertising or  */
! /*  publicity pertaining to distribution of the software without specific,    */
! /*  written prior permission.  M.I.T. makes no representations about the      */
! /*  suitability of this software for any purpose.  It is provided "as is"     */
! /*  without express or implied warranty.                                      */
  /*                                                                            */
  /*  DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING  */
  /*  ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL  */
***************
*** 56,73 ****
  /*
   * floating point min and max values
   */
! /* QUESTION: what are the correct DEC min and max values */
! #define PEXMaxFloatIeee_754_32          3.40282346638528860e+38
! #define PEXMaxFloatIeee_754_64          1.797693134862315708e+308
! #define PEXMaxFloatDEC_F_Floating       1.701411733192644299e+38 /* correct ? */
! #define PEXMaxFloatDEC_D_Floating       0 /* substitute correct number */
  
! #define PEXMinFloatIeee_754_32          1.40129846432481707e-45
! #define PEXMinFloatIeee_754_64          4.94065645841246544e-324
! #define PEXMinFloatDEC_F_Floating       0 /* substitute correct number */
! #define PEXMinFloatDEC_D_Floating       0 /* substitute correct number */
  
  
  /*
   * type definitions
   */
--- 60,81 ----
  /*
   * floating point min and max values
   */
! #define PEXMinFloatIeee_754_32  1.40129846432481707e-45
! #define PEXMaxFloatIeee_754_32  3.40282346638528860e+38
! #define PEXMinFloatIeee_754_64  4.94065645841246544e-324
! #define PEXMaxFloatIeee_754_64  1.797693134862315708e+308
  
! /*
!  * constants for PEXInitiliaze - failure return values and error string length
!  */
! #define PEXBadExtension         1
! #define PEXBadProtocolVersion   2
! #define PEXBadFloatConversion   3
! #define PEXBadLocalAlloc        4
  
+ #define PEXErrorStringLength    80
  
+ 
  /*
   * type definitions
   */
***************
*** 152,161 ****
   */
  
  /* output command request types */
! #define PEXOCRender                     0
! #define PEXOCStore                      1
! #define PEXOCRenderSingle               2
! #define PEXOCStoreSingle                3
  
  /* coordinates */
  typedef struct {
--- 160,169 ----
   */
  
  /* output command request types */
! #define PEXOCRender             0
! #define PEXOCStore              1
! #define PEXOCRenderSingle       2
! #define PEXOCStoreSingle        3
  
  /* coordinates */
  typedef struct {
***************
*** 178,194 ****
  
  /* coordinate lists without data */
  typedef struct {
!     unsigned short      count;                  /* number of points */
      PEXCoord2D          *points;
  } PEXListOfCoord2D;     /* Pointer to an array of 2D points */
  
  typedef struct {
!     unsigned short      count;                  /* number of points */
      PEXCoord            *points;
  } PEXListOfCoord;       /* Pointer to an array of 3D points */
  
  typedef struct {
!     unsigned short      count;                  /* number of points */
      PEXCoord4D          *points;
  } PEXListOfCoord4D;     /* Pointer to an array of 4D points */
  
--- 186,202 ----
  
  /* coordinate lists without data */
  typedef struct {
!     unsigned long       count;                  /* number of points */
      PEXCoord2D          *points;
  } PEXListOfCoord2D;     /* Pointer to an array of 2D points */
  
  typedef struct {
!     unsigned long       count;                  /* number of points */
      PEXCoord            *points;
  } PEXListOfCoord;       /* Pointer to an array of 3D points */
  
  typedef struct {
!     unsigned long       count;                  /* number of points */
      PEXCoord4D          *points;
  } PEXListOfCoord4D;     /* Pointer to an array of 4D points */
  
***************
*** 567,579 ****
  } PEXArrayOfVertex;
  
  typedef struct {
!     unsigned short      count;                  /* number of vertices */
      PEXArrayOfVertex    vertices;               /* pointer to vertices */
  } PEXListOfVertex;
  
  /* connectivity list for set of fill area sets */
  typedef struct {
!     unsigned short      count;                  /* number of uShorts */
      unsigned short      *shorts;
  } PEXListOfUShort;
  
--- 575,587 ----
  } PEXArrayOfVertex;
  
  typedef struct {
!     unsigned long       count;                  /* number of vertices */
      PEXArrayOfVertex    vertices;               /* pointer to vertices */
  } PEXListOfVertex;
  
  /* connectivity list for set of fill area sets */
  typedef struct {
!     unsigned short      count;                  /* number of shorts */
      unsigned short      *shorts;
  } PEXListOfUShort;
  
***************
*** 1226,1236 ****
  typedef struct {
      int             type;
      Display         *display;      /* Display the event was read from */
      unsigned long   serial;        /* serial number of failed request */
      unsigned char   error_code;    /* error code of failed request */
      unsigned char   request_code;  /* Major op-code of failed request */
      unsigned char   minor_code;    /* Minor op-code of failed request */
-     XID             resourceid;    /* resource id of renderer or structure */
      unsigned short  op_code;       /* op-code of failed output command */
      unsigned short  count;         /* number of output commands successfully */
                                     /* executed before error */
--- 1234,1244 ----
  typedef struct {
      int             type;
      Display         *display;      /* Display the event was read from */
+     XID             resourceid;    /* resource id of renderer or structure */
      unsigned long   serial;        /* serial number of failed request */
      unsigned char   error_code;    /* error code of failed request */
      unsigned char   request_code;  /* Major op-code of failed request */
      unsigned char   minor_code;    /* Minor op-code of failed request */
      unsigned short  op_code;       /* op-code of failed output command */
      unsigned short  count;         /* number of output commands successfully */
                                     /* executed before error */
***************
*** 1267,1281 ****
              PEXCoord point1;
              PEXCoord point2;
              PEXCoord point3;
!             unsigned long col_count;
!             unsigned long row_count;
              PEXTableIndex *color_indices;
          } CellArray;
          struct {
              PEXCoord2D point1;
              PEXCoord2D point2;
!             unsigned long col_count;
!             unsigned long row_count;
              PEXTableIndex *color_indices;
          } CellArray2D;
          struct {
--- 1275,1289 ----
              PEXCoord point1;
              PEXCoord point2;
              PEXCoord point3;
!             unsigned int col_count;
!             unsigned int row_count;
              PEXTableIndex *color_indices;
          } CellArray;
          struct {
              PEXCoord2D point1;
              PEXCoord2D point2;
!             unsigned int col_count;
!             unsigned int row_count;
              PEXTableIndex *color_indices;
          } CellArray2D;
          struct {
***************
*** 1309,1316 ****
              PEXCoord point1;
              PEXCoord point2;
              PEXCoord point3;
!             unsigned long col_count;
!             unsigned long row_count;
              int color_type;
              PEXArrayOfColor colors;
          } ExtendedCellArray;
--- 1317,1324 ----
              PEXCoord point1;
              PEXCoord point2;
              PEXCoord point3;
!             unsigned int col_count;
!             unsigned int row_count;
              int color_type;
              PEXArrayOfColor colors;
          } ExtendedCellArray;
***************
*** 1409,1415 ****
              unsigned int col_count;
              unsigned int row_count;
              PEXArrayOfCoord points;
!             unsigned long curve_count;
              PEXListOfTrimCurve *trim_curves;
          } NURBSurface;
          struct {
--- 1417,1423 ----
              unsigned int col_count;
              unsigned int row_count;
              PEXArrayOfCoord points;
!             unsigned int curve_count;
              PEXListOfTrimCurve *trim_curves;
          } NURBSurface;
          struct {
***************
*** 1581,1592 ****
              int flag;
          } SetModelClipFlag;
          struct {
!             int operator;
              unsigned int count;
              PEXHalfSpace *half_spaces;
          } SetModelClipVolume;
          struct {
!             int operator;
              unsigned int count;
              PEXHalfSpace2D *half_spaces;
          } SetModelClipVolume2D;
--- 1589,1600 ----
              int flag;
          } SetModelClipFlag;
          struct {
!             int op;
              unsigned int count;
              PEXHalfSpace *half_spaces;
          } SetModelClipVolume;
          struct {
!             int op;
              unsigned int count;
              PEXHalfSpace2D *half_spaces;
          } SetModelClipVolume2D;
***************
*** 1699,1705 ****
              unsigned int vertex_attributes;
              int color_type;
              PEXArrayOfFacetData facet_data;
!             unsigned long count;
              PEXArrayOfVertex vertices;
          } TriangleStrip;
      } data;
--- 1707,1713 ----
              unsigned int vertex_attributes;
              int color_type;
              PEXArrayOfFacetData facet_data;
!             unsigned int count;
              PEXArrayOfVertex vertices;
          } TriangleStrip;
      } data;
***************
*** 1713,1719 ****
  /* macro for inquiring max length for PEXGetOCAddr */
  
  #define PEXGetOCAddrMaxSize(_display) \
!     ((_display)->bufmax - (_display)->buffer)
  
  
  /*
--- 1721,1732 ----
  /* macro for inquiring max length for PEXGetOCAddr */
  
  #define PEXGetOCAddrMaxSize(_display) \
!     ((_display)->bufmax - (_display)->buffer)   /* this macro returns the     */
!                                                 /* maximum allowable size (in */
!                                                 /* bytes) for PEXGetOCAddr    */
!                                                 /* individual implementations */
!                                                 /* can modify the value, but  */
!                                                 /* the minimum allowed is 1024*/
  
  
  /*
***************
*** 1721,1740 ****
   */
  
  /* constants for PEXRotate */
! #define PEXXAxis	1
! #define PEXYAxis	2
! #define PEXZAxis	3
  
! /* constants for utilities return status */
! #define	 PEXBadVector		1
! #define	 PEXBadVectors		2
! #define	 PEXBadLimits   	3
! #define	 PEXBadViewport 	4
! #define	 PEXBadPlanes		5
! #define	 PEXBadPRP		6
! #define	 PEXBadMatrix		7
! #define	 PEXBadPrimitive	8
! #define	 PEXBadDistance		9
  
  
  /*
--- 1734,1756 ----
   */
  
  /* constants for PEXRotate */
! #define PEXXAxis                1
! #define PEXYAxis                2
! #define PEXZAxis                3
  
! /* constants for utilities error return status */
! #define PEXBadVector            1
! #define PEXBadVectors           2
! #define PEXBadLimits            3
! #define PEXBadViewport          4
! #define PEXBadPlanes            5
! #define PEXBadPRP               6
! #define PEXBadMatrix            7
! #define PEXBadPrimitive         8
! #define PEXBadDistance          9
! #define PEXBadAxis              10
! #define PEXBadHomoCoord         11
! #define PEXBadSubVolume         12
  
  
  /*
***************
*** 1836,1841 ****
--- 1852,1879 ----
  #endif
  );
  
+ extern void PEXBuildTransform(
+ #if NeedFunctionPrototypes
+     PEXCoord *		/* fixed_point */,
+     PEXVector *		/* trans_vector */,
+     double 		/* angle_x */,
+     double 		/* angle_y */,
+     double 		/* angle_z */,
+     PEXVector *		/* scale_vector */,
+     PEXMatrix 		/* matrix_return */
+ #endif
+ );
+ 
+ extern void PEXBuildTransform2D(
+ #if NeedFunctionPrototypes
+     PEXCoord2D *		/* fixed_point */,
+     PEXVector2D *		/* trans_vector */,
+     double 		/* angle_z */,
+     PEXVector2D *		/* scale_vector */,
+     PEXMatrix3x3 		/* matrix_return */
+ #endif
+ );
+ 
  extern void PEXCellArray(
  #if NeedFunctionPrototypes
      Display *		/* display */,
***************
*** 1844,1851 ****
      PEXCoord *		/* point1 */,
      PEXCoord *		/* point2 */,
      PEXCoord *		/* point3 */,
!     unsigned long 		/* col_count */,
!     unsigned long 		/* row_count */,
      PEXTableIndex *		/* color_indices */
  #endif
  );
--- 1882,1889 ----
      PEXCoord *		/* point1 */,
      PEXCoord *		/* point2 */,
      PEXCoord *		/* point3 */,
!     unsigned int 		/* col_count */,
!     unsigned int 		/* row_count */,
      PEXTableIndex *		/* color_indices */
  #endif
  );
***************
*** 1857,1864 ****
      PEXOCRequestType 		/* req_type */,
      PEXCoord2D *		/* point1 */,
      PEXCoord2D *		/* point2 */,
!     unsigned long 		/* col_count */,
!     unsigned long 		/* row_count */,
      PEXTableIndex *		/* color_indices */
  #endif
  );
--- 1895,1902 ----
      PEXOCRequestType 		/* req_type */,
      PEXCoord2D *		/* point1 */,
      PEXCoord2D *		/* point2 */,
!     unsigned int 		/* col_count */,
!     unsigned int 		/* row_count */,
      PEXTableIndex *		/* color_indices */
  #endif
  );
***************
*** 1982,1995 ****
  #endif
  );
  
- extern unsigned long PEXCountOCs(
- #if NeedFunctionPrototypes
-     int				/* float_format */,
-     unsigned long		/* length */,
-     char *                      /* encoded_ocs */
- #endif
- );
- 
  extern PEXLookupTable PEXCreateLookupTable(
  #if NeedFunctionPrototypes
      Display *		/* display */,
--- 2020,2025 ----
***************
*** 2271,2284 ****
      PEXCoord *		/* point1 */,
      PEXCoord *		/* point2 */,
      PEXCoord *		/* point3 */,
!     unsigned long 		/* col_count */,
!     unsigned long 		/* row_count */,
      int 		/* color_type */,
      PEXArrayOfColor 		/* colors */
  #endif
  );
  
! extern char *PEXFetchElements(
  #if NeedFunctionPrototypes
      Display *		/* display */,
      PEXStructure 		/* structure */,
--- 2301,2314 ----
      PEXCoord *		/* point1 */,
      PEXCoord *		/* point2 */,
      PEXCoord *		/* point3 */,
!     unsigned int 		/* col_count */,
!     unsigned int 		/* row_count */,
      int 		/* color_type */,
      PEXArrayOfColor 		/* colors */
  #endif
  );
  
! extern Status PEXFetchElements(
  #if NeedFunctionPrototypes
      Display *		/* display */,
      PEXStructure 		/* structure */,
***************
*** 2288,2294 ****
      long 		/* offset2 */,
      int 		/* float_format */,
      unsigned long *		/* count_return */,
!     unsigned long *		/* length_return */
  #endif
  );
  
--- 2318,2325 ----
      long 		/* offset2 */,
      int 		/* float_format */,
      unsigned long *		/* count_return */,
!     unsigned long *		/* length_return */,
!     char **		/* ocs_return */
  #endif
  );
  
***************
*** 2568,2573 ****
--- 2599,2663 ----
  #endif
  );
  
+ extern int PEXGeoNormFillArea(
+ #if NeedFunctionPrototypes
+     unsigned int 		/* facet_attributes */,
+     unsigned int 		/* vertex_attributes */,
+     int 		/* color_type */,
+     PEXFacetData *		/* facet_data */,
+     unsigned int 		/* count */,
+     PEXArrayOfVertex 		/* vertices */
+ #endif
+ );
+ 
+ extern int PEXGeoNormFillAreaSet(
+ #if NeedFunctionPrototypes
+     unsigned int 		/* facet_attributes */,
+     unsigned int 		/* vertex_attributes */,
+     int 		/* color_type */,
+     unsigned int 		/* count */,
+     PEXFacetData *		/* facet_data */,
+     PEXListOfVertex *		/* vertex_lists */
+ #endif
+ );
+ 
+ extern int PEXGeoNormQuadrilateralMesh(
+ #if NeedFunctionPrototypes
+     unsigned int 		/* facet_attributes */,
+     unsigned int 		/* vertex_attributes */,
+     int 		/* color_type */,
+     PEXArrayOfFacetData 		/* facet_data */,
+     unsigned int 		/* col_count */,
+     unsigned int 		/* row_count */,
+     PEXArrayOfVertex 		/* vertices */
+ #endif
+ );
+ 
+ extern int PEXGeoNormSetOfFillAreaSets(
+ #if NeedFunctionPrototypes
+     unsigned int 		/* facet_attributes */,
+     unsigned int 		/* vertex_attributes */,
+     int 		/* color_type */,
+     unsigned int 		/* set_count */,
+     PEXArrayOfFacetData 		/* facet_data */,
+     unsigned int 		/* vertex_count */,
+     PEXArrayOfVertex 		/* vertices */,
+     unsigned int 		/* index_count */,
+     PEXConnectivityData *		/* connectivity */
+ #endif
+ );
+ 
+ extern int PEXGeoNormTriangleStrip(
+ #if NeedFunctionPrototypes
+     unsigned int 		/* facet_attributes */,
+     unsigned int 		/* vertex_attributes */,
+     int 		/* color_type */,
+     PEXArrayOfFacetData 		/* facet_data */,
+     unsigned int 		/* count */,
+     PEXArrayOfVertex 		/* vertices */
+ #endif
+ );
+ 
  extern PEXStructurePath *PEXGetAncestors(
  #if NeedFunctionPrototypes
      Display *		/* display */,
***************
*** 2578,2588 ****
  #endif
  );
  
! extern PEXTableIndex *PEXGetDefinedIndices(
  #if NeedFunctionPrototypes
      Display *		/* display */,
      PEXLookupTable 		/* table */,
!     unsigned long *		/* count_return */
  #endif
  );
  
--- 2668,2679 ----
  #endif
  );
  
! extern Status PEXGetDefinedIndices(
  #if NeedFunctionPrototypes
      Display *		/* display */,
      PEXLookupTable 		/* table */,
!     unsigned long *		/* count_return */,
!     PEXTableIndex **		/* indices_return */
  #endif
  );
  
***************
*** 2596,2602 ****
  #endif
  );
  
! extern PEXElementInfo *PEXGetElementInfo(
  #if NeedFunctionPrototypes
      Display *		/* display */,
      PEXStructure 		/* structure */,
--- 2687,2693 ----
  #endif
  );
  
! extern Status PEXGetElementInfo(
  #if NeedFunctionPrototypes
      Display *		/* display */,
      PEXStructure 		/* structure */,
***************
*** 2605,2615 ****
      int 		/* whence2 */,
      long 		/* offset2 */,
      int 		/* float_format */,
!     unsigned long *		/* count_return */
  #endif
  );
  
! extern PEXEnumTypeDesc *PEXGetEnumTypeInfo(
  #if NeedFunctionPrototypes
      Display *		/* display */,
      Drawable 		/* drawable */,
--- 2696,2707 ----
      int 		/* whence2 */,
      long 		/* offset2 */,
      int 		/* float_format */,
!     unsigned long *		/* count_return */,
!     PEXElementInfo **		/* info_return */
  #endif
  );
  
! extern Status PEXGetEnumTypeInfo(
  #if NeedFunctionPrototypes
      Display *		/* display */,
      Drawable 		/* drawable */,
***************
*** 2616,2622 ****
      unsigned long 		/* count */,
      int *		/* enum_types */,
      unsigned long 		/* item_mask */,
!     unsigned long **		/* info_count_return */
  #endif
  );
  
--- 2708,2715 ----
      unsigned long 		/* count */,
      int *		/* enum_types */,
      unsigned long 		/* item_mask */,
!     unsigned long **		/* info_count_return */,
!     PEXEnumTypeDesc **		/* enum_info_return */
  #endif
  );
  
***************
*** 2626,2645 ****
  #endif
  );
  
! extern PEXImpDepConstant *PEXGetImpDepConstants(
  #if NeedFunctionPrototypes
      Display *		/* display */,
      Drawable 		/* drawable */,
      unsigned long 		/* count */,
!     unsigned short *		/* names */
  #endif
  );
  
! extern PEXName *PEXGetNameSet(
  #if NeedFunctionPrototypes
      Display *		/* display */,
      PEXNameSet 		/* nameset */,
!     unsigned long *		/* count_return */
  #endif
  );
  
--- 2719,2740 ----
  #endif
  );
  
! extern Status PEXGetImpDepConstants(
  #if NeedFunctionPrototypes
      Display *		/* display */,
      Drawable 		/* drawable */,
      unsigned long 		/* count */,
!     unsigned short *		/* names */,
!     PEXImpDepConstant **		/* constants_return */
  #endif
  );
  
! extern Status PEXGetNameSet(
  #if NeedFunctionPrototypes
      Display *		/* display */,
      PEXNameSet 		/* nameset */,
!     unsigned long *		/* count_return */,
!     PEXName **		/* names_return */
  #endif
  );
  
***************
*** 2675,2687 ****
  #endif
  );
  
! extern PEXPointer PEXGetPredefinedEntries(
  #if NeedFunctionPrototypes
      Display *		/* display */,
      Drawable 		/* drawable */,
      int 		/* table_type */,
      unsigned int 		/* start */,
!     unsigned int 		/* count */
  #endif
  );
  
--- 2770,2783 ----
  #endif
  );
  
! extern Status PEXGetPredefinedEntries(
  #if NeedFunctionPrototypes
      Display *		/* display */,
      Drawable 		/* drawable */,
      int 		/* table_type */,
      unsigned int 		/* start */,
!     unsigned int 		/* count */,
!     PEXPointer *		/* entries_return */
  #endif
  );
  
***************
*** 2725,2736 ****
  #endif
  );
  
! extern PEXStructureInfo *PEXGetStructureInfo(
  #if NeedFunctionPrototypes
      Display *		/* display */,
      PEXStructure 		/* structure */,
      int 		/* float_format */,
!     unsigned long 		/* value_mask */
  #endif
  );
  
--- 2821,2833 ----
  #endif
  );
  
! extern Status PEXGetStructureInfo(
  #if NeedFunctionPrototypes
      Display *		/* display */,
      PEXStructure 		/* structure */,
      int 		/* float_format */,
!     unsigned long 		/* value_mask */,
!     PEXStructureInfo *		/* info_return */
  #endif
  );
  
***************
*** 2743,2749 ****
  #endif
  );
  
! extern PEXPointer PEXGetTableEntries(
  #if NeedFunctionPrototypes
      Display *		/* display */,
      PEXLookupTable 		/* table */,
--- 2840,2846 ----
  #endif
  );
  
! extern Status PEXGetTableEntries(
  #if NeedFunctionPrototypes
      Display *		/* display */,
      PEXLookupTable 		/* table */,
***************
*** 2750,2756 ****
      unsigned int 		/* start */,
      unsigned int 		/* count */,
      int 		/* value_type */,
!     int *		/* table_type_return */
  #endif
  );
  
--- 2847,2854 ----
      unsigned int 		/* start */,
      unsigned int 		/* count */,
      int 		/* value_type */,
!     int *		/* table_type_return */,
!     PEXPointer *		/* entries_return */
  #endif
  );
  
***************
*** 2770,2776 ****
      Display *		/* display */,
      Drawable 		/* drawable */,
      int 		/* table_type */,
!     PEXTableInfo *	/* info_return */
  #endif
  );
  
--- 2868,2874 ----
      Display *		/* display */,
      Drawable 		/* drawable */,
      int 		/* table_type */,
!     PEXTableInfo *		/* info_return */
  #endif
  );
  
***************
*** 2790,2800 ****
  #endif
  );
  
! extern PEXWorkstation *PEXGetWorkstationPostings(
  #if NeedFunctionPrototypes
      Display *		/* display */,
      PEXStructure 		/* structure */,
!     unsigned long *		/* count_return */
  #endif
  );
  
--- 2888,2899 ----
  #endif
  );
  
! extern Status PEXGetWorkstationPostings(
  #if NeedFunctionPrototypes
      Display *		/* display */,
      PEXStructure 		/* structure */,
!     unsigned long *		/* count_return */,
!     PEXWorkstation **		/* postings_return */
  #endif
  );
  
***************
*** 2809,2820 ****
  #endif
  );
  
! extern Status PEXInitialize(
  #if NeedFunctionPrototypes
!     Display *		/* display */
  #endif
  );
  
  extern void PEXLabel(
  #if NeedFunctionPrototypes
      Display *		/* display */,
--- 2908,2948 ----
  #endif
  );
  
! extern void PEXIdentityMatrix(
  #if NeedFunctionPrototypes
!     PEXMatrix 		/* transform_return */
  #endif
  );
  
+ extern void PEXIdentityMatrix2D(
+ #if NeedFunctionPrototypes
+     PEXMatrix3x3 		/* transform_return */
+ #endif
+ );
+ 
+ extern int PEXInitialize(
+ #if NeedFunctionPrototypes
+     Display *		/* display */,
+     PEXExtensionInfo **		/* info_return */,
+     int 		/* length */,
+     char *		/* error_string */
+ #endif
+ );
+ 
+ extern int PEXInvertMatrix(
+ #if NeedFunctionPrototypes
+     PEXMatrix 		/* transform */,
+     PEXMatrix 		/* transform_return */
+ #endif
+ );
+ 
+ extern int PEXInvertMatrix2D(
+ #if NeedFunctionPrototypes
+     PEXMatrix3x3 		/* transform */,
+     PEXMatrix3x3 		/* transform_return */
+ #endif
+ );
+ 
  extern void PEXLabel(
  #if NeedFunctionPrototypes
      Display *		/* display */,
***************
*** 2850,2867 ****
  #endif
  );
  
! extern PEXCoord *PEXMapDCToWC(
  #if NeedFunctionPrototypes
      Display *		/* display */,
      PEXWorkstation 		/* workstation */,
      unsigned long 		/* dc_count */,
      PEXDeviceCoord *		/* dc_points */,
      unsigned int *		/* view_index_return */,
!     unsigned long *		/* wc_count_return */
  #endif
  );
  
! extern PEXDeviceCoord *PEXMapWCToDC(
  #if NeedFunctionPrototypes
      Display *		/* display */,
      PEXWorkstation 		/* workstation */,
--- 2978,3005 ----
  #endif
  );
  
! extern int PEXLookAtViewMatrix(
  #if NeedFunctionPrototypes
+     PEXCoord *		/* from */,
+     PEXCoord *		/* to */,
+     PEXVector *		/* up */,
+     PEXMatrix 		/* matrix_return */
+ #endif
+ );
+ 
+ extern Status PEXMapDCToWC(
+ #if NeedFunctionPrototypes
      Display *		/* display */,
      PEXWorkstation 		/* workstation */,
      unsigned long 		/* dc_count */,
      PEXDeviceCoord *		/* dc_points */,
      unsigned int *		/* view_index_return */,
!     unsigned long *		/* wc_count_return */,
!     PEXCoord **		/* wc_points_return */
  #endif
  );
  
! extern Status PEXMapWCToDC(
  #if NeedFunctionPrototypes
      Display *		/* display */,
      PEXWorkstation 		/* workstation */,
***************
*** 2868,2877 ****
      unsigned long 		/* wc_count */,
      PEXCoord *		/* wc_points */,
      unsigned int 		/* view_index */,
!     unsigned long *		/* dc_count_return */
  #endif
  );
  
  extern void PEXMarkers(
  #if NeedFunctionPrototypes
      Display *		/* display */,
--- 3006,3047 ----
      unsigned long 		/* wc_count */,
      PEXCoord *		/* wc_points */,
      unsigned int 		/* view_index */,
!     unsigned long *		/* dc_count_return */,
!     PEXDeviceCoord **		/* dc_points_return */
  #endif
  );
  
+ extern int PEXMapXCToNPC(
+ #if NeedFunctionPrototypes
+     int 		/* point_count */,
+     PEXDeviceCoord2D *		/* points */,
+     unsigned int 		/* window_height */,
+     double 		/* z_dc */,
+     PEXDeviceCoord *		/* viewport */,
+     PEXNPCSubVolume *		/* npc_sub_volume */,
+     int 		/* view_count */,
+     PEXViewEntry *		/* views */,
+     int *		/* view_return */,
+     int *		/* count_return */,
+     PEXCoord *		/* points_return */
+ #endif
+ );
+ 
+ extern int PEXMapXCToNPC2D(
+ #if NeedFunctionPrototypes
+     int 		/* point_count */,
+     PEXDeviceCoord2D *		/* points */,
+     unsigned int 		/* window_height */,
+     PEXDeviceCoord2D *		/* viewport */,
+     PEXNPCSubVolume *		/* npc_sub_volume */,
+     int 		/* view_count */,
+     PEXViewEntry *		/* views */,
+     int *		/* view_return */,
+     int *		/* count_return */,
+     PEXCoord2D *		/* points_return */
+ #endif
+ );
+ 
  extern void PEXMarkers(
  #if NeedFunctionPrototypes
      Display *		/* display */,
***************
*** 2892,2898 ****
  #endif
  );
  
! extern PEXRenderingTarget *PEXMatchRenderingTargets(
  #if NeedFunctionPrototypes
      Display *		/* display */,
      Drawable 		/* drawable */,
--- 3062,3068 ----
  #endif
  );
  
! extern Status PEXMatchRenderingTargets(
  #if NeedFunctionPrototypes
      Display *		/* display */,
      Drawable 		/* drawable */,
***************
*** 2900,2909 ****
      int 		/* type */,
      Visual *		/* visual */,
      unsigned long 		/* max_targets */,
!     unsigned long *		/* count_return */
  #endif
  );
  
  extern void PEXNURBCurve(
  #if NeedFunctionPrototypes
      Display *		/* display */,
--- 3070,3114 ----
      int 		/* type */,
      Visual *		/* visual */,
      unsigned long 		/* max_targets */,
!     unsigned long *		/* count_return */,
!     PEXRenderingTarget **		/* targets_return */
  #endif
  );
  
+ extern void PEXMatrixMult(
+ #if NeedFunctionPrototypes
+     PEXMatrix 		/* matrix1 */,
+     PEXMatrix 		/* matrix2 */,
+     PEXMatrix 		/* matrix_return */
+ #endif
+ );
+ 
+ extern void PEXMatrixMult2D(
+ #if NeedFunctionPrototypes
+     PEXMatrix3x3 		/* matrix1 */,
+     PEXMatrix3x3 		/* matrix2 */,
+     PEXMatrix3x3 		/* matrix_return */
+ #endif
+ );
+ 
+ extern int PEXNPCToXCTransform(
+ #if NeedFunctionPrototypes
+     PEXNPCSubVolume *		/* npc_sub_volume */,
+     PEXDeviceCoord *		/* viewport */,
+     unsigned int 		/* window_height */,
+     PEXMatrix 		/* transform_return */
+ #endif
+ );
+ 
+ extern int PEXNPCToXCTransform2D(
+ #if NeedFunctionPrototypes
+     PEXNPCSubVolume *		/* npc_sub_volume */,
+     PEXDeviceCoord2D *		/* viewport */,
+     unsigned int 		/* window_height */,
+     PEXMatrix3x3 		/* transform_return */
+ #endif
+ );
+ 
  extern void PEXNURBCurve(
  #if NeedFunctionPrototypes
      Display *		/* display */,
***************
*** 2932,2938 ****
      unsigned int 		/* col_count */,
      unsigned int 		/* row_count */,
      PEXArrayOfCoord 		/* points */,
!     unsigned long 		/* curve_count */,
      PEXListOfTrimCurve *		/* trim_curves */
  #endif
  );
--- 3137,3143 ----
      unsigned int 		/* col_count */,
      unsigned int 		/* row_count */,
      PEXArrayOfCoord 		/* points */,
!     unsigned int 		/* curve_count */,
      PEXListOfTrimCurve *		/* trim_curves */
  #endif
  );
***************
*** 2945,2950 ****
--- 3150,3192 ----
  #endif
  );
  
+ extern int PEXNormalizeVectors(
+ #if NeedFunctionPrototypes
+     int 		/* count */,
+     PEXVector *		/* vectors */,
+     PEXVector *		/* vectors_return */
+ #endif
+ );
+ 
+ extern int PEXNormalizeVectors2D(
+ #if NeedFunctionPrototypes
+     int 		/* count */,
+     PEXVector2D *		/* vectors */,
+     PEXVector2D *		/* vectors_return */
+ #endif
+ );
+ 
+ extern int PEXOrthoProjMatrix(
+ #if NeedFunctionPrototypes
+     double 		/* height */,
+     double 		/* aspect */,
+     double 		/* near */,
+     double 		/* far */,
+     PEXMatrix 		/* matrix_return */
+ #endif
+ );
+ 
+ extern int PEXPerspProjMatrix(
+ #if NeedFunctionPrototypes
+     double 		/* fovy */,
+     double 		/* distance */,
+     double 		/* aspect */,
+     double 		/* near */,
+     double 		/* far */,
+     PEXMatrix 		/* matrix_return */
+ #endif
+ );
+ 
  extern PEXPickPath *PEXPickAll(
  #if NeedFunctionPrototypes
      Display *		/* display */,
***************
*** 2974,2979 ****
--- 3216,3232 ----
  #endif
  );
  
+ extern int PEXPolarViewMatrix(
+ #if NeedFunctionPrototypes
+     PEXCoord *		/* from */,
+     double 		/* distance */,
+     double 		/* azimuth */,
+     double 		/* altitude */,
+     double 		/* twist */,
+     PEXMatrix 		/* matrix_return */
+ #endif
+ );
+ 
  extern void PEXPolyline(
  #if NeedFunctionPrototypes
      Display *		/* display */,
***************
*** 3020,3026 ****
      Display *		/* display */,
      XID 		/* resource_id */,
      PEXOCRequestType 		/* req_type */,
!     int 		/* shape */,
      unsigned int 		/* facet_attributes */,
      unsigned int 		/* vertex_attributes */,
      int 		/* color_type */,
--- 3273,3279 ----
      Display *		/* display */,
      XID 		/* resource_id */,
      PEXOCRequestType 		/* req_type */,
!     int 		/* shape_hint */,
      unsigned int 		/* facet_attributes */,
      unsigned int 		/* vertex_attributes */,
      int 		/* color_type */,
***************
*** 3125,3134 ****
  #endif
  );
  
! extern PEXStructurePath *PEXSearchNetwork(
  #if NeedFunctionPrototypes
      Display *		/* display */,
!     PEXSearchContext 		/* context */
  #endif
  );
  
--- 3378,3426 ----
  #endif
  );
  
! extern int PEXRotate(
  #if NeedFunctionPrototypes
+     int 		/* axis */,
+     double 		/* angle */,
+     PEXMatrix 		/* matrix_return */
+ #endif
+ );
+ 
+ extern void PEXRotate2D(
+ #if NeedFunctionPrototypes
+     double 		/* angle */,
+     PEXMatrix3x3 		/* matrix_return */
+ #endif
+ );
+ 
+ extern int PEXRotateGeneral(
+ #if NeedFunctionPrototypes
+     PEXCoord *		/* point1 */,
+     PEXCoord *		/* point2 */,
+     double 		/* angle */,
+     PEXMatrix 		/* matrix_return */
+ #endif
+ );
+ 
+ extern void PEXScale(
+ #if NeedFunctionPrototypes
+     PEXVector *		/* scale_vector */,
+     PEXMatrix 		/* matrix_return */
+ #endif
+ );
+ 
+ extern void PEXScale2D(
+ #if NeedFunctionPrototypes
+     PEXVector2D *		/* scale_vector */,
+     PEXMatrix3x3 		/* matrix_return */
+ #endif
+ );
+ 
+ extern Status PEXSearchNetwork(
+ #if NeedFunctionPrototypes
      Display *		/* display */,
!     PEXSearchContext 		/* context */,
!     PEXStructurePath **		/* path_return */
  #endif
  );
  
***************
*** 3582,3588 ****
      Display *		/* display */,
      XID 		/* resource_id */,
      PEXOCRequestType 		/* req_type */,
!     int 		/* operator */,
      unsigned int 		/* count */,
      PEXHalfSpace *		/* half_spaces */
  #endif
--- 3874,3880 ----
      Display *		/* display */,
      XID 		/* resource_id */,
      PEXOCRequestType 		/* req_type */,
!     int 		/* op */,
      unsigned int 		/* count */,
      PEXHalfSpace *		/* half_spaces */
  #endif
***************
*** 3593,3599 ****
      Display *		/* display */,
      XID 		/* resource_id */,
      PEXOCRequestType 		/* req_type */,
!     int 		/* operator */,
      unsigned int 		/* count */,
      PEXHalfSpace2D *		/* half_spaces */
  #endif
--- 3885,3891 ----
      Display *		/* display */,
      XID 		/* resource_id */,
      PEXOCRequestType 		/* req_type */,
!     int 		/* op */,
      unsigned int 		/* count */,
      PEXHalfSpace2D *		/* half_spaces */
  #endif
***************
*** 3970,3975 ****
--- 4262,4335 ----
  #endif
  );
  
+ extern int PEXTransformPoints(
+ #if NeedFunctionPrototypes
+     PEXMatrix 		/* transform */,
+     int 		/* count */,
+     PEXCoord *		/* points */,
+     PEXCoord *		/* points_return */
+ #endif
+ );
+ 
+ extern int PEXTransformPoints2D(
+ #if NeedFunctionPrototypes
+     PEXMatrix3x3 		/* transform */,
+     int 		/* count */,
+     PEXCoord2D *		/* points */,
+     PEXCoord2D *		/* points_return */
+ #endif
+ );
+ 
+ extern void PEXTransformPoints2DH(
+ #if NeedFunctionPrototypes
+     PEXMatrix3x3 		/* transform */,
+     int 		/* count */,
+     PEXCoord *		/* points */,
+     PEXCoord *		/* points_return */
+ #endif
+ );
+ 
+ extern void PEXTransformPoints4D(
+ #if NeedFunctionPrototypes
+     PEXMatrix 		/* transform */,
+     int 		/* count */,
+     PEXCoord4D *		/* points */,
+     PEXCoord4D *		/* points_return */
+ #endif
+ );
+ 
+ extern void PEXTransformVectors(
+ #if NeedFunctionPrototypes
+     PEXMatrix 		/* transform */,
+     int 		/* count */,
+     PEXVector *		/* vectors */,
+     PEXVector *		/* vectors_return */
+ #endif
+ );
+ 
+ extern void PEXTransformVectors2D(
+ #if NeedFunctionPrototypes
+     PEXMatrix3x3 		/* transform */,
+     int 		/* count */,
+     PEXVector2D *		/* vectors */,
+     PEXVector2D *		/* vectors_return */
+ #endif
+ );
+ 
+ extern void PEXTranslate(
+ #if NeedFunctionPrototypes
+     PEXVector *		/* trans_vector */,
+     PEXMatrix 		/* matrix_return */
+ #endif
+ );
+ 
+ extern void PEXTranslate2D(
+ #if NeedFunctionPrototypes
+     PEXVector2D *		/* trans_vector */,
+     PEXMatrix3x3 		/* matrix_return */
+ #endif
+ );
+ 
  extern void PEXTriangleStrip(
  #if NeedFunctionPrototypes
      Display *		/* display */,
***************
*** 3979,3985 ****
      unsigned int 		/* vertex_attributes */,
      int 		/* color_type */,
      PEXArrayOfFacetData 		/* facet_data */,
!     unsigned long 		/* count */,
      PEXArrayOfVertex 		/* vertices */
  #endif
  );
--- 4339,4345 ----
      unsigned int 		/* vertex_attributes */,
      int 		/* color_type */,
      PEXArrayOfFacetData 		/* facet_data */,
!     unsigned int 		/* count */,
      PEXArrayOfVertex 		/* vertices */
  #endif
  );
***************
*** 4019,4024 ****
--- 4379,4448 ----
  #if NeedFunctionPrototypes
      Display *		/* display */,
      PEXWorkstation 		/* workstation */
+ #endif
+ );
+ 
+ extern int PEXViewMappingMatrix(
+ #if NeedFunctionPrototypes
+     PEXCoord2D *		/* frame */,
+     PEXNPCSubVolume *		/* viewport */,
+     int 		/* perspective */,
+     PEXCoord *		/* prp */,
+     double 		/* view_plane */,
+     double 		/* back_plane */,
+     double 		/* front_plane */,
+     PEXMatrix 		/* matrix_return */
+ #endif
+ );
+ 
+ extern int PEXViewMappingMatrix2D(
+ #if NeedFunctionPrototypes
+     PEXCoord2D *		/* frame */,
+     PEXCoord2D *		/* viewport */,
+     PEXMatrix3x3 		/* matrix_return */
+ #endif
+ );
+ 
+ extern int PEXViewOrientationMatrix(
+ #if NeedFunctionPrototypes
+     PEXCoord *		/* vrp */,
+     PEXVector *		/* vpn */,
+     PEXVector *		/* vup */,
+     PEXMatrix 		/* matrix_return */
+ #endif
+ );
+ 
+ extern int PEXViewOrientationMatrix2D(
+ #if NeedFunctionPrototypes
+     PEXCoord2D *		/* vrp */,
+     PEXVector2D *		/* vup */,
+     PEXMatrix3x3 		/* matrix_return */
+ #endif
+ );
+ 
+ extern int PEXXCToNPCTransform(
+ #if NeedFunctionPrototypes
+     PEXNPCSubVolume *		/* npc_sub_volume */,
+     PEXDeviceCoord *		/* viewport */,
+     unsigned int 		/* window_height */,
+     PEXMatrix 		/* transform_return */
+ #endif
+ );
+ 
+ extern int PEXXCToNPCTransform2D(
+ #if NeedFunctionPrototypes
+     PEXNPCSubVolume *		/* npc_sub_volume */,
+     PEXDeviceCoord2D *		/* viewport */,
+     unsigned int 		/* window_height */,
+     PEXMatrix3x3 		/* transform_return */
+ #endif
+ );
+ 
+ extern unsigned long PEXCountOCs(
+ #if NeedFunctionPrototypes
+     int 		/* float_format */,
+     unsigned long 		/* length */,
+     char *		/* encoded_ocs */
  #endif
  );
  
*** /tmp/da01493	Mon Aug 10 17:23:14 1992
--- extensions/lib/PEXlib/PEX.h	Thu Jul 16 11:09:08 1992
***************
*** 1,22 ****
  #ifndef PEX_H
  #define PEX_H
  
! /* $XConsortium: PEX.h,v 1.4 92/06/12 10:39:45 mor Exp $ */
  
  /******************************************************************************/
  /*  Copyright 1987,1991 by Digital Equipment Corporation, Maynard, Mass.      */
  /*                                                                            */
  /*  (c) Copyright Hewlett-Packard Company, 1992,  Fort Collins, Colorado      */
  /*                                                                            */
  /*                            All Rights Reserved                             */
  /*                                                                            */
! /*  Permission to use, copy, modify, and distribute this software and its     */
! /*  documentation for any purpose and without fee is hereby granted,          */
! /*  provided that the above copyright notices appear in all copies and that   */
! /*  both the copyright notices and this permission notice appear in           */
! /*  supporting documentation, and that the names of Digital or                */
! /*  Hewlett-Packard not be used in advertising or publicity pertaining to     */
! /*  distribution of the software without specific, written prior permission.  */
  /*                                                                            */
  /*  DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING  */
  /*  ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL  */
--- 1,26 ----
  #ifndef PEX_H
  #define PEX_H
  
! /* $XConsortium: PEX.h,v 1.5 92/07/16 11:13:30 mor Exp $ */
  
  /******************************************************************************/
  /*  Copyright 1987,1991 by Digital Equipment Corporation, Maynard, Mass.      */
  /*                                                                            */
  /*  (c) Copyright Hewlett-Packard Company, 1992,  Fort Collins, Colorado      */
+ /*									      */
+ /*  Copyright 1992 by the Massachusetts Institute of Technology		      */
  /*                                                                            */
  /*                            All Rights Reserved                             */
  /*                                                                            */
! /*  Permission to use, copy, modify, distribute, and sell this software and   */
! /*  its documentation for any purpose is hereby granted without fee, provided */
! /*  that the above copyright notice appear in all copies and that both that   */
! /*  copyright notice and this permission notice appear in supporting          */
! /*  documentation, and that the name of M.I.T. not be used in advertising or  */
! /*  publicity pertaining to distribution of the software without specific,    */
! /*  written prior permission.  M.I.T. makes no representations about the      */
! /*  suitability of this software for any purpose.  It is provided "as is"     */
! /*  without express or implied warranty.                                      */
  /*                                                                            */
  /*  DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING  */
  /*  ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL  */
*** /tmp/da01512	Mon Aug 10 17:23:18 1992
--- extensions/lib/PEXlib/pl_oc_enc.c	Thu Aug  6 22:51:17 1992
***************
*** 1,21 ****
! /* $XConsortium: pl_oc_enc.c,v 1.1 92/06/12 15:26:59 mor Exp $ */
  
! /************************************************************************
! Copyright 1992 by the Massachusetts Institute of Technology,
! Cambridge, Massachusetts.
  
                          All Rights Reserved
  
! Permission to use, copy, modify, and distribute this software and its 
! documentation for any purpose and without fee is hereby granted, 
! provided that the above copyright notice appear in all copies and that
! both that copyright notice and this permission notice appear in 
! supporting documentation, and that the name of MIT not be used in
! advertising or publicity pertaining to distribution of the software
! without specific, written prior permission.  
  
- *************************************************************************/
- 
  #include "PEXlib.h"
  #include "PEXlibint.h"
  #include "pl_oc_util.h"
--- 1,21 ----
! /* $XConsortium: pl_oc_enc.c,v 1.4 92/08/06 22:56:31 mor Exp $ */
  
! /******************************************************************************
! Copyright 1992 by the Massachusetts Institute of Technology
  
                          All Rights Reserved
  
! Permission to use, copy, modify, distribute, and sell this software and its
! documentation for any purpose is hereby granted without fee, provided that
! the above copyright notice appear in all copies and that both that
! copyright notice and this permission notice appear in supporting
! documentation, and that the name of M.I.T. not be used in advertising or
! publicity pertaining to distribution of the software without specific,
! written prior permission.  M.I.T. makes no representations about the
! suitability of this software for any purpose.  It is provided "as is"
! without express or implied warranty.
! ******************************************************************************/
  
  #include "PEXlib.h"
  #include "PEXlibint.h"
  #include "pl_oc_util.h"
***************
*** 393,399 ****
      PEXInitEncodeOC (*ocDest, PEXOCModelClipVolume,
  	LENOF (pexModelClipVolume), lenofData, pexModelClipVolume, pInfo);
      
!     pInfo->modelClipOperator = ocSrc->data.SetModelClipVolume.operator;
      pInfo->numHalfSpaces = ocSrc->data.SetModelClipVolume.count;
      
      PEXEncodeWords ((char *) ocSrc->data.SetModelClipVolume.half_spaces,
--- 393,399 ----
      PEXInitEncodeOC (*ocDest, PEXOCModelClipVolume,
  	LENOF (pexModelClipVolume), lenofData, pexModelClipVolume, pInfo);
      
!     pInfo->modelClipOperator = ocSrc->data.SetModelClipVolume.op;
      pInfo->numHalfSpaces = ocSrc->data.SetModelClipVolume.count;
      
      PEXEncodeWords ((char *) ocSrc->data.SetModelClipVolume.half_spaces,
***************
*** 417,423 ****
      PEXInitEncodeOC (*ocDest, PEXOCModelClipVolume2D,
  	LENOF (pexModelClipVolume2D), lenofData, pexModelClipVolume2D, pInfo);
      
!     pInfo->modelClipOperator = ocSrc->data.SetModelClipVolume2D.operator;
      pInfo->numHalfSpaces = ocSrc->data.SetModelClipVolume2D.count;
      
      PEXEncodeWords ((char *) ocSrc->data.SetModelClipVolume2D.half_spaces,
--- 417,423 ----
      PEXInitEncodeOC (*ocDest, PEXOCModelClipVolume2D,
  	LENOF (pexModelClipVolume2D), lenofData, pexModelClipVolume2D, pInfo);
      
!     pInfo->modelClipOperator = ocSrc->data.SetModelClipVolume2D.op;
      pInfo->numHalfSpaces = ocSrc->data.SetModelClipVolume2D.count;
      
      PEXEncodeWords ((char *) ocSrc->data.SetModelClipVolume2D.half_spaces,
***************
*** 1199,1206 ****
  	pexQuadrilateralMesh, pInfo);
      
      pInfo->colorType = colorType;
!     pInfo->mPts = rowCount;
!     pInfo->nPts = colCount;
      pInfo->facetAttribs = facetAttributes;
      pInfo->vertexAttribs = vertexAttributes;
      pInfo->shape = ocSrc->data.QuadrilateralMesh.shape_hint;
--- 1199,1206 ----
  	pexQuadrilateralMesh, pInfo);
      
      pInfo->colorType = colorType;
!     pInfo->mPts = colCount;
!     pInfo->nPts = rowCount;
      pInfo->facetAttribs = facetAttributes;
      pInfo->vertexAttribs = vertexAttributes;
      pInfo->shape = ocSrc->data.QuadrilateralMesh.shape_hint;
*** /tmp/da01531	Mon Aug 10 17:23:22 1992
--- extensions/lib/PEXlib/pl_font.c	Thu Jul 16 11:00:38 1992
***************
*** 1,19 ****
! /* $XConsortium: pl_font.c,v 1.3 92/06/12 10:35:01 mor Exp $ */
  
! /************************************************************************
! Copyright 1987,1991,1992 by Digital Equipment Corporation, Maynard,
! Massachusetts, and the Massachusetts Institute of Technology,
! Cambridge, Massachusetts.
  
                          All Rights Reserved
  
! Permission to use, copy, modify, and distribute this software and its 
! documentation for any purpose and without fee is hereby granted, 
! provided that the above copyright notice appear in all copies and that
! both that copyright notice and this permission notice appear in 
! supporting documentation, and that the names of Digital or MIT not be
! used in advertising or publicity pertaining to distribution of the
! software without specific, written prior permission.  
  
  DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
  ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
--- 1,20 ----
! /* $XConsortium: pl_font.c,v 1.4 92/07/16 11:05:06 mor Exp $ */
  
! /******************************************************************************
! Copyright 1987,1991 by Digital Equipment Corporation, Maynard, Massachusetts
! Copyright 1992 by the Massachusetts Institute of Technology
  
                          All Rights Reserved
  
! Permission to use, copy, modify, distribute, and sell this software and its
! documentation for any purpose is hereby granted without fee, provided that
! the above copyright notice appear in all copies and that both that
! copyright notice and this permission notice appear in supporting
! documentation, and that the name of M.I.T. not be used in advertising or
! publicity pertaining to distribution of the software without specific,
! written prior permission.  M.I.T. makes no representations about the
! suitability of this software for any purpose.  It is provided "as is"
! without express or implied warranty.
  
  DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
  ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
***************
*** 22,29 ****
  WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION,
  ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS
  SOFTWARE.
! 
! *************************************************************************/
  
  #include "PEXlib.h"
  #include "PEXlibint.h"
--- 23,29 ----
  WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION,
  ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS
  SOFTWARE.
! ******************************************************************************/
  
  #include "PEXlib.h"
  #include "PEXlibint.h"
*** /tmp/da01550	Mon Aug 10 17:23:26 1992
--- extensions/lib/PEXlib/PEXlibint.h	Thu Jul 16 11:02:21 1992
***************
*** 1,19 ****
! /* $XConsortium: PEXlibint.h,v 1.6 92/06/30 12:40:49 mor Exp $ */
  
! /************************************************************************
! Copyright 1987,1991,1992 by Digital Equipment Corporation, Maynard,
! Massachusetts, and the Massachusetts Institute of Technology,
! Cambridge, Massachusetts.
  
                          All Rights Reserved
  
! Permission to use, copy, modify, and distribute this software and its 
! documentation for any purpose and without fee is hereby granted, 
! provided that the above copyright notice appear in all copies and that
! both that copyright notice and this permission notice appear in 
! supporting documentation, and that the names of Digital or MIT not be
! used in advertising or publicity pertaining to distribution of the
! software without specific, written prior permission.  
  
  DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
  ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
--- 1,20 ----
! /* $XConsortium: PEXlibint.h,v 1.7 92/07/16 11:06:41 mor Exp $ */
  
! /******************************************************************************
! Copyright 1987,1991 by Digital Equipment Corporation, Maynard, Massachusetts
! Copyright 1992 by the Massachusetts Institute of Technology
  
                          All Rights Reserved
  
! Permission to use, copy, modify, distribute, and sell this software and its
! documentation for any purpose is hereby granted without fee, provided that
! the above copyright notice appear in all copies and that both that
! copyright notice and this permission notice appear in supporting
! documentation, and that the name of M.I.T. not be used in advertising or
! publicity pertaining to distribution of the software without specific,
! written prior permission.  M.I.T. makes no representations about the
! suitability of this software for any purpose.  It is provided "as is"
! without express or implied warranty.
  
  DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
  ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
***************
*** 22,30 ****
  WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION,
  ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS
  SOFTWARE.
  
- *************************************************************************/
- 
  #ifndef PEXLIBINT_H
  #define PEXLIBINT_H
  
--- 23,30 ----
  WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION,
  ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS
  SOFTWARE.
+ ******************************************************************************/
  
  #ifndef PEXLIBINT_H
  #define PEXLIBINT_H
  
***************
*** 535,540 ****
--- 535,541 ----
  
  #define INPUT  
  #define OUTPUT  
+ #define INOUT
  
  
  /*
*** /tmp/da01569	Mon Aug 10 17:23:30 1992
--- extensions/lib/PEXlib/PEXproto.h	Thu Jul 16 11:04:18 1992
***************
*** 1,18 ****
! /* $XConsortium: PEXproto.h,v 1.3 92/06/12 10:38:10 mor Exp $ */
  
! /***********************************************************
! Copyright 1989, 1990, 1991 by Sun Microsystems, Inc. and the X Consortium.
  
                          All Rights Reserved
  
! Permission to use, copy, modify, and distribute this software and its 
! documentation for any purpose and without fee is hereby granted, 
! provided that the above copyright notice appear in all copies and that
! both that copyright notice and this permission notice appear in 
! supporting documentation, and that the names of Sun Microsystems,
! the X Consortium, and MIT not be used in advertising or publicity 
! pertaining to distribution of the software without specific, written 
! prior permission.  
  
  SUN MICROSYSTEMS DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, 
  INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT 
--- 1,20 ----
! /* $XConsortium: PEXproto.h,v 1.4 92/07/16 11:08:43 mor Exp $ */
  
! /******************************************************************************
! Copyright 1989, 1990, 1991 by Sun Microsystems, Inc.
! Copyright 1992 by the Massachusetts Institute of Technology
  
                          All Rights Reserved
  
! Permission to use, copy, modify, distribute, and sell this software and its
! documentation for any purpose is hereby granted without fee, provided that
! the above copyright notice appear in all copies and that both that
! copyright notice and this permission notice appear in supporting
! documentation, and that the name of M.I.T. not be used in advertising or
! publicity pertaining to distribution of the software without specific,
! written prior permission.  M.I.T. makes no representations about the
! suitability of this software for any purpose.  It is provided "as is"
! without express or implied warranty.
  
  SUN MICROSYSTEMS DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, 
  INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT 
***************
*** 21,28 ****
  WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION,
  ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS
  SOFTWARE.
! 
! ******************************************************************/
  
  /* Definitions for the PEX used by server and c bindings */
  
--- 23,29 ----
  WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION,
  ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS
  SOFTWARE.
! ******************************************************************************/
  
  /* Definitions for the PEX used by server and c bindings */
  
*** /tmp/da01588	Mon Aug 10 17:23:34 1992
--- extensions/lib/PEXlib/PEXprotost.h	Thu Jul 16 11:05:10 1992
***************
*** 1,19 ****
! /* $XConsortium: PEXprotost.h,v 1.2 92/06/12 10:52:12 mor Exp $ */
  
  
- /***********************************************************
- Copyright 1989, 1990, 1991 by Sun Microsystems, Inc. and the X Consortium.
- 
                          All Rights Reserved
  
! Permission to use, copy, modify, and distribute this software and its 
! documentation for any purpose and without fee is hereby granted, 
! provided that the above copyright notice appear in all copies and that
! both that copyright notice and this permission notice appear in 
! supporting documentation, and that the names of Sun Microsystems,
! the X Consortium, and MIT not be used in advertising or publicity 
! pertaining to distribution of the software without specific, written 
! prior permission.  
  
  SUN MICROSYSTEMS DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, 
  INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT 
--- 1,20 ----
! /* $XConsortium: PEXprotost.h,v 1.3 92/07/16 11:09:39 mor Exp $ */
  
+ /******************************************************************************
+ Copyright 1989, 1990, 1991 by Sun Microsystems, Inc.
+ Copyright 1992 by the Massachusetts Institute of Technology
  
                          All Rights Reserved
  
! Permission to use, copy, modify, distribute, and sell this software and its
! documentation for any purpose is hereby granted without fee, provided that
! the above copyright notice appear in all copies and that both that
! copyright notice and this permission notice appear in supporting
! documentation, and that the name of M.I.T. not be used in advertising or
! publicity pertaining to distribution of the software without specific,
! written prior permission.  M.I.T. makes no representations about the
! suitability of this software for any purpose.  It is provided "as is"
! without express or implied warranty.
  
  SUN MICROSYSTEMS DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, 
  INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT 
***************
*** 22,29 ****
  WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION,
  ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS
  SOFTWARE.
! 
! ******************************************************************/
  
  #ifndef PEXPROTOSTR_H
  #define PEXPROTOSTR_H
--- 23,29 ----
  WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION,
  ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS
  SOFTWARE.
! ******************************************************************************/
  
  #ifndef PEXPROTOSTR_H
  #define PEXPROTOSTR_H
*** /tmp/da01607	Mon Aug 10 17:23:37 1992
--- extensions/lib/PEXlib/pl_escape.c	Thu Jul 16 11:01:14 1992
***************
*** 1,19 ****
! /* $XConsortium: pl_escape.c,v 1.3 92/06/12 10:41:12 mor Exp $ */
  
  /************************************************************************
! Copyright 1992 by the Massachusetts Institute of Technology,
! Cambridge, Massachusetts.
  
                          All Rights Reserved
  
! Permission to use, copy, modify, and distribute this software and its 
! documentation for any purpose and without fee is hereby granted, 
! provided that the above copyright notice appear in all copies and that
! both that copyright notice and this permission notice appear in 
! supporting documentation, and that the name of MIT not be used in
! advertising or publicity pertaining to distribution of the software
! without specific, written prior permission.  
! 
  *************************************************************************/
  
  #include "PEXlib.h"
--- 1,19 ----
! /* $XConsortium: pl_escape.c,v 1.4 92/07/16 11:05:44 mor Exp $ */
  
  /************************************************************************
! Copyright 1992 by the Massachusetts Institute of Technology
  
                          All Rights Reserved
  
! Permission to use, copy, modify, distribute, and sell this software and its
! documentation for any purpose is hereby granted without fee, provided that
! the above copyright notice appear in all copies and that both that
! copyright notice and this permission notice appear in supporting
! documentation, and that the name of M.I.T. not be used in advertising or
! publicity pertaining to distribution of the software without specific,
! written prior permission.  M.I.T. makes no representations about the
! suitability of this software for any purpose.  It is provided "as is"
! without express or implied warranty.
  *************************************************************************/
  
  #include "PEXlib.h"
*** /tmp/da01626	Mon Aug 10 17:23:40 1992
--- extensions/lib/PEXlib/pl_free.c	Thu Jul 16 11:00:14 1992
***************
*** 1,20 ****
! /* $XConsortium: pl_free.c,v 1.5 92/06/30 15:53:03 mor Exp $ */
  
! /************************************************************************
! Copyright 1992 by the Massachusetts Institute of Technology,
! Cambridge, Massachusetts.
  
                          All Rights Reserved
  
! Permission to use, copy, modify, and distribute this software and its 
! documentation for any purpose and without fee is hereby granted, 
! provided that the above copyright notice appear in all copies and that
! both that copyright notice and this permission notice appear in 
! supporting documentation, and that the name of MIT not be used in
! advertising or publicity pertaining to distribution of the software
! without specific, written prior permission.  
! 
! *************************************************************************/
  
  #include "PEXlib.h"
  #include "PEXlibint.h"
--- 1,20 ----
! /* $XConsortium: pl_free.c,v 1.6 92/07/16 11:04:44 mor Exp $ */
  
! /******************************************************************************
! Copyright 1992 by the Massachusetts Institute of Technology
  
                          All Rights Reserved
  
! Permission to use, copy, modify, distribute, and sell this software and its
! documentation for any purpose is hereby granted without fee, provided that
! the above copyright notice appear in all copies and that both that
! copyright notice and this permission notice appear in supporting
! documentation, and that the name of M.I.T. not be used in advertising or
! publicity pertaining to distribution of the software without specific,
! written prior permission.  M.I.T. makes no representations about the
! suitability of this software for any purpose.  It is provided "as is"
! without express or implied warranty.
! ******************************************************************************/
  
  #include "PEXlib.h"
  #include "PEXlibint.h"
*** /tmp/da01645	Mon Aug 10 17:23:43 1992
--- extensions/lib/PEXlib/pl_lut.c	Fri Jul 24 14:00:35 1992
***************
*** 1,19 ****
! /* $XConsortium: pl_lut.c,v 1.4 92/06/30 12:38:38 mor Exp $ */
  
! /************************************************************************
! Copyright 1987,1991,1992 by Digital Equipment Corporation, Maynard,
! Massachusetts, and the Massachusetts Institute of Technology,
! Cambridge, Massachusetts.
  
                          All Rights Reserved
  
! Permission to use, copy, modify, and distribute this software and its 
! documentation for any purpose and without fee is hereby granted, 
! provided that the above copyright notice appear in all copies and that
! both that copyright notice and this permission notice appear in 
! supporting documentation, and that the names of Digital or MIT not be
! used in advertising or publicity pertaining to distribution of the
! software without specific, written prior permission.  
  
  DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
  ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
--- 1,20 ----
! /* $XConsortium: pl_lut.c,v 1.6 92/07/24 14:03:43 mor Exp $ */
  
! /******************************************************************************
! Copyright 1987,1991 by Digital Equipment Corporation, Maynard, Massachusetts
! Copyright 1992 by the Massachusetts Institute of Technology
  
                          All Rights Reserved
  
! Permission to use, copy, modify, distribute, and sell this software and its
! documentation for any purpose is hereby granted without fee, provided that
! the above copyright notice appear in all copies and that both that
! copyright notice and this permission notice appear in supporting
! documentation, and that the name of M.I.T. not be used in advertising or
! publicity pertaining to distribution of the software without specific,
! written prior permission.  M.I.T. makes no representations about the
! suitability of this software for any purpose.  It is provided "as is"
! without express or implied warranty.
  
  DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
  ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
***************
*** 22,30 ****
  WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION,
  ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS
  SOFTWARE.
  
- *************************************************************************/
- 
  #include "PEXlib.h"
  #include "PEXlibint.h"
  
--- 23,30 ----
  WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION,
  ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS
  SOFTWARE.
+ ******************************************************************************/
  
  #include "PEXlib.h"
  #include "PEXlibint.h"
  
***************
*** 203,210 ****
  }
  
  
! PEXPointer
! PEXGetPredefinedEntries (display, d, type, start, count)
  
  INPUT Display		*display;
  INPUT Drawable		d;
--- 203,210 ----
  }
  
  
! Status
! PEXGetPredefinedEntries (display, d, type, start, count, entriesReturn)
  
  INPUT Display		*display;
  INPUT Drawable		d;
***************
*** 211,216 ****
--- 211,217 ----
  INPUT int		type;
  INPUT unsigned int	start;
  INPUT unsigned int	count;
+ OUTPUT PEXPointer	*entriesReturn;
  
  {
      pexGetPredefinedEntriesReq		*req;
***************
*** 217,223 ****
      pexGetPredefinedEntriesReply	rep;
      char				*pt;
      int					convertFP;
-     PEXPointer				entriesReturn;
  
  
      /*
--- 218,223 ----
***************
*** 241,247 ****
      {
  	UnlockDisplay (display);
  	PEXSyncHandle (display);
! 	return (NULL);          /* return an error */
      }
  
  
--- 241,248 ----
      {
  	UnlockDisplay (display);
  	PEXSyncHandle (display);
! 	*entriesReturn = NULL;
! 	return (0);          /* return an error */
      }
  
  
***************
*** 254,260 ****
  
      _XRead (display, (char *) pt, (long) (rep.length << 2));
  
!     entriesReturn = _PEXRepackLUTEntries (
  	(char *) pt, (int) rep.numEntries, type);
  
  
--- 255,261 ----
  
      _XRead (display, (char *) pt, (long) (rep.length << 2));
  
!     *entriesReturn = _PEXRepackLUTEntries (
  	(char *) pt, (int) rep.numEntries, type);
  
  
***************
*** 265,285 ****
      UnlockDisplay (display);
      PEXSyncHandle (display);
  
!     return (entriesReturn);
  }
  
  
! PEXTableIndex *
! PEXGetDefinedIndices (display, lut, numIndicesReturn)
  
  INPUT Display		*display;
  INPUT PEXLookupTable	lut;
  OUTPUT unsigned long	*numIndicesReturn;
  
  {
      pexGetDefinedIndicesReq	*req;
      pexGetDefinedIndicesReply	rep;
-     char			*pt;
  
  
      /*
--- 266,286 ----
      UnlockDisplay (display);
      PEXSyncHandle (display);
  
!     return (1);
  }
  
  
! Status
! PEXGetDefinedIndices (display, lut, numIndicesReturn, indicesReturn)
  
  INPUT Display		*display;
  INPUT PEXLookupTable	lut;
  OUTPUT unsigned long	*numIndicesReturn;
+ OUTPUT PEXTableIndex	**indicesReturn;
  
  {
      pexGetDefinedIndicesReq	*req;
      pexGetDefinedIndicesReply	rep;
  
  
      /*
***************
*** 301,307 ****
  	UnlockDisplay (display);
  	PEXSyncHandle (display);
  	*numIndicesReturn = 0;
! 	return (NULL);              /* return an error */
      }
  
      *numIndicesReturn = rep.numIndices;
--- 302,309 ----
  	UnlockDisplay (display);
  	PEXSyncHandle (display);
  	*numIndicesReturn = 0;
! 	*indicesReturn = NULL;
! 	return (0);              /* return an error */
      }
  
      *numIndicesReturn = rep.numIndices;
***************
*** 311,319 ****
       * Allocate a buffer for the replies to pass back to the user.
       */
  
!     pt = (char *) PEXAllocBuf ((unsigned) (rep.length << 2));
  
!     _XRead (display, (char *) pt, (long) (rep.length << 2));
  
  
      /*
--- 313,322 ----
       * Allocate a buffer for the replies to pass back to the user.
       */
  
!     *indicesReturn = (PEXTableIndex *) PEXAllocBuf (
! 	(unsigned) (rep.length << 2));
  
!     _XRead (display, (char *) *indicesReturn, (long) (rep.length << 2));
  
  
      /*
***************
*** 323,329 ****
      UnlockDisplay (display);
      PEXSyncHandle (display);
  
!     return ((PEXTableIndex *) pt);
  }
  
  
--- 326,332 ----
      UnlockDisplay (display);
      PEXSyncHandle (display);
  
!     return (1);
  }
  
  
***************
*** 396,403 ****
  }
  
  
! PEXPointer
! PEXGetTableEntries (display, lut, start, count, valueType, table_type_return)
  
  INPUT Display		*display;
  INPUT PEXLookupTable	lut;
--- 399,407 ----
  }
  
  
! Status
! PEXGetTableEntries (display, lut, start, count, valueType,
!     table_type_return, entriesReturn)
  
  INPUT Display		*display;
  INPUT PEXLookupTable	lut;
***************
*** 405,410 ****
--- 409,415 ----
  INPUT unsigned int	count;
  INPUT int		valueType;
  OUTPUT int		*table_type_return;
+ OUTPUT PEXPointer	*entriesReturn;
  
  {
      pexGetTableEntriesReq	*req;
***************
*** 411,417 ****
      pexGetTableEntriesReply	rep;
      char			*pt;
      int				convertFP;
-     PEXPointer			entriesReturn;
  
  
      /*
--- 416,421 ----
***************
*** 435,441 ****
      {
  	UnlockDisplay (display);
  	PEXSyncHandle (display);
! 	return (NULL);         /* return an error */
      }
  
      *table_type_return = rep.tableType;
--- 439,446 ----
      {
  	UnlockDisplay (display);
  	PEXSyncHandle (display);
! 	*entriesReturn = NULL;
! 	return (0);         /* return an error */
      }
  
      *table_type_return = rep.tableType;
***************
*** 450,456 ****
  
      _XRead (display, (char *) pt, (long) (rep.length << 2));
  
!     entriesReturn = _PEXRepackLUTEntries ((char *) pt, (int) rep.numEntries,
  	(int) rep.tableType);
  
  
--- 455,461 ----
  
      _XRead (display, (char *) pt, (long) (rep.length << 2));
  
!     *entriesReturn = _PEXRepackLUTEntries ((char *) pt, (int) rep.numEntries,
  	(int) rep.tableType);
  
  
***************
*** 461,467 ****
      UnlockDisplay (display);
      PEXSyncHandle (display);
  
!     return (entriesReturn);
  }
  
  
--- 466,472 ----
      UnlockDisplay (display);
      PEXSyncHandle (display);
  
!     return (1);
  }
  
  
*** /tmp/da01664	Mon Aug 10 17:23:47 1992
--- extensions/lib/PEXlib/pl_global_def.h	Fri Jul 24 14:11:27 1992
***************
*** 1,19 ****
! /* $XConsortium: pl_global_def.h,v 1.3 92/06/12 12:47:00 mor Exp $ */
  
! /************************************************************************
! Copyright 1987,1991,1992 by Digital Equipment Corporation, Maynard,
! Massachusetts, and the Massachusetts Institute of Technology,
! Cambridge, Massachusetts.
  
                          All Rights Reserved
  
! Permission to use, copy, modify, and distribute this software and its 
! documentation for any purpose and without fee is hereby granted, 
! provided that the above copyright notice appear in all copies and that
! both that copyright notice and this permission notice appear in 
! supporting documentation, and that the names of Digital or MIT not be
! used in advertising or publicity pertaining to distribution of the
! software without specific, written prior permission.  
  
  DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
  ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
--- 1,20 ----
! /* $XConsortium: pl_global_def.h,v 1.5 92/07/24 14:15:25 mor Exp $ */
  
! /******************************************************************************
! Copyright 1987,1991 by Digital Equipment Corporation, Maynard, Massachusetts
! Copyright 1992 by the Massachusetts Institute of Technology
  
                          All Rights Reserved
  
! Permission to use, copy, modify, distribute, and sell this software and its
! documentation for any purpose is hereby granted without fee, provided that
! the above copyright notice appear in all copies and that both that
! copyright notice and this permission notice appear in supporting
! documentation, and that the name of M.I.T. not be used in advertising or
! publicity pertaining to distribution of the software without specific,
! written prior permission.  M.I.T. makes no representations about the
! suitability of this software for any purpose.  It is provided "as is"
! without express or implied warranty.
  
  DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
  ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
***************
*** 22,30 ****
  WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION,
  ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS
  SOFTWARE.
  
- *************************************************************************/
- 
  /*
   * Header to linked list of open displays.
   */
--- 23,30 ----
  WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION,
  ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS
  SOFTWARE.
+ ******************************************************************************/
  
  /*
   * Header to linked list of open displays.
   */
***************
*** 39,82 ****
  PEXPickPath	*PEXPickCache = NULL;
  unsigned int	PEXPickCacheSize = 0;
  int		PEXPickCacheInUse = 0;
- 
- 
- /*
-  * PEX error messages.
-  */
- 
- char *PEXErrorList[(PEXMaxError + 1)] = {
-     /* ColorType */
-     "PEXColorTypeError, specified color type not supported",
-     /* RendererState */
-     "PEXRendererStateError, renderer not in proper state for operation",
-     /* FloatingPointFormat */
-     "PEXFloatingPointFormatError, specified fp format not supported",
-     /* Label */
-     "PEXLabelError, specified label not in structure",
-     /* LookupTable */
-     "LookupTableError, specified lookup table ID invalid",
-     /* NameSet */
-     "PEXNameSetError, specified nameset ID invalid",
-     /* Path */
-     "PEXPathError, illegal or invalid values in path",
-     /* PEXFont */
-     "PEXFontError, specified font ID invalid",
-     /* PhigsWKS */
-     "PhigsWKSError, specified PHIGS workstation ID invalid", 
-     /* PickMeasure */
-     "PEXPickMeasureError, specified pick measure ID invalid",
-     /* PipelineContext */
-     "PEXPipelineContextError, specified pipeline context ID invalid",
-     /* Renderer */
-     "PEXRendererError, specified renderer ID invalid",
-     /* SearchContext */
-     "PEXSearchContextError, specified search context ID invalid",
-     /* Structure */
-     "PEXStructureError, specified structure ID invalid",
-     /* OutputCommand */
-     "PEXOutputCommandError, illegal value in output commands",
- };
  
  
  /*
--- 39,44 ----
*** /tmp/da01683	Mon Aug 10 17:23:50 1992
--- extensions/lib/PEXlib/pl_pc.c	Thu Jul 16 10:56:18 1992
***************
*** 1,19 ****
! /* $XConsortium: pl_pc.c,v 1.6 92/06/30 12:39:42 mor Exp $ */
  
! /************************************************************************
! Copyright 1987,1991,1992 by Digital Equipment Corporation, Maynard,
! Massachusetts, and the Massachusetts Institute of Technology,
! Cambridge, Massachusetts.
  
                          All Rights Reserved
  
! Permission to use, copy, modify, and distribute this software and its 
! documentation for any purpose and without fee is hereby granted, 
! provided that the above copyright notice appear in all copies and that
! both that copyright notice and this permission notice appear in 
! supporting documentation, and that the names of Digital or MIT not be
! used in advertising or publicity pertaining to distribution of the
! software without specific, written prior permission.  
  
  DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
  ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
--- 1,20 ----
! /* $XConsortium: pl_pc.c,v 1.7 92/07/16 11:00:44 mor Exp $ */
  
! /******************************************************************************
! Copyright 1987,1991 by Digital Equipment Corporation, Maynard, Massachusetts
! Copyright 1992 by the Massachusetts Institute of Technology
  
                          All Rights Reserved
  
! Permission to use, copy, modify, distribute, and sell this software and its
! documentation for any purpose is hereby granted without fee, provided that
! the above copyright notice appear in all copies and that both that
! copyright notice and this permission notice appear in supporting
! documentation, and that the name of M.I.T. not be used in advertising or
! publicity pertaining to distribution of the software without specific,
! written prior permission.  M.I.T. makes no representations about the
! suitability of this software for any purpose.  It is provided "as is"
! without express or implied warranty.
  
  DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
  ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
***************
*** 22,29 ****
  WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION,
  ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS
  SOFTWARE.
! 
! *************************************************************************/
  
  #include "PEXlib.h"
  #include "PEXlibint.h"
--- 23,29 ----
  WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION,
  ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS
  SOFTWARE.
! ******************************************************************************/
  
  #include "PEXlib.h"
  #include "PEXlibint.h"
*** /tmp/da01702	Mon Aug 10 17:23:54 1992
--- extensions/lib/PEXlib/pl_nameset.c	Fri Jul 24 13:51:30 1992
***************
*** 1,19 ****
! /* $XConsortium: pl_nameset.c,v 1.1 92/05/08 15:13:10 mor Exp $ */
  
! /************************************************************************
! Copyright 1987,1991,1992 by Digital Equipment Corporation, Maynard,
! Massachusetts, and the Massachusetts Institute of Technology,
! Cambridge, Massachusetts.
  
                          All Rights Reserved
  
! Permission to use, copy, modify, and distribute this software and its 
! documentation for any purpose and without fee is hereby granted, 
! provided that the above copyright notice appear in all copies and that
! both that copyright notice and this permission notice appear in 
! supporting documentation, and that the names of Digital or MIT not be
! used in advertising or publicity pertaining to distribution of the
! software without specific, written prior permission.  
  
  DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
  ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
--- 1,20 ----
! /* $XConsortium: pl_nameset.c,v 1.3 92/07/24 13:55:58 mor Exp $ */
  
! /******************************************************************************
! Copyright 1987,1991 by Digital Equipment Corporation, Maynard, Massachusetts
! Copyright 1992 by the Massachusetts Institute of Technology
  
                          All Rights Reserved
  
! Permission to use, copy, modify, distribute, and sell this software and its
! documentation for any purpose is hereby granted without fee, provided that
! the above copyright notice appear in all copies and that both that
! copyright notice and this permission notice appear in supporting
! documentation, and that the name of M.I.T. not be used in advertising or
! publicity pertaining to distribution of the software without specific,
! written prior permission.  M.I.T. makes no representations about the
! suitability of this software for any purpose.  It is provided "as is"
! without express or implied warranty.
  
  DIGITAL DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING
  ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL
***************
*** 22,30 ****
  WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION,
  ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS
  SOFTWARE.
  
- *************************************************************************/
- 
  #include "PEXlib.h"
  #include "PEXlibint.h"
  
--- 23,30 ----
  WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION,
  ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS
  SOFTWARE.
+ ******************************************************************************/
  
  #include "PEXlib.h"
  #include "PEXlibint.h"
  
***************
*** 142,158 ****
  }
  
  
! PEXName *
! PEXGetNameSet (display, ns, numNamesReturn)
  
  INPUT Display		*display;
  INPUT PEXNameSet	ns;
  OUTPUT unsigned long	*numNamesReturn;
  
  {
      pexGetNameSetReq	*req;
      pexGetNameSetReply	rep;
-     PEXName		*pn;
  
  
      /*
--- 142,158 ----
  }
  
  
! Status
! PEXGetNameSet (display, ns, numNamesReturn, namesReturn)
  
  INPUT Display		*display;
  INPUT PEXNameSet	ns;
  OUTPUT unsigned long	*numNamesReturn;
+ OUTPUT PEXName		**namesReturn;
  
  {
      pexGetNameSetReq	*req;
      pexGetNameSetReply	rep;
  
  
      /*
***************
*** 174,180 ****
          UnlockDisplay (display);
          PEXSyncHandle (display);
  	*numNamesReturn = 0;
! 	return (NULL); 		/* return an error */
      }
  
      *numNamesReturn = rep.numNames;
--- 174,181 ----
          UnlockDisplay (display);
          PEXSyncHandle (display);
  	*numNamesReturn = 0;
! 	*namesReturn = NULL;
! 	return (0); 		/* return an error */
      }
  
      *numNamesReturn = rep.numNames;
***************
*** 184,193 ****
       * Allocate a buffer for the replies to pass back to the user.
       */
  
!     pn = (PEXName *) PEXAllocBuf ((unsigned) (rep.length << 2));
  
      if (rep.numNames)
!         _XRead (display, (char *) pn, (long) (rep.length << 2));
  
  
     /*
--- 185,194 ----
       * Allocate a buffer for the replies to pass back to the user.
       */
  
!     *namesReturn = (PEXName *) PEXAllocBuf ((unsigned) (rep.length << 2));
  
      if (rep.numNames)
!         _XRead (display, (char *) *namesReturn, (long) (rep.length << 2));
  
  
     /*
***************
*** 197,203 ****
      UnlockDisplay (display);
      PEXSyncHandle (display);
  
!     return (pn);
  }
  
  
--- 198,204 ----
      UnlockDisplay (display);
      PEXSyncHandle (display);
  
!     return (1);
  }
  
  
