/*
 * *****************************************************************
 * *                                                               *
 * *    Copyright (c) Digital Equipment Corporation, 1991, 1994    *
 * *                                                               *
 * *   All Rights Reserved.  Unpublished rights  reserved  under   *
 * *   the copyright laws of the United States.                    *
 * *                                                               *
 * *   The software contained on this media  is  proprietary  to   *
 * *   and  embodies  the  confidential  technology  of  Digital   *
 * *   Equipment Corporation.  Possession, use,  duplication  or   *
 * *   dissemination of the software and media is authorized only  *
 * *   pursuant to a valid written license from Digital Equipment  *
 * *   Corporation.                                                *
 * *                                                               *
 * *   RESTRICTED RIGHTS LEGEND   Use, duplication, or disclosure  *
 * *   by the U.S. Government is subject to restrictions  as  set  *
 * *   forth in Subparagraph (c)(1)(ii)  of  DFARS  252.227-7013,  *
 * *   or  in  FAR 52.227-19, as applicable.                       *
 * *                                                               *
 * *****************************************************************
 */
/*
 * HISTORY
 */

#include <sys/types.h>
#include <hal/kn430.h>
#include <hal/iic.h>

cpu_csrp_t	Cpu_regs[2] = {(cpu_csrp_t)CPU0_BASE, (cpu_csrp_t)CPU1_BASE};
io_csrp_t       Io_regs = (io_csrp_t)IO_BASE;
mem_csrp_t      Mem_regs[4] = {(mem_csrp_t)MEM0_BASE, 
				       (mem_csrp_t)MEM1_BASE, 
				       (mem_csrp_t)MEM2_BASE, 
				       (mem_csrp_t)MEM3_BASE};
u_int		Cbus_nodes_alive = 0;

/*
 * This structure initializes the IIC EEPROM addresses on the CPU modules.
 * The members of the struct are defined in arch/alpha/hal/iic.h
 * Only the members of the cpu_sdd member of this struct are actually
 * used, but the are all defined for informational purposes and completeness.
 * the EEPROM address definitions implemented here are taken from Revision 1.0
 * of the IIC EEPROM spec written by Erik Piip.
 */
struct CPUIICEEPROM
  cpu_iic_eeprom = {{0x00, 0x04, 0x06, 0x08, 0x0C, 0x10, 0x14, 0x18},
		    {0x1C, 0x20, 0x22, 0x24, 0x28, {0x2C, 0x2D},
		     {0x2E, 0x2F, 0x30, 0x31, 0x32, 0x33, 0x34},
		     0x35, {0x36, 0x37}},
		    {0x38, 0x3C, 0x3E, 0x40, 0x44, 0x46, 0x47, 0x48,
		     {0x4C, 0x4D, 0x4E, 0x4F, 0x50, 0x51, 0x52, 0x53,
		      0x54, 0x55, 0x56, 0x57, 0x58, 0x59, 0x5A, 0x5B,
		      0x5C, 0x5D, 0x5E, 0x5F, 0x60, 0x61, 0x62, 0x63,
		      0x64, 0x65, 0x66, 0x67},
		     {0x68, 0x6C, 0x70, 0x74, 0x78,
		      0x7C, 0x80, 0x84, 0x88, 0x8C,
		      0x90, 0x94, 0x98, 0x9C}},
		    {0xA0, 0xA4, 0xA6, 0xA8, 0xAC, 0xAE, 0xAF, 0xB0,
		     {0xB4, 0xB8, 0xBC, 0xC0, 0xC4, 0xC8},
		     {0xCC, 0xD0, 0xD4, 0xD8, 0xDC, 0xE0,
		      0xE4, 0xE8, 0xEC, 0xF0, 0xF4, 0xF8}},
		    {0xFC, 0xFD, 0xFE, 0xFF}};

/*
 * This structure defines the IIC EEPROM addresses on the I/O module
 * The members of the struct are defined in arch/alpha/hal/iic.h
 * Only the members of the io_sdd member of this struct are actually
 * used, but the are all defined for informational purposes and completeness.
 * the EEPROM address definitions implemented here are taken from Revision 1.0
 * of the IIC EEPROM spec written by Erik Piip.
 */
struct IOIICEEPROM
  io_iic_eeprom = {{0x00, 0x04, 0x06, 0x08, 0x0C, 0x10, 0x14, 0x18},
		   {0x1C, 0x20, 0x22, 0x24, 0x28, {0x2C, 0x2D},
		    {0x2E, 0x2F, 0x30, 0x31, 0x32, 0x33, 0x34},
		    0x35, {0x36, 0x37}},
		   {0x38, 0x3C, 0x3E, 0x40, 0x44, 0x46, 0x47, 0x48,
		    {0x4C, 0x4D, 0x4E, 0x4F, 0x50, 0x51, 0x52, 0x53, 0x54,
		     0x55, 0x56, 0x57, 0x58, 0x59, 0x5A, 0x5B, 0x5C, 0x5D,
		     0x5E, 0x5F, 0x60, 0x61, 0x62, 0x63, 0x64, 0x65, 0x66,
		     0x67, 0x68, 0x69, 0x6A, 0x6B, 0x6C, 0x6D, 0x6E, 0x6F,
		     0x70, 0x71, 0x72, 0x73, 0x74, 0x75, 0x76, 0x77, 0x78,
		     0x79, 0x7A, 0x7B, 0x7C, 0x7D, 0x7E, 0x7F, 0x80, 0x81,
		     0x82, 0x83, 0x84, 0x85, 0x86, 0x87, 0x88, 0x89, 0x8A,
		     0x8B, 0x8C, 0x8D, 0x8E, 0x8F}},
		   {0x90, 0x94, 0x96, 0x98, 0x9C, 0x9E, 0x9F, 0xA0,
		    {0xA4, 0xA8, 0xAC, 0xB0, 0xB4, 0xB8},
		    {0xBC, 0xC0, 0xC4, 0xC8, 0xCC, 0xD0, 0xD4, 0xD8,
		     0xDC, 0xE0, 0xE4, 0xE8, 0xEC, 0xF0, 0xF4, 0xF8}},
		   {0xFC, 0xFD, 0xFE, 0xFF}};


/*
 * This structure defines the IIC EEPROM addresses on the memory modules
 * The members of the struct are defined in arch/alpha/hal/iic.h
 * Only the members of the mem_sdd member of this struct are actually
 * used, but the are all defined for informational purposes and completeness.
 * the EEPROM address definitions implemented here are taken from Revision 1.0
 * of the IIC EEPROM spec written by Erik Piip.
 */
struct MEMIICEEPROM
  mem_iic_eeprom = {{0x00, 0x04, 0x06, 0x08, 0x0C, 0x10, 0x14, 0x18},
		    {0x1C, 0x20, 0x22, 0x24, 0x28, {0x2C, 0x2D},
		     {0x2E, 0x2F, 0x30, 0x31, 0x32, 0x33, 0x34},
		     0x35, {0x36, 0x37}},
		    {0x38, 0x3C, 0x3E, 0x40, 0x44, 0x46, 0x47, 0x48,
		     {0x4C, 0x50, 0x54, 0x58, 0x5C, 0x60,
		      0x64, 0x68, 0x6C, 0x70, 0x74,
		      0x78, 0x7C, 0x80, 0x84, 0x88, 0x8C,
		      0x90, 0x94, 0x98, 0x9C, 0xA0,
		      0xA4, 0xA8, 0xAC, 0xB0, 0xB4, 0xB8,
		      0xBC, 0xC0, 0xC4, 0xC8, 0xCC}},
		    {0xD0, 0xD4, 0xD6, 0xD8, 0xDC, 0xDE, 0xDF, 0xE0,
		     {0xE4, 0xE8, 0xEC, 0xF0, 0xF4, 0xF8}},
		    {0xFC, 0xFD, 0xFF}};

