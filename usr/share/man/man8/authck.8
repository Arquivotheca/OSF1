.\" This manpage source uses rsml coding. 
.so /usr/share/lib/tmac/sml
.so /usr/share/lib/tmac/rsml
.\"
.\"
.\" *********************************************************************
.\" *                                                                   *
.\" *      Copyright (c) Digital Equipment Corporation, 1991, 1994      *
.\" *                                                                   *
.\" *                       All Rights Reserved.                        *
.\" *                                                                   *
.\" *********************************************************************
.\"
.\"
.\" HISTORY
.\"
.\" @(#)$RCSfile: authck.8,v $ $Revision: 3.6.5.8 $ (DEC) $Date: 1994/01/14 23:24:27 $
.\"
.\" (c) Copyright 1990, 1991, 1992, 1993 OPEN SOFTWARE FOUNDATION, INC.
.\" ALL RIGHTS RESERVED
.\" OSF/1 1.2
.\"
.\" @(#)authck.1m	1.2 08:50:22 8/7/90 SecureWare Inc.
.\"
.\" Based on CMW+ Evaluation Version
.\"
.\" Copyright (c) 1988 SecureWare, Inc.
.\" All rights reserved
.\" @(#)authck.1m	1.2 17:47:30 3/28/90 SecureWare
.\"build rmifdef
.\" #ifdef SEC_BASE
.TH authck 8
.SH "NAME"
.PP
\*Lauthck\*O \- Checks internal consistency of the authentication database (Enhanced Security)
.SH "SYNOPSIS"
.PP
.sS
\*Lauthck\*O [\*V options \*O]
.sE
.br
.ne 1.5i
.SH "FLAGS"
.PP
.iX "authck"
.VL 2m
.LI "\*L\-a\*O"
Turns on the \*L\-p\*O, \*L\-t\*O, and \*L\-f\*O
.\"  \*L\-c\*O
flags collectively.
.LI "\*L\-f\*O"
Examines the file control database for syntax and value specification
errors. Each entry is examined to verify that the syntax is correct and
that values such as user names, group names, modes, object types, and
other security attributes depending on the system configuration are
valid. Checks are also made to ensure that continuation lines are
handled properly and that each entry is terminated with the \*Lchkent\*O
field. Errors detected in the file control database cannot be corrected by
\*Lauthck\*O
since in most cases the command is unable to determine what the entry
should contain. Instead, errors are detected and correction of these
errors is left to the ISSO.
.LI "\*L\-p\*O"
Checks the protected password database.
The cross-references between the protected password database and
\*L/etc/passwd\*O
are checked to make sure that they are mutually consistent.
Then fields in the protected password database are checked for reasonable
values.  For instance,
all timestamps of past events are checked to make sure that
they have times less than the times returned by \*Ltime(\|)\*O.
.LI "\*L\-t\*O"
Checks the fields
in the terminal control database for reasonable values.
All timestamps of past events are checked to make sure they
have times less than those returned by \*Ltime(\|)\*O.
.LI "\*L\-v\*O"
Provides running diagnostics as the program proceeds.
It also produces warnings on unusual conditions that may not
cause program errors in Trusted Computing Base (TCB) programs.
.LE
.br
.ne 1.5i
.SH "DESCRIPTION"
.PP
The \*Lauthck\*O program checks both the overall structure and
internal field consistency of all components of the authentication
database.
It reports all problems it finds.
To invoke this program you must login as root.
.\" have the \*Lauth\*O command
.\" authorization.
.\" Both the \*Lisso\*O and  \*Lsysadmin\*O command authorizations imply
.\" the \*Lauth\*O command authorization.
.SH "FILES"
.PP
.VL 12m
.LI "\*L/tcb/bin/authck\*O"
Specifies the command path.
.LI "\*L/etc/passwd\*O"
System password file.
.LI "\*L/tcb/files/auth/*/*\*O"
Protected password database.
.LI "\*L/tcb/auth/system/files\*O"
File control database.
.LI "\*L/etc/auth/system/ttys\*O"
Terminal control database.
.LI "\*L/etc/auth/system/files\*O"
File control database.
.LI "\*L/etc/auth/system/default\*O"
System defaults database.
.LE
.br
.ne 1.5i
.SH "EXIT VALUES"
.PP
If \*Lauthck\*O did not detect any inconsistencies, it exits with a status
of 0 (zero).
If the user is not authorized, \*Lauthck\*O exits with a status of 1.
If the user specifies the wrong argument syntax,
\*Lauthck\*O exits with a status of 2.  Otherwise,
\*Lauthck\*O exits with status equal to the number of inconsistencies found.
.br
.ne 1.5i
.SH "RELATED INFORMATION"
.PP
Functions:
.\" \*Lcmdauth(3)\*O,
\*Lgetprdfent(3)\*O,
\*Lgetprpwent(3)\*O, \*Lgetprtcent(3)\*O, \*Lgetprfient(3)\*O.
.PP
Files: \*Lauthcap(4)\*O,
.\" \*Lauthorize(4)\*O,
\*Ldefault(4)\*O,
\*Lfiles(4)\*O,
\*Lprpwd(4)\*O,
\*Lttys(4)\*O,
\*Lusers(4)\*O.
.\" #endif /* SEC_BASE */
.EQ
delim off
.EN
