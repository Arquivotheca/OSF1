.\" This manpage source uses rsml coding. 
.so /usr/share/lib/tmac/sml
.so /usr/share/lib/tmac/rsml
.\"
.\"
.\" *********************************************************************
.\" *                                                                   *
.\" *      Copyright (c) Digital Equipment Corporation, 1991, 1994      *
.\" *                                                                   *
.\" *                       All Rights Reserved.                        *
.\" *                                                                   *
.\" *********************************************************************
.\"
.\"
.\" HISTORY
.\"
.\" @(#)$RCSfile: trpt.8,v $ $Revision: 3.2.2.2 $ (DEC) $Date: 1992/05/21 12:43:07 $
.\"
.\" 
.\" (c) Copyright 1991, OPEN SOFTWARE FOUNDATION, INC.
.\" ALL RIGHTS RESERVED
.\" 
.TH trpt 8
.SH NAME
\*Ltrpt \*O \- Transliterates protocol trace
.SH SYNOPSIS 
.sS 
\*Ltrpt\*O [\*L-afjst\*O] [\*L-p \*Vaddress\*O] \*Vsystem core\*O
.sE
.SH "FLAGS"
.VL
.LI "\*L-a\*O"
Print the values of the source and destination addresses
for each packet recorded, in addition to the normal output.
.LI "\*L-f\*O"
Follows the trace as it occurs, waiting briefly for
additional records each time the end of the log is reached.
.LI "\*L-j\*O"
Lists the protocol control block addresses for
which trace records exist.
.LI "\*L-p\*O\*V address\*O"
Shows only trace records associated with
the protocol control block specified in hexadecimal by the \*Vaddress\*O
variable.
.PP
You must include a space between the \*L-p\*O flag and
the \*Vaddress\*O variable when you specify this flag.
.LI "\*L-s\*O"
Prints a detailed description of the packet-sequencing
information, in addition to the normal output.
.LI "\*L-t\*O"
Prints the values for all timers at each point in
the trace, in addition to the normal output.
.LE 
.SH "DESCRIPTION"
.PP
The \*Ltrpt\*O command, used for debugging sockets,
queries the buffer of Transmission Control Protocol (TCP) trace records.
The TCP trace record buffer is created when
a socket is marked for debugging with the \*Lsetsockopt\*O(2) subroutine.
The \*Ltrpt\*O command queries the buffer and then prints a
description of the trace records.
.PP 
When you specify no options, the \*Ltrpt\*O command prints
all the trace records found in the system and groups them according
to their TCP/IP connection Protocol Control Block (PCB).
.PP 
If you are debugging a system or core file other than the default,
the \*Vsystem\*O and \*Vcore\*O arguments can be used to replace
the defaults.
.PP 
Before you can use the \*Ltrpt\*O command, you must do the following:
.AL
.LI
Isolate the problem and mark for debugging the socket or sockets
involved in the connection.
.LI
Find the address of the protocol control blocks
associated with these sockets by using the \*Lnetstat -aA\*O command.
.LI
Then, you can run the \*Ltrpt\*O command, using
the \*L-p\*O flag to supply the associated protocol control block
addresses. You can specify multiple \*L-p\*V address\*O flags
with a single \*Ltrpt\*O command.
.LE 
.PP 
The \*L-f\*O flag can be used to follow the trace log once
it is located.
The \*L-j\*O flag can be used to check for the presence
of trace records for the socket in question.
.PP 
If the system image does not contain the proper symbols to find
the trace buffer, the \*Ltrpt\*O command cannot succeed.
.SH FILES
.PP 
.VL
.LI "\*L/usr/sbin/trpt\*O"
Specifies the command path
.LE 
.SH "RELATED INFORMATION"
.PP
Commands: \*Lnetstat\*O(1)
.PP 
Functions: \*Lsetsockopt\*O(2)
.EQ
delim off
.EN
