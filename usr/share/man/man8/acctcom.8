.\" This manpage source uses rsml coding. 
.so /usr/share/lib/tmac/sml
.so /usr/share/lib/tmac/rsml
.\"
.\"
.\" *********************************************************************
.\" *                                                                   *
.\" *      Copyright (c) Digital Equipment Corporation, 1991, 1994      *
.\" *                                                                   *
.\" *                       All Rights Reserved.                        *
.\" *                                                                   *
.\" *********************************************************************
.\"
.\"
.\" HISTORY
.\"
.\" @(#)$RCSfile: acctcom.8,v $ $Revision: 3.2.5.2 $ (DEC) $Date: 1993/12/03 19:25:38 $
.\" 
.\" 
.\" (c) Copyright 1991, OPEN SOFTWARE FOUNDATION, INC.
.\" ALL RIGHTS RESERVED
.\" 
.\" actcom1.man
.\" nm_31.07.90
.\" hah_16.07.90
.TH acctcom 8
.iX "acctcom"
.iX "process accounting record" "summaries"
.iX "summaries" "process accounting"
.iX "records" "process accounting"
.iX "accounting" "process accounting records"
.SH NAME
.PP
\*Lacctcom \*O - Displays selected process accounting record summaries
.SH SYNOPSIS 
.PP
.sS 
\*L/usr/bin/acctcom [\*L\-abfhikmqrtv\*O] [\*L\-C\*O \*Vseconds\*O] [\*L\-e\*O \*Vtime\*O] [\*L\-E\*O \*Vtime\*O] [\*L\-g\*O \*Vgroup\*O] [\*L\-H\*O \*Vfactor\*O] [\*L\-I\*O \*Vnumber\*O] [\*L\-l\*O \*Vline\*O] [\*Vselect_flag\*O \*L\-o \*Vfile\*O] [\*L\-n\*O \*Vpattern\*O] [\*L\-O\*O \*Vseconds\*O] [\*L\-s\*O \*Vtime\*O] [\*L\-S\*O \*Vtime\*O] [\*L\-u \*Vusername\*O] [\*Vfile\*O \&...]
.sE
.SH "FLAGS"
.PP
.VL
.LI "\*L\-a\*O"
Displays average statistics about the selected processes.  Statistics are
displayed at the end of the output records in the format \*Vvar\*L=\*V#\*O
(for example, \*LCMDS=439\*O), where the value (\*V#\*O) is given to 
the nearest hundreth.  The \*Vvar\*O specifies the following:
.RS
.VL
.LI \*LVariable\*O
\*LValue\*O
.LI \*CCMDS\*O
Total number of commands listed in the specified \*Vfile\*O
.LI \*CREAL\*O
Average real time per process
.LI \*CCPU\*O
Average CPU time per process
.LI \*CUSER\*O
Average user CPU time per process
.LI \*CSYS\*O
Average system CPU time per process
.LI \*CCHAR\*O
Average number of characters transferred
.LI \*CBLK\*O
Average number of blocks transferred
.LI \*CUSR/TOT\*O
Average CPU factor (average user time divided by total CPU time)
.LI \*CHOG\*O
Average hog factor (average CPU time divided by average elapsed time)
.LE
.RE
.iX "process" "average statistics"
.iX "statistics" "process accounting"
.iX "memory" "used by process"
.iX "process accounting" "memory used"
.LI "\*L-b\*O"
Displays information about the most recently executed commands first.
This flag has no effect when the\*L acctcom\*O command reads from
the default input device or if more than one process accounting file is
specified. The column heading format is the same as the default
column heading format.
.LI "\*L-C \*Vseconds\*O"
Lists processes whose total CPU time (system time + user time)
is greater than the value specified by \*Vseconds\*O. 
The column heading format is the same as the default
column heading format.
.LI "\*L-e \*Vtime\*O"
Displays information only about processes that start at or before the 
specified time, which is specified as \*Lhh[:mm[:ss]]\*O.
The column heading format is as follows:
.oS
ACCOUNTING RECORDS FROM: \*Vday mon date hh:mm:ss yy\*C
START BEFORE: \*Vday mon date hh:mm:ss yy\*C
COMMAND         START  END   REAL    CPU     MEAN
NAME USER TTYNAME TIME TIME (SECS) (SECS) SIZE(K)
.oE
.LI "\*L-E \*Vtime\*O"
Displays information only about processes that end at or before the 
specified time, which is specified as \*Lhh[:mm[:ss]]\*O.
If you specify the same time for both the \*L-E\*O and \*L-S\*O
flags, the \*Lacctcom\*O command displays processes that existed at
the specified time. The column heading format is as follows:
.oS
ACCOUNTING RECORDS FROM: \*Vday mon date hh:mm:ss yy\*C
END BEFORE  : \*Vday mon date hh:mm:ss yy\*C
COMMAND         START  END   REAL    CPU     MEAN
NAME USER TTYNAME TIME TIME (SECS) (SECS) SIZE(K)
.oE
.LI "\*L-f\*O"
Displays information about the \*Lfork/exec\*O flag (used to execute
another process) in the \*CF\*O column and the system exit
value \*CSTAT\*O, which can be zero (0) or an error code, 
in the \*CSTAT\*O column in
addition to the default column heading format.
The column heading format is as follows:
.oS
ACCOUNTING RECORDS FROM: \*Vday mon date hh:mm:ss yy\*C
COMMAND                START  END   REAL    CPU     MEAN    
NAME USER TTYNAME TIME TIME (SECS) (SECS) SIZE(K) F STAT
.oE
.LI "\*L-g \*O\*V group\*O"
Displays only the processes that belong to the specified \*Vgroup.\*O 
You may specify either the group
ID or the group name. The column heading format is the same as the default
column heading format.
.LI "\*L-h\*O"
Displays the hog factor instead of the mean memory size.  The hog
factor
is the CPU time used by the process divided by the real time.
The output is the same as the default column format output except the
\*LMEAN SIZE(K)\*O column heading is replaced by the .\*LHOG FACTOR\*O
heading.  The column heading format is as follows:
.oS
ACCOUNTING RECORDS FROM: \*Vday mon date hh:mm:ss yy\*C
COMMAND         START  END   REAL    CPU     HOG
NAME USER TTYNAME TIME TIME (SECS) (SECS) FACTOR
.oE
.iX "process" "hog factor"
.iX "hog factor" "process accounting"
.LI "\*L-H  \*O\*Vhogfactor\*O"
Displays information about processes that exceed the
value specified by the \*Vhogfactor\*O variable.
The output format is the same as the default column heading format.
.LI "\*L-i \*O"
Displays the the number of characters and blocks
transferred during read or write I/O operations.  The output is similar
to the default column heading format, except the \*LCHARS TRANSFD\*O
column replaces the \*LMEAN SIZE(K)\*O column, and the
\*LBLOCKS READ\*O column is added to the output.
The column heading format is as follows:
.oS
ACCOUNTING RECORDS FROM: \*Vday mon date hh:mm:ss yy\*C
COMMAND   START  END   REAL    CPU     CHARS    BLOCKS
NAME USER TTYNAME TIME TIME (SECS) (SECS) TRANSFD READ
.oE
.LI "\*L-I\*O\*Vnumber\*O"
Displays information about the processes that transfer more than the
number of characters specified by the \*Vnumber\*O
variable.  The output
format is the same as the default column heading format.
.LI "\*L-k\*O"
Displays the total number of kcore minutes, which is the number of
kilobytes of memory used by the process multiplied by the buffer time used.
The output format is the same as the default column heading format, 
except the \*LKCORE MIN\*O column heading replaces the
\*LMEAN SIZE(K)\*O column heading.
The column heading format is as follows:
.oS
ACCOUNTING RECORDS FROM: \*Vday mon date hh:mm:ss yy\*C
COMMAND    START  END   REAL    CPU     KCORE
NAME USER TTYNAME TIME TIME (SECS) (SECS) MIN
.oE
.LI "\*L-l \*O\*Vline\*O"
Displays information about the processes that belong to the
workstation whose tty line is specified by the \*Vline\*O
variable (for example, \*Lttyp0\*O)
The heading format is the same as the default column heading format.
.LI "\*L-m \*O"
Displays the median amount of process memory used.  If you also specify
the \*L\-h\*O or \*L\-k\*O flag, the \*L\-m\*O flag is ignored. 
The output format is the same as the default column heading format.
.LI "\*L-n  \*O\*Vpattern \*O" 
Displays information only about the processes whose names include the
regular expression specified by the \*Lpattern\*O
variable.  The output format is the same as the
default column heading format.
.LI "\*Vselect_flag \*L-o \*Vfilename \*O"
Copies selected process records to the specified \*Vfilename\*O.
The \*Vselect_flag\*O variable specifies the following process 
selection flags: \*L\-C\*O, \*L-e\*O, \*L-E\*O, \*L-g\*O, \*L-H\*O, 
\*L-I\*O, 
\*L-l\*O, \*L-n\*O, \*L-O\*O, \*L-s\*O, \*L-S\*O, and \*L-u\*O.
If you do not specify a selection flag with the \*Lselect_flag\*O
variable, all process records are copied to \*Vfilename\*O.
The output format includes only the date and time:
.oS
ACCOUNTING RECORDS FROM: \*Vday mon date hh:mm:ss yy
.oE
.LI "\*L-O\*O \*Vseconds \*O"
Displays information about the processes that have
a CPU system time exceeding the time specified by the \*Vseconds\*O
variable.  The output format is the same as the
default column heading format.
.LI "\*L-q \*O"
Displays only the average statistics, which are shown at the end of the
command output when you use the \*L\-a\*O flag.
.LI "\*L-r\*O"
Displays the CPU factor, which is the user time divided by the total CPU
time.  The output format is the same as the default column heading
format, except the \*LCPU FACTOR\*O column replaces the 
\*LMEAN SIZE(K)\*O column.
The column heading format is as follows:
.oS
ACCOUNTING RECORDS FROM: \*Vday mon date hh:mm:ss yy\*C
COMMAND         START  END   REAL    CPU     CPU
NAME USER TTYNAME TIME TIME (SECS) (SECS) FACTOR
.oE
.LI "\*L-s  \*O\*Vtime \*O"
Displays information about the processes that existed on or
after \*Vtime\*O, which is specified as \*Lhh[:mm[:ss]]\*O.  
The column heading format is as follows:
.oS
ACCOUNTING RECORDS FROM: \*Vday mon date hh:mm:ss yy\*C
END AFTER   : \*Vday mon date hh:mm:ss yy\*C
COMMAND         START  END   REAL    CPU     MEAN
NAME USER TTYNAME TIME TIME (SECS) (SECS) SIZE(K)
.oE
.LI "\*L-S  \*O\*Vtime\*O"
Displays information only about
the processes that started at or after \*Vtime\*O, which is specified 
as \*Lhh[:mm[:ss]]\*O. The column heading format is as follows:
.oS
ACCOUNTING RECORDS FROM: \*Vday mon date hh:mm:ss yy\*C
START AFTER : \*Vday mon date hh:mm:ss yy\*C
COMMAND         START  END   REAL    CPU     MEAN
NAME USER TTYNAME TIME TIME (SECS) (SECS) SIZE(K)
.oE
.LI "\*L-t \*O"
Displays system and user CPU times under separate
column headings. The \*LCPU SYS\*O 
column heading, which shows the system CPU time, replaces the
\*L CPU (SECS)\*O default column heading.
The column heading format is as follows:
.oS
ACCOUNTING RECORDS FROM: \*Vday mon date hh:mm:ss yy\*C
COMMAND    START  END   REAL    CPU  (SECS)
NAME USER TTYNAME TIME TIME (SECS) SYS USER
.oE
.LI "\*L-u  \*O\*Vusername \*O"
Displays information about the processes that are owned by user
\*Vusername\*O.
You can specify a user identification number, a login name
converted to a user identification number, a number sign (#)
to specify \*Lroot\*O 
or a question mark (?), which selects processes associated
with unknown user identification numbers.
The output format is the same as the default column heading format.
.LI "\*L-v \*O"
Removes column headings from the output; otherwise the output is the
same as the default column heading format.
.LE 
.SH "DESCRIPTION"
.PP
The \*Lacctcom\*O command displays process accounting records
from files specified by the \*Vfile\*O parameter, from standard
input, or from the \*L/var/adm/pacct\*O file.
If you do not specify a \*Vfile\*O and if standard input is assigned to a
workstation or to \*L/dev/null\*O (for example, if a process runs in the
background), the \*Lacctcom\*O command reads the
\*L/var/adm/pacct\*O file.
.iX "process accounting" "file"
.PP
You do not have to be \*Lroot\*O to use the \*Lacctcom\*O command,
which is located in the \*L/usr/bin\*O directory.  
.iX "process" "completion time"
.iX "process" "command name"
.iX "process" "start time"
.iX "process" "real time"
.iX "process" "CPU seconds"
.iX "process" "memory size"
.iX "completion time" "process"
.iX "command name" "process"
.iX "start time" "process"
.iX "process" "completion time"
.iX "process" "command name"
.iX "process" "start time"
.iX "process" "real time"
.iX "process" "CPU seconds"
.iX "process" "memory size"
.iX "completion time" "process"
.iX "command name" "process"
.iX "start time" "process"
.PP 
If you specify more than one \*Vfilename\*O, the \*Lacctcom\*O 
process reads each
file chronologically in time-descending order according to process
completion time. Usually, the \*L/var/adm/pacct\*O file is used, but 
you can have several \*L/var/adm/pacct/*Vn\*O files, which are created
by the \*Lckpacct\*O command.
.iX "daemon" "cron"
.iX "cron daemon"
.iX "process accounting" "file size"
.iX "process accounting" "date and timestamp"
.iX "date and timestamp" "process accounting"
.PP 
Each record specified the execution times for a completed process. The
default output format includes the command name, username, tty name,
process start time, process end time, real seconds, CPU seconds, and
mean memory size (in kilobytes). The process summary output has the
following default column heading format:
.oS
ACCOUNTING RECORDS FROM: \*Vday mon date hh:mm:ss yyyy\*C
COMMAND                 START  END   REAL    CPU     MEAN
NAME     USER  TTYNAME  TIME   TIME  (SECS)  (SECS)  SIZE(K)
.oE
.PP
If a specified time is later than the current time, it
is interpreted as occurring on the previous day.
.PP 
You can use flag to display the state of the
\*Lfork/exec\*O flag, \*CF\*O column; the system exit value,
\*CSTAT\*O column;
the ratio of total CPU time to elapsed time, \*CHOG FACTOR\*O column; 
the product of memory used and elapsed time, \*CKCORE MIN\*O column; 
the ratio of user time to total (system plus user) time, \*CCPU FACTOR\*O
column; the number of characters transferred during I/O operations, \*CCHARS
TRNSFD\*O column; and the total number of blocks read or written,
\*CBLOCKS READ\*O column.
.iX "fork"
.iX "exec"
.iX "process" "execution time"
.iX "execution time" "process"
.iX "factor" "hog"
.iX "hog factor"
.iX "blocks" "I/O transferred"
.iX "characters transferred" "process accounting"
.iX "process accounting" "characters transferred"
.PP 
If a process is run under \*Lroot\*O or \*Lsu\*O authority, the command
name is prefixed with a number sign (#).  If a process is not
assigned to a known tty (for example, if the \*Lcron\*O daemon runs
the process), a question mark (?) is displayed in the \*CTTYNAME\*O column.
.PP 
The \*Lacctcom\*O command reports only on processes that have
completed. Use the \*Lps\*O command to examine the status of active
processes.  
.PP 
For any flag value that produces a date and timestamp in an output
heading, the order of date and time information is locale dependent.
The date and timestamps shown in the examples use the default
headings, but their order may be changed using the \*LNLTIME\*O
environment variable to change the timestamp format.
.iX "tty" "process accounting"
.iX "process accounting" "tty"
.iX "ps"
.iX "time" "locale dependent"
.iX "time" "environment variable"
.iX "environment variable" "time"
.iX "accounting" "process statistics"
.iX "process accounting statistics"
.iX "group" "process accounting statistic"
.iX "owner" "process accounting statistic"
.SH "EXAMPLES"
.PP
The following command displays information about processes that 
exceed 2.0 seconds of CPU time:
.iS 
/usr/sbin/acct/acctcom -O 2 < /var/adm/pacct
.iE 
.PP
The following command displays information about processes belonging
to the \*LFinance\*O group:
.iS 
/usr/sbin/acct/acctcom  -g  Finance  <  /var/adm/pacct
.iE 
.PP
The following command displays information about processes belonging to tty
\*L/dev/console\*O that run after 5:00 p.m.:
.iS 
/usr/sbin/acct/acctcom  -l  /dev/console  -s  17:00
.iE 
.SH "FILES"
.PP
.VL
.LI "\*L/usr/bin/acctcom\*O"
Specifies the command path
.LI "\*L/var/adm/pacct\*O"
The active process accounting database file.
.LI "\*L/etc/passwd\*O, \*L/etc/group\*O"
User and group database files.
.LI "\*L/usr/include/sys/acct.h\*O, \*L/usr/include/utmp.h\*O"
Accounting header files that define formats for writing accounting files.
.LE 
.SH "RELATED INFORMATION"
.PP
Commands:  \*Lacct\*O(8), \*Led\*O(1), \*Lps\*O(1), \*Lrunacct\*O(8), 
\*Lsu\*O(1)
.PP 
Daemons:  \*Lcron\*O(8)
.PP 
Functions: \*Lacct\*O(2)
.EQ
delim off
.EN
