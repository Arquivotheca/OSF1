.\" This manpage source uses rsml coding. 
.so /usr/share/lib/tmac/sml
.so /usr/share/lib/tmac/rsml
.\"
.\"
.\" *********************************************************************
.\" *                                                                   *
.\" *      Copyright (c) Digital Equipment Corporation, 1991, 1994      *
.\" *                                                                   *
.\" *                       All Rights Reserved.                        *
.\" *                                                                   *
.\" *********************************************************************
.\"
.\"
.\" HISTORY
.\"
.\" @(#)$RCSfile: uerf.8,v $ $Revision: 3.3.2.3 $ (DEC) $Date: 1992/07/22 12:33:57 $
.\" 
.TH uerf 8
.SH NAME
.PP
uerf \- Event report formatter
.SH SYNOPSIS
.PP
.B /usr/sbin/uerf [ options ... ]
.SH FLAGS
.PP
.IP "\f3-c\f2\ classes\f1" 12
Selects classes of events.
.RS 14
.IP \f3err\f1 7
Reports all hardware-detected and software-detected events.
.IP \f3maint\f1
Reports any event that occurs during system maintenance (for
example, if you run a system exerciser).
.IP \f3oper\f1
Reports information on system status, autoconfiguration,
device status, device events, time stamps, and system startup and
shutdown.
.RE
.IP "\f3-D\f1 [\f2disks\f1]" 12
Reports events for the specified disk type (for example, rz55) or 
class (for example, rz).  If you do not specify the disk type, 
events for all disk types are reported.
.IP "\f3-f\f2\ filename\f1"
Outputs event information from the specified file instead of the
\*L/usr/adm/binary.errlog\*O default event log file.
The filename and location of the default event log file is defined by
the \*L*.*\*O entry in the \*L/etc/binlog.conf\*O file.
Use the \*L-f\*O option to examine 
old or backup event log files.  You must 
specify the full path name for the file.
.IP \f3-h\f1
Displays a brief help message.  If you specify any other option with the
.B \-h
option, it is ignored.
.IP \f3-H\f2\ host\f1
Reports events from the specified system.  Use the
.B \-H
option when you want to forward events from multiple remote systems 
to the local host.
.IP "\f3-M\f1 [\f2mainframe_errors\f1]"
Reports mainframe event types.  If you do not specify any parameters,
all mainframe events are reported.  You can specify the following mainframe
event types:
.RS 14
.IP \f3cpu\f1 7
Reports CPU-related events, such as machine checks.
.IP \f3mem\f1
Reports memory-related events, such as single-bit corrected read
data (CRD) and double-bit uncorrectable events.
.RE
.IP "\f3-n\f1"
Outputs events as they occur in real time before logging the
events in the event log file.  This option can be used to monitor
events while you are running a disk or tape exerciser.  You cannot use
the \*L-n\*O option with the \*L-f\*O option.
.IP "\f3-o\f2\ output\f1"
Outputs events in brief, full, or terse format.  The default
output is brief.  You can specify the following formats:
.RS 14
.IP \f3brief\f1 7
Reports event information in a short format.
.IP \f3full\f1
Reports all available information for each entry.
.IP \f3terse\f1
Reports event information and displays register values, but does not
translate.
.RE
.IP "\f3-O\f1 [\f2operating_system_events\f1]" 12
Reports operating system events such as panics and exceptions and
faults.  If you do not specify any parameters, all operating
system events are reported.  You can specify the following events:
.RS 14
.IP \f3aef\f1 7
Arithmetic exception faults
.IP \f3ast\f1
Asynchronous trap exception faults
.IP \f3pag\f1
Page faults
.IP \f3pif\f1
Privileged instruction faults
.IP \f3pro\f1
Protection faults
.IP \f3ptf\f1
Page table faults
.IP \f3raf\f1
Reserved address faults
.IP \f3rof\f1
Reserved operand faults
.IP \f3scf\f1
System call exception faults
.IP \f3seg\f1
Segmentation faults
.RE
.IP "\f3-R \f2\ reverse chronological order\f1" 12
Outputs event information in reverse chronological order.
.IP "\f3-r\f2\ records\f1"
Reports events for the specified record code or codes.  You can specify
the following record codes:
.PD 0
.sp
.RS 14
.IP "Hardware-Detected Events" 6
.sp
.IP 100
CPU machine checks and exceptions
.IP 101
Memory events (soft and hard)
.IP 102
Disk events
.IP 103
Tape events
.IP 104
Device controller events
.IP 105
Adapter events
.IP 106
Bus events
.IP 107
Stray interrupts
.IP 108
Console events
.IP 109
Stack dump
.IP 199
CAM (SCSI) events
.sp
.IP "Software-Detected Events
.sp
.IP 201
ci ppd events
.IP 202
scs events
.sp
.IP "Informational ASCII Messages"
.sp
.IP 250
Informational
.sp
.IP "Operational Messages"
.sp
.IP 300
Start up
.IP 301
Shutdowns and reboots
.IP 302
Panics
.IP 350
Diagnostics status
.PD
.RE
.IP "\f3-s\f2\ sequence_numbers\f1" 12
Reports events that are included in the specified sequence of numbers.  
You also can specify other options to select the event types in the
sequence that you want reported.
.IP \-S
Produces a summary report of the selected events.
.IP "\f3-t\f2\ time_range\f1"
Reports the events that are included in the specified time range.  
If you do not specify the 
.B \-t
option, the \*Luerf\*O command processes the event log
file from beginning to end.  You can specify a starting time and ending
time.  The default date is the current date, the default
starting time is 00:00:00, and the default ending time is 23:59:59.
Use the following syntax to specify the time sequence:
.IP
.B uerf \-t
.B s:
\f2dd-mmm-yyyy,hh:mm:ss\f1 
.B e:
\f2dd-mmm-yyyy,hh:mm:ss\f1
.IP
The 
.B s:
parameter specifies the starting time, and the 
.B e:
parameter specifies the ending time.
.IP "\f3-T\f1 [\f2tapes\f1]" 12
Reports events for the specified tape type (for example, tz30) or class (for 
example, tz).  If you do not specify any parameters, events for 
all tape types are reported.
.IP "\f3-u\f2\ unit number\f1" 12
Reports events for the specified unit number.  This option can be used with
.B \-D 
or
.B \-T 
option.
.IP \f3-x\f1
Excludes all the selection options specified in the command line.
This option does not affect the \f3\-f, \-h, \-H, \-o, \-R,\f1 and 
\f3-t\f1 options.
.IP \f3-Z\f1
Produces ouput in hex format.
.SH DESCRIPTION
.PP
.iX "uerf command"
.iX "event report formatter"
The \*Luerf\*O command produces a record of system events.
These events include event messages relating to the system hardware
and the software kernel as
well as information about system status, startup, and diagnostics.
.PP
The event log files are created with 640 mode.  The files are 
owned by \*Lroot\*O and belong to the \*Lsystem\*O group.  If you want
to use the \*Luerf\*O command, you must belong to the \*Lsystem\*O group
or have superuser privileges.
.SH RESTRICTIONS
.PP
.iX "uerf command" "restricted"
The \*Luerf\*O command uses the \*Luerf.bin\*O,
\*Luerf.hlp\*O, and \*Luerf.err\*O data files.
The \*Luerf.bin\*O file is the event information data base. The 
\*Luerf.hlp\*O file is the help file.  
The \*Luerf.err\*O file is the event message
file.  The \*Luerf\*O command expects to find the data files in the
\*L/usr/sbin\*O directory.
.PP
By default, the \*Luerf\*O command outputs the contents of the event log file
specified by the \*L*.*\*O entry in the \*L/etc/binlog.conf\*O
configuration file.
To report on any other event log file or if there is no \*L*.*\*O entry, 
you must use the \*Luerf\*O command with the
.B \-f
option.
.PP
Do not specify any other option with the
.B \-h
option.
.PP
Some hardware and system events are logged as ASCII
informational messages.  Use the
\*Llogger\*O command with the \*L-b\*O option to log informational
messages.  Use the \*Luerf\*O command with the \*L-r 250\*O option
to report information messages.
.PP
Additional event information also is logged by the \*Lsyslogd\*O
daemon in the file
specified by the \*Lkern.debug\*O and \*Lsyslog.debug\*O
entries in the \*L/etc/syslog.conf\*O file. These log files are in 
ASCII format; you do not have to use the \*Luerf\*O command to read
these files.
.PP
The \*Luerf\*O command is not compatible with binary event log files
produced by ULTRIX or DEC OSF/1 Version 1.0 operating systems.
.SH EXAMPLES
.PP
The following example produces a report containing all event
events, excluding logged operating system events and
operator and maintenance class events:
.oS
uerf -O -x -c oper,maint
.oE
.PP
The following example produces an event report from the 
\*L/usr/adm/binary.errlog.old\*O file:
.oS
uerf -f /usr/adm/binary.errlog.old
.oE
.PP
The following examples produce event reports for
the specified record codes:
.oS
uerf -r 100,102

uerf -r 100-109
.oE
.PP
The following example produces a report of all the events that occurred
between 10:47 a.m. on April 13, 1986 and 5:30 p.m. on April 20, 1986:
.oS
uerf -t s:13-apr-1986,10:47:00 e:20-apr-1986,17:30:00
.oE
The following example produces an event report of the events that
occurred on the current day and year, starting at 1:20 p.m.
and ending at the current time:
.oS
uerf -t s:13:20
.oE
.PP
The following example produces a report of all logged events
and displays it in reverse chronological order, starting with
the current date and time:
.oS
uerf -R
.oE
.SH FILES
.PP
.TP 37
\*L/usr/adm/binary.errlog\*O
default event log file
.TP
\*L/etc/binlog.conf\*O
\*Lbinlogd\*O configuration file
.TP
\*L/usr/sbin/uerf.err\*O
\*Luerf\*O event message file
.TP
\*L/usr/sbin/uerf.hlp\*O
\*Luerf\*O help file
.TP
\*L/usr/sbin/uerf.bin\*O
event information data base file
.SH RELATED INFORMATION
.PP
\*Lbinlogd\*O(8)
.PP
\*Lsyslogd\*O(8)
.PP
\*Llogger\*O(1)
.EQ
delim off
.EN
