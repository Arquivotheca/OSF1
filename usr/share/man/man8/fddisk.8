.\" This manpage source uses rsml coding. 
.so /usr/share/lib/tmac/sml
.so /usr/share/lib/tmac/rsml
.\"
.\"
.\" *********************************************************************
.\" *                                                                   *
.\" *      Copyright (c) Digital Equipment Corporation, 1991, 1994      *
.\" *                                                                   *
.\" *                       All Rights Reserved.                        *
.\" *                                                                   *
.\" *********************************************************************
.\"
.\"
.\" HISTORY
.\"
.\" @(#)$RCSfile: fddisk.8,v $ $Revision: 1.1.4.2 $ (DEC) $Date: 1993/12/01 01:02:04 $
.\"
.TH fddisk 8
.SH NAME
.PP
\*Lfddisk\*O \- FDI disk maintenance utility
.SH SYNOPSIS
.PP
.iX R "fddisk utility"
.iX R "FDI disk" "managing"
\*L/usr/bin/fddisk \*Vflags special\*O
.SH FLAGS
.PP
.VL 4m
.LI "\*L\-f\*O"
Unless this flag is specified, an attempt to format or to install a file
system fails in two cases.  The first failure occurs when the device has
been opened since the media was inserted.  The second failure occurs
if the device is currently opened by another process.
.LI "\*L\-fmt\*O"
Formats the media to the density appropriate for that media.
.LI "\*L\-hexd \*VPSN\*O"
Copies a hex dump of sector number \*VPSN\*O to \*Lstdout\*O.
.LI "\*L\-i \*Vnnn\*O [\*Vccc\*O]"
Uses the interleave factor \*Vnnn\*O for formattting.  If specified,
\*Vccc\*O indicates an additional intercylinder interleave.
.LI "\*L\-pchd\*O"
Copies a packed-C hex dump of the entire disk to \*Lstdout\*O.
.LI "\*L\-s\*O"
Specifies silent mode.  This flag blocks informational messages from appearing
on \*Lstderr\*O.
.LI "\*L\-test\*O"
Reads the entire media.  The command fails if the utility finds a bad sector.
.LI "\*L\-wait\*O"
Waits for media to be inserted into the drive if none is present.
.LI "\*L\-waitn\*O"
Waits for new media to be inserted into the drive if none is present
or if the current media has been opened since it was last inserted.
.LI "\*L\-what\*O"
Reads the disk and reports on the format of the disk.
.LE
.SH PARAMETERS
.PP
.VL 4m
.LI "\*Vspecial\*O"
Specifies an unmounted, raw device pathname.  This device must be an
FDI interface (\*Lfd\*O).
.LE
.SH DESCRIPTION
.PP
The \*Lfddisk\*O utility, an FDI (integrated Floppy Disk Interface) disk
maintenance program, can format a floppy disk, scan a floppy disk for
bad blocks, and read and write selected blocks.  It can be used in shell
scripts for checking the status of floppy disks.  Such status checks include
checking for or waiting for the presence of media, and checking for or
waiting for the user to change the media.
.SH RESTRICTIONS
.PP
The \*Lfddisk\*O utility has the following restrictions:
.ML
.LI
You must have read/write access to the device.
.LI
The device must not be mounted.
.LI
The program can only be used with a 3.5-inch floppy disk in the
RX26 drive.
.LI
In some cases, it might not be possible to format a floppy disk at a higher
density than it is already formated.  If this situation occurs,
the floppy disk must be bulk erased before it can be reformatted at a
higher density.
.LE
.SH EXAMPLES
.PP
.AL
.LI
This example formats a floppy disk in drive zero:
.sp
.iS
# /usr/bin/fddisk -fmt /dev/rfd0a
.iE
.LI
This example formats a floppy disk in drive zero when the disk has been
read or written since it was inserted into the drive:
.sp
.iS
# /usr/bin/fddisk -fmt -f /dev/rfd0a
.iE
.LE
.SH RELATED INFORMATION
.PP
\*Lfd\*O(4),
\*Lmount\*O(8),
\*Lrestore\*O(8),
\*Luerf\*O(8)
.EQ
delim off
.EN
