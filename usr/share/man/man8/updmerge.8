.\" This manpage source uses rsml coding. 
.so /usr/share/lib/tmac/sml
.so /usr/share/lib/tmac/rsml
.\"
.\"
.\" *********************************************************************
.\" *                                                                   *
.\" *      Copyright (c) Digital Equipment Corporation, 1991, 1994      *
.\" *                                                                   *
.\" *                       All Rights Reserved.                        *
.\" *                                                                   *
.\" *********************************************************************
.\"
.\"
.\" HISTORY
.\"
.\" @(#)$RCSfile: updmerge.8,v $ $Revision: 1.1.2.2 $ (DEC) $Date: 1993/06/09 21:56:25 $
.\"
.TH updmerge 8
.SH NAME
.PP
\*Lupdmerge\*O \- Merge customized and user files with newly installed files
.SH SYNOPSIS
.PP
.iX "updmerge utility"
.sS
\*L/usr/bin/updmerge\*O [\*L-r\*O] \*Vdirectory\*O
.nL
\*L/usr/bin/updmerge\*O \*Vdirectory\*O
.nL
\*L/usr/bin/updmerge\*O \*Vfile\*O \*Vdirectory\*O
.sE
.SH FLAGS
.PP
.VL 4m
.LI "\*L-r\*O"
Performs a recursive reinstallation of all the files and subdirectories
in the \*L/var/adm/install/update\*O area relative to the
specified directory.
.LE
.SH PARAMETERS
.PP
.VL 4m
.LI "\*Vdirectory\*O"
Specifies the directory from which the reinstallation is relative.  This
is typically the \*Lroot\*O (/) directory.
.LI "\*Vfile\*O"
Specifies the name of a file in the update area, or specifies
the relative pathname of that file from the update area.
.LE
.SH DESCRIPTION
.PP
The \*Lupdmerge\*O utility is a part of the Reinstallation Toolkit
(RITKIT).  This utility enables you to merge files that have been
preserved from a previous installation into the new installation
environment.  Thus, any user file or customized file from a previous
installation that you do not want replaced or overwritten can be
saved and reintegrated into a new installation environment.
.PP
You must have superuser privileges to invoke this utility, the
system must be in single-user mode, and this utility must be invoked
from the \*L/var/adm/install/update\*O directory.
This directory is created
by the \*Lupdmv\*O utility.  It contains the files that have been
preserved from the previous installation.
.PP
To integrate files from the previous installation into the new
installation environment, the \*Lupdmerge\*O utility
compares each preserved file to the newly installed files
as follows:
.ML
.LI
If the preserved file does not exist on the system, you can view
the preserved file before determining whether or not to install
it.
.LI
If the preserved file does exist on the system, you can view the
differences between the preserved file and the newly installed
file before selecting the file you want installed on the system.
.LI
If a preserved file is identical to a newly installed file, a message
is printed to this effect and the next file is checked.
.LE
.PP
The \*Lupdmerge\*O utility is invoked as follows:
.ML
.LI
To perform a recursive installation of all preserved
subdirectories under the \*L/var/adm/install/update\*O area relative to a
specific directory, specify the \*L-r\*O flag followed
by the \*Vdirectory\*O parameter.
.LI
To install only those preserved files directly under the
\*L/var/adm/install/update\*O directory, specify only the \*Vdirectory\*O
parameter.  This causes a non-recursive merge of the files in the
specified directory.  By using this parameter, subdirectories in
\*L/var/adm/install/update\*O are not merged into the new installation
environment.
.LI
To install only a single preserved file, use the \*Vfile\*O parameter
followed by the \*Vdirectory\*O parameter.  A \*Vfile\*O can be the
name of the file in the \*L/var/adm/install/update\*O directory,
or it can contain the relative pathname of that file from the
\*L/var/adm/install/update\*O directory.
.IP
If you specify a directory for the \*Vfile\*O
parameter instead of the name of a \*Vfile\*O, the \*Lupdmerge\*O
utility reinstalls all files in the directory, but not in the
subdirectories.
.LE
.SH EXAMPLES
.PP
.AL
.LI
In this example, the \*Lupdmerge\*O utility
recursively installs all preserved subdirectories and files under
\*L/var/adm/install/update\*O relative to the root (/) directory:
.iS
\*Lupdmerge \-r /\*O
.iE
.LI
In this example, the \*Lupdmerge\*O utility installs
the preserved \*L/etc/hosts\*O file relative to the root (/) directory:
.iS
\*Lupdmerge etc/hosts /\*O
.iE
.LI
In this example, the \*Lupdmerge\*O utility
installs the preserved files in the \*Letc\*O directory relative to
the root (/) directory (in this case, \*L/etc\*O):
.iS
\*Lupdmerge etc /\*O
.iE
.LE
.SH FILES
.PP
.VL 4m
.LI "\*L/var/adm/install/update/*\*O"
Storage area created by the \*Lupdmv\*O utility that contains the files
preserved by RITKIT.
.LE
.SH  RELATED INFORMATION
.PP
Commands: \*Lgenufi\*O(8), \*Linvsync\*O(8), \*Lupdmv\*O(8), \*Ludetect\*O(8),
\*Lusync\*O(8)
.PP
Files: \*Lstl_inv\*O(4)
.EQ
delim off
.EN
