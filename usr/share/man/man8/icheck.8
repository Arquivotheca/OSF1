.\" This manpage source uses rsml coding. 
.so /usr/share/lib/tmac/sml
.so /usr/share/lib/tmac/rsml
.\"
.\"
.\" *********************************************************************
.\" *                                                                   *
.\" *      Copyright (c) Digital Equipment Corporation, 1991, 1994      *
.\" *                                                                   *
.\" *                       All Rights Reserved.                        *
.\" *                                                                   *
.\" *********************************************************************
.\"
.\"
.\" HISTORY
.\"
.\" @(#)$RCSfile: icheck.8,v $ $Revision: 3.5.5.3 $ (DEC) $Date: 1993/12/29 16:37:45 $
.\"
.\" (c) Copyright 1990, 1991, 1992 OPEN SOFTWARE FOUNDATION, INC. 
.\" ALL RIGHTS RESERVED 
.\" OSF/1 Release 1.0.4
.\" 
.\" Copyright (c) 1980 Regents of the University of California.
.\" All rights reserved.  The Berkeley software License Agreement
.\" specifies the terms and conditions for redistribution.
.\" 
.\" @(#)icheck.8	6.3 (Berkeley) 6/24/90
.\" 
.\"build rmifdef
.TH icheck 8
.SH NAME
.PP
\*Licheck\*O \- File system storage consistency check
.SH SYNOPSIS
.PP
.sS
\*L/usr/sbin/icheck\*O [\*L\-b\*O \*Vnumbers\*O] [\*Vfile system\*O]
.sE
.SH DESCRIPTION
.PP
.iX "icheck command"
The
\*Licheck\*O
command
is obsoleted for normal consistency checking by
\*Lfsck\*O.
.PP
The
\*Licheck\*O
command examines a file system,
builds a bit map of used blocks,
and compares this bit map against
the free map maintained on the file system.
If the file system is not specified,
a set of default file systems
is checked.
The normal output of
\*Licheck\*O
includes a report of the following items:
.ML
.LI
The total number of files and the numbers of
regular, directory, block special, character special, and fifo files.
.LI
The total number of blocks in use and the numbers of
single-, double-, and triple-indirect blocks and directory blocks.
.LI
The number of free blocks.
.LI
The number of blocks missing; that is, not in any file
or in any free map.
.LE
.PP
A list of block numbers
follows the
\*L\-b\*O
option; whenever any of the named
blocks turn up in a file, a diagnostic is produced.
.PP
The
\*Licheck\*O
command
is faster if the raw version of the special file is used
since it reads the i-list many blocks at a time.
.SH NOTES
.PP
Since
\*Licheck\*O
is inherently two-pass in nature, extraneous diagnostics
may be produced if applied to active file systems.
It believes even preposterous super-blocks and
consequently causes a core dump.
.SH DIAGNOSTICS
.PP
For duplicate blocks
and bad blocks which lie outside the file system,
\*Licheck\*O
announces the difficulty, the i-number, and the kind of block involved.
If a read error is encountered,
the block number of the bad block is printed and
\*Licheck\*O
considers it to contain zero.
.SH FILES
.PP
.VL
.LI "\*L/usr/sbin/icheck\*O"
Specifies the command path.
.LE
.SH RELATED INFORMATION
.PP
Commands:  \*Lclri\*O(8), \*Lfsck\*O(8), \*Lncheck\*O(8)
.EQ
delim off
.EN
