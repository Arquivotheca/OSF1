.\" This manpage source uses rsml coding. 
.so /usr/share/lib/tmac/sml
.so /usr/share/lib/tmac/rsml
.\"
.\"
.\" *********************************************************************
.\" *                                                                   *
.\" *      Copyright (c) Digital Equipment Corporation, 1991, 1994      *
.\" *                                                                   *
.\" *                       All Rights Reserved.                        *
.\" *                                                                   *
.\" *********************************************************************
.\"
.\"
.\" HISTORY
.\"
.\" @(#)$RCSfile: acct.4,v $ $Revision: 3.2.5.2 $ (DEC) $Date: 1993/10/11 21:11:03 $
.\" 
.\"
.\" (c) Copyright 1991, OPEN SOFTWARE FOUNDATION, INC.
.\" ALL RIGHTS RESERVED
.\"
.\" acct.h
.\" hah_16.07.90
.\" nm_31.07.90
.TH acct 4
.SH NAME
.PP
\*Lacct\*O, \*Lacct.h\*O \- Accounting include files
.SH SYNOPSIS
.PP
.sS
\*L#include\*O <\*Lsys/acct.h\*O>\*L
.PP
\*L#include\*O <\*Lutmp.h\*O>\*L
.sE
.SH "DESCRIPTION"
.PP
.iX "acct.h include file"
.iX "utmp.h include file"
The \*L/usr/include/sys/acct.h\*O header file defines a type \*Lacct\*O
structure for accounting information used by various accounting files. The
information in the \*Lacct.h\*O structure is used in records in accounting
files having various fixed formats.
.iX "structure" "tacct"
.iX "tacct" "structure"
.iX "files" "accounting"
.iX "accounting" "files"
.iX "accounting" "file formats"
.iX "formats" "accounting files"
.PP
The various accounting files provide the means to monitor system use
and performance and to pass charges to system users. These accounting
files also serve as the permanent record of billing information for
each process, CPU real time, allocated resources, and services. The
\*Lacct\*O command is used to produce desired accounting files.
.iX "process" "accounting"
.iX "accounting" "process"
.PP
The \*L/usr/include/utmp.h\*O header file defines the record format
for data written to the \*L/var/adm/wtmp\*O accounting login/logout
database file whenever any user logs in or out. The type \*Lutmp\*O
structure defined in the \*L/usr/include/utmp.h\*O header file has
the following members:
.iX "record" "utmp format"
.iX "format" "utmp record"
.VL
.LI "\*Lchar\ ut_user\*O[32]"
The user login name listed in the \*L/etc/passwd\*O file.
.iX "file" "password"
.iX "user" "login name"
.iX "login" "user name"
.LI "\*Lchar\ ut_id\*O[14]"
The user identification from the \*L/etc/inittab\*O ID file.
.iX "user" "ID"
.iX "identification" "user"
.LI "\*Lchar\ ut_line\*O[32]"
The device name (console or tty43, for example).
.iX "name" "device"
.iX "device" "name"
.LI "\*Lshort\ ut_type\*O"
This is a flag that defines the type of entry. The type of entry flag
symbolic names are as follows:
.iX "entry" "type of"
.iX "type of entry"
.VL
.LI "\*LEMPTY\*O"
No valid entry.
.LI "\*LRUN_LVL\*O"
Run level changed by the \*Linit\*O program.
.LI "\*LBOOT_TIME\*O"
Boot time entry, generated by the \*Linit \*Oprogram.
.LI "\*LOLD_TIME\*O"
Used by the \*Ldate\*O program when the system time is changed.
.LI "\*LNEW_TIME\*O"
Used by the \*Ldate\*O program when the system time is changed.
.LI "\*LINIT_PROCESS\*O"
Process spawned by the \*Linit\*O program.
.LI "\*LLOGIN_PROCESS\*O"
A \*Lgetty\*O process waiting for login.
.LI "\*LUSER_PROCESS\*O"
A user process.
.LI "\*LDEAD_PROCESS\*O"
Terminated process.
.LI "\*LACCOUNTING\*O"
Private flag for accounting programs.
.LE
.LI "\*Lpid_t\ ut_pid\*O"
Process ID number.
.LI "\*Lshort\ ut_exit.e_termination\*O"
Process termination status of a process whose \*Lut_type\*O member
value is \*LDEAD PROCESS\*O.
.iX "process" "termination status"
.iX "status" "process termination"
.iX "termination" "process status"
.LI "\*Lshort\ ut_exit.e_exit\*O"
Process exit status of a process whose \*Lut_type\*O member value is
\*LDEAD PROCESS\*O.
.LI "\*Ltime_t\ ut_time\*O"
Time that entry was made.
.iX "entry" "time made"
.iX "time" "entry"
.LI "\*Lchar\ ut_host\*O[64]"
Host machine name.
.iX "name" "machine"
.iX "machine" "name"
.LE
.PP
The \*L/usr/include/sys/acct.h\*O header file defines the record
format for the data written to the process accounting database file
when a process completes.  The type \*Lacct\*O structure defined in
the \*Lacct.h\*O header file contains the following members:
.iX "process" "accounting database"
.iX "file" "process accounting"
.iX "pacct"
.VL
.LI "\*Lchar\ ac_flag\*O"
An accounting flag for the process for which the accounting record is
written. The accounting flag symbolic names are as follows:
.VL
.LI "\*LAFORK\*O"
The process has been created using a \*Lfork()\*O system call, but an
\*Lexec()\*O system call has not yet concluded. The \*Lexec()\*O system
call resets the \*LAFORK\*O flag.
.LI "\*LASU\*O"
Superuser privileges have been invoked.
.LI "\*LACOMPAT\*O"
Compatibility mode used.
.LI "\*LACORE\*O"
Dumped core.
.LI "\*LAXSIG\*O"
Process killed by a signal.
.LE
.LI "\*Lchar\ ac_stat\*O"
Exit status. A flag that indicates how the process terminated.
.LI "\*Luid_t\ ac_uid\*O"
The user ID of the process for which the accounting record is written.
.LI "\*Lgid_t\ ac_gid\*O"
The group ID of the process for which the accounting record is written.
.LI "\*Ldev_t\ ac_tty\*O"
The terminal from which the process was started.
.LI "\*Ltime_t\ ac_btime\*O"
Beginning time. The time at which the process began.
.LI "\*Lcomp_t\ ac_utime\*O"
The amount of user time (in a compressed format) used by the process.
.LI "\*Lcomp_t\ ac_stime\*O"
The amount of system time (in a compressed format) used by the process.
.LI "\*Lcomp_t\ ac_etime\*O"
The amount of elapsed time (in a compressed format) since the command ran.
.LI "\*Lshort\ ac_mem\*O"
The average amount of memory used by the process.
.LI "\*Lcomp_t\ ac_io\*O"
The number of characters (in a compressed format) transferred by the process.
.LI "\*Lcomp_t\ ac_rw\*O"
The number of blocks (in a compressed format) read or written by the process.
.LI "\*Lchar\ ac_comm\*O[8]"
The name of the command that was used to start the process. A child
process created by a \*Lfork()\*O system call receives up to 8 bytes
from the parent process. An \*Lexec()\*O system call changes the
name in this field.
.LE
.PP
Compressed data, which is a condensed floating-point representation, may be
expanded to normal floating point by using the \*Lexpacct(\|)\*O routine.
.PP
The type \*Ltacct\*O structure, which is not a part of the
\*L/usr/include/utmp.h\*O or the \*L/usr/include/sys/acct.h\*O header file
definitions, is defined in a private \*Ltacct.h\*O header
file. The type \*Ltacct\*O structure members define a format for
storage of all information available from both the \*L/var/adm/wtmp\*O
login/logoff and \*L/var/adm/pacct\*O process accounting databases,
whose members are used by various accounting commands to produce an
output file to be used in an accounting report (see the \*Lacctmerg\*O
command). Members of the type \*Ltacct\*O structure whose data types
are specified as an array of two \*Vdouble\*O elements have both
prime-time and non-prime time values. The type \*Ltacct\*O structure
has the following members:
.iX "time" "prime"
.iX "prime time"
.iX "time" "nonprime"
.iX "nonprime time"
.VL
.LI "\*Luid_t\ ta_uid\*O"
User ID.
.LI "\*Lchar\ ta_name\*O[NSZ]"
A field for the login name having the same number
of characters \*LNSZ\*O as the \*Lut_user\*O member of
the \*Lutmp\*O structure.
.LI "\*Ldouble\ ta_cpu\*O[2]"
Cumulative CPU time in minutes.
.LI "\*Ldouble\ ta_kcore\*O[2]"
Cumulative Kcore minutes.
.iX "K-core" "minutes"
.iX "time" "K-core minutes"
.LI "\*Ldouble\ ta_io\*O[2]"
Cumulative number of characters transferred in blocks of 512 bytes.
.iX "transfer" "data blocks"
.iX "data blocks" "transfer"
.LI "\*Ldouble\ ta_rw\*O[2]"
Cumulative number of blocks read and written.
.LI "\*Ldouble\ ta_con\*O[2]"
Cumulative connect time in minutes.
.iX "connect session" "time"
.iX "time" "connect session"
.LI "\*Ldouble\ ta_du\*O"
Cumulative disk usage time in minutes.
.iX "time" "disk usage"
.iX "disk" "usage time"
.LI "\*Llong\ ta_qsys\*O"
Queueing system (printer) fee in number of pages.
.iX "printer" "pages queued"
.iX "queue" "printer pages"
.LI "\*Ldouble\ ta_fee\*O"
Special services fee.
.iX "user" "fee charge"
.iX "charge" "user fees"
.LI "\*Llong\ ta_pc\*O"
A count of the number of processes.
.iX "process" "number of"
.iX "number of processes"
.LI "\*Lunsigned short\ ta_sc\*O"
A count of the number of login sessions.
.iX "login" "number of sessions"
.iX "session" "number of logins"
.LI "\*Lunsigned short\ ta_dc\*O"
A count of the number of disk samples.
.iX "disk" "number of samples"
.iX "samples" "disk"
.LE
.SH "FILES"
.PP
.VL
.LI "\*L/usr/include/sys/acct.h\*O, \*L/usr/include/utmp.h\*O"
Accounting header files that define formats for writing accounting files.
.LI "\*L/var/adm/wtmp\*O"
The active login/logoff database file.
.LI "\*L/var/adm/pacct\*O"
The active process accounting database file.
.LE
.SH "RELATED INFORMATION"
.PP
Commands: \*Lacct\*O(8), \*Lacctcms\*O(8), \*Lacctcom\*O(8), \*Lacctcon\*O(8),
\*Lacctdisk\*O(8), \*Lacctmerg\*O(8), \*Lacctprc\*O(8), \*Lrunacct\*O(8),
\*Lsa\*O(8).
.PP
Functions: \*Lacct\*O(2), \*Lfork\*O(2), \*Lexec\*O(2), \*Lexpacct\*O(3).
.EQ
delim off
.EN
