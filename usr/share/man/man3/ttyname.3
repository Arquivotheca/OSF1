.\" This manpage source uses rsml coding. 
.so /usr/share/lib/tmac/sml
.so /usr/share/lib/tmac/rsml
.\"
.\"
.\" *********************************************************************
.\" *                                                                   *
.\" *      Copyright (c) Digital Equipment Corporation, 1991, 1994      *
.\" *                                                                   *
.\" *                       All Rights Reserved.                        *
.\" *                                                                   *
.\" *********************************************************************
.\"
.\"
.\" HISTORY
.\"
.\" @(#)$RCSfile: ttyname.3,v $ $Revision: 3.2.2.3 $ (DEC) $Date: 1992/11/09 19:59:38 $
.\"
.\" 
.\" (c) Copyright 1991, OPEN SOFTWARE FOUNDATION, INC.
.\" ALL RIGHTS RESERVED
.\" 
.\"
.\" Copyright (c) 1990, OPEN SOFTWARE FOUNDATION, INC.
.\" ALL RIGHTS RESERVED
.\"
.\" Begin Digital-specific information
.\" Added ttyname_r to the NAME line per QAR 7913.
.\" Also recoded tons of stuff because hardly any of this manpage was
.\"   coded in rsml.  Corrected things per tman as well.
.\" End Digital-specific information
.TH ttyname 3
.SH NAME
.PP
\*Lttyname\*O, \*Lisatty\*O, \*Lttyname_r\*O \-  Gets the name of a terminal
.SH LIBRARY
.PP
Standard C Library (\*Llibc.a\*O)
.SH SYNOPSIS
.PP
.sS
\*Lchar *ttyname(
.br
	int \*Vfile-descriptor\*L );
.PP
\*Lint isatty(
.br
	int \*Vfile-descriptor\*L );
.PP
\*Lint ttyname_r(
.br
	int \*Vfile-descriptor\*L,
.br
	char *\*Vbuffer\*L,
.br
	int \*Vlen\*L );
.sE
.SH PARAMETERS
.PP
.VL 10m
.LI "\*Vfile-descriptor\*O"
Specifies an open file descriptor.
.LI "\*Vbuffer\*O"
Points to a buffer in which the terminal name is stored.
.LI "\*Vlen\*O"
Specifies the length of the buffer pointed to by the \*Vbuffer\*O parameter.
.LE
.SH DESCRIPTION
.PP
.iX "ttyname function"
.iX "isatty function"
.iX "terminal name"
.iX "retrieving terminal name"
.iX "name" "terminal"
The \*Lttyname(\|)\*O function gets the name of a terminal.  It
returns a pointer to a string containing the null-terminated pathname
of the terminal device associated with the \*Vfile-descriptor\*O parameter.
.PP
The \*Lisatty(\|)\*O function determines if the device associated
with the \*Vfile-descriptor\*O parameter is a terminal.
If so, the \*Lisatty(\|)\*O function returns a value of 1.
If the file descriptor is not associated with a terminal, a value
of 0 (zero) is returned.
.PP
The \*Lttyname_r(\|)\*O function is the reentrant version of the
\*Lttyname(\|)\*O function.
Upon successful completion, the terminal name is stored as a
null-terminated string in the buffer pointed to by the \*Vbuffer\*O parameter.
.SH NOTES
.PP
\*LAES Support Level\*O: Full use
.SH RETURN VALUES
.PP
The \*Lttyname(\|)\*O function returns a pointer to
a string which is static data that is overwritten by each call.
A null pointer is returned if the \*Vfile-descriptor\*O parameter
does not describe a terminal device in the directory \*L/dev\*O.
.PP
The \*Lisatty(\|)\*O function returns a value of 1
if the specified file descriptor is associated
with a terminal, and 0 (zero) otherwise.
.PP
The \*Lttyname_r(\|)\*O function returns 0 (zero) if successful.
Otherwise, \-1 is returned.
.SH ERRORS
.PP
If the \*Lttyname_r(\|)\*O function fails, \*Lerrno\*O may be set to
the following value:
.VL 10m
.LI "[EINVAL]"
The \*Vbuffer\*O parameter is a null pointer or the \*Vlen\*O
parameter was too short to store the string.
.LE
.PP
If the \*Lisatty(\|)\*O function fails, \*Lerrno\*O
may be set to the following value:
.VL 10m
.LI "[ENOTTY]"
The file associated with \*Vfiledes\*O is not a terminal.
.LE
.SH RELATED INFORMATION
.PP
Functions:
\*Lttyslot\*O(3)
.iX "ttyname function"
.iX "isatty function"
.EQ
delim off
.EN
