.\" This manpage source uses rsml coding. 
.so /usr/share/lib/tmac/sml
.so /usr/share/lib/tmac/rsml
.\"
.\"
.\" *********************************************************************
.\" *                                                                   *
.\" *      Copyright (c) Digital Equipment Corporation, 1991, 1994      *
.\" *                                                                   *
.\" *                       All Rights Reserved.                        *
.\" *                                                                   *
.\" *********************************************************************
.\"
.\"
.\" HISTORY
.\"
.\" @(#)$RCSfile: res_send.3,v $ $Revision: 3.2.2.2 $ (DEC) $Date: 1992/05/20 17:25:17 $
.\"
.\" 
.\" (c) Copyright 1991, OPEN SOFTWARE FOUNDATION, INC.
.\" ALL RIGHTS RESERVED
.\" 
.\"
.\"
.TH res_send 3
.SH NAME
\*Lres_send\*O \- Sends a query to a name server and retrieves a response
.SH LIBRARY
Standard C Library \*L(libc.a)
.SH SYNOPSIS 
.sS
\*L#include <sys/types.h>
.sp .4v
\*L#include <netinet/in.h>\*O
.sp .4v
\*L#include <arpa/nameser.h>\*O
.sp .4v
\*L#include <resolv.h>\*O
.sp .4v
\*Lint res_send\*O (\*L
.nL
	\*Lchar *\*Vmsg_ptr\*L,
.nL
	\*Lint \*Vmsg_len\*L,
.nL
	\*Lchar *\*Vanswer\*L,
.nL
	\*Lint \*Vans_len \*L);
.sE 
.SH PARAMETERS
.\"from TP "  
.VL 
.LI "\*Vmsg_ptr"
\*OPoints
to the beginning of a message.
.\"from TP "  
.LI "\*Vmsg_len" 
\*OSpecifies
the length of the message.
.\"from TP "  
.LI "\*Vanswer" 
\*OPoints to
an address where the response is stored.
.\"from TP "  
.LI "\*Vans_len" 
\*OSpecifies
the size of the answer area.
.LE 
.SH DESCRIPTION
.iX "res_send function"
.iX "querying name servers"
.iX "name servers" "querying"
.PP 
The \*Lres_send(\|)\*O function sends a query toname servers and calls
the \*Lres_init(\|)\*O function
if the RES_INIT option of the \*L_res
\*Odata structure is not set.  This function sends the query to the
local name server and handles timeouts and retries.
.PP 
The \*Lres_send(\|)\*O function is one of a set of subroutines
that form the \*Oresolver, a set of functions
that resolve domain names.  Global information that is used by the
resolver functions is kept in the \*L_res\*O data structure.  The  \*L/include/resolv.h\*O
file contains
the \*L_res \*Odata structure definition.
.SH RETURN VALUES
.PP 
Upon successful completion, the \*Lres_send(\|)\*O function returns
the length of the message.
Otherwise, -1 is returned.
.SH FILES
.\"from TP "  
.VL 
.LI "\*L/etc/resolv.conf"
\*OContains
general name server and domain name information.
.LE 
.SH RELATED INFORMATION
.PP 
Functions:
\*Ldn_comp\*O(3),
\*Ldn_expand\*O(3),
\*Ldn_find\*O(3),
\*Ldn_skipname\*O(3),
\*Lgetlong\*O(3),
\*Lgetshort\*O(3),
\*Lputlong\*O(3),
\*Lputshort\*O(3),
\*Lres_init\*O(3),
\*Lres_mkquery\*O(3)
.iX "res_send function"
.EQ
delim off
.EN
