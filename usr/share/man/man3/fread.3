.\" This manpage source uses rsml coding. 
.so /usr/share/lib/tmac/sml
.so /usr/share/lib/tmac/rsml
.\"
.\"
.\" *********************************************************************
.\" *                                                                   *
.\" *      Copyright (c) Digital Equipment Corporation, 1991, 1994      *
.\" *                                                                   *
.\" *                       All Rights Reserved.                        *
.\" *                                                                   *
.\" *********************************************************************
.\"
.\"
.\" HISTORY
.\"
.\" @(#)$RCSfile: fread.3,v $ $Revision: 3.2.5.2 $ (DEC) $Date: 1993/06/23 21:25:34 $
.\"
.\" (c) Copyright 1990, 1991, 1992, 1993 OPEN SOFTWARE FOUNDATION, INC. 
.\" ALL RIGHTS RESERVED 
.\" OSF/1 1.2
.\"
.TH fread 3
.SH NAME
.PP
\*Lfread\*O, \*Lfread_unlocked\*O, \*Lfwrite\*O, \*Lfwrite_unlocked\*O \- Perform input/output operations
.SH LIBRARY
.PP
Standard C Library (\*Llibc.a\*O)
.SH SYNOPSIS
.PP
.sS
\*L#include <stdio.h>
.PP
\*Lsize_t fread(
.nL
        \*Lvoid \(**\*Vpointer\*L,
.nL
        \*Lsize_t \*Vsize\*L,
.nL
        \*Lsize_t \*Vnum_items\*L,
.nL
        \*LFILE \(**\*Vstream\*L);\*O
.PP
\*Lsize_t fread_unlocked(
.nL
        \*Lvoid \(**\*Vpointer\*L,
.nL
        \*Lsize_t \*Vsize\*L,
.nL
        \*Lsize_t \*Vnum_items\*L,
.nL
        \*LFILE \(**\*Vstream\*L);\*O
.PP
\*Lsize_t fwrite(\*O
.nL
        \*Lconst void \(**\*Vpointer\*L,
.nL
        \*Lsize_t \*Vsize\*L,
.nL
        \*Lsize_t \*Vnum_items\*L,
.nL
        \*LFILE \(**\*Vstream\*L);\*O
.PP
\*Lsize_t fwrite_unlocked(
.nL
        \*Lconst void \(**\*Vpointer\*L,
.nL
        \*Lsize_t \*Vsize\*L,
.nL
        \*Lsize_t \*Vnum_items\*L,
.nL
        \*LFILE \(**\*Vstream\*L);\*O
.sE
.SH PARAMETERS
.PP
.VL
.LI "\*Vpointer\*O"
Points to an array.
.LI "\*Vsize\*O"
Specifies the size of the variable type of the array
pointed to by the \*Vpointer\*O parameter.
.LI "\*Vnum_items\*O"
Specifies the number of items of data.
.LI "\*Vstream\*O"
Specifies the input or output stream.
.LE
.SH DESCRIPTION
.PP
.iX "fread function"
.iX "fwrite function"
.iX "fread_unlocked function"
.iX "fwrite_unlocked function"
.iX "stream" "performing binary input/output"
The \*Lfread(\|)\*O function copies \*Vnum_items\*O
of data of length \*Vsize\*O
from the input stream into an array beginning at the location
pointed to by the \*Vpointer\*O parameter.
.PP
The \*Lfread(\|)\*O function stops copying bytes if an End-of-File
or error condition is encountered while reading from the input specified
by the \*Vstream\*O parameter, or when the number of data items
specified by the \*Vnum_items\*O parameter have been copied.
The function leaves the file pointer of the \*Vstream\*O parameter,
if defined, pointing to the byte following the last byte read, if
there is one. The \*Lfread(\|)\*O function does not change the contents
of the \*Vstream\*O parameter.
.PP
The \*Lfwrite(\|)\*O function appends \*Vnum_items\*O
of data of length \*Vsize\*O from the array pointed
to by the \*Vpointer\*O parameter to the output stream.
.PP
The \*Lfwrite(\|)\*O function stops writing bytes if an error
condition is encountered on the stream, or when the number
of items of data specified by the \*Vnum_items\*O parameter
have been written. The \*Lfwrite(\|)\*O function does not change
the contents of the array pointed to by the \*Vpointer\*O parameter.
.PP
The \*Lfread_unlocked(\|)\*O and \*Lfwrite_unlocked(\|)\*O
functions are functionally identical to the
\*Lfread(\|)\*O and \*Lfwrite(\|)\*O functions,
except that \*Lfread_unlocked(\|)\*O and \*Lfwrite_unlocked(\|)\*O
may be safely used only within a scope that is protected by the
\*Lflockfile(\|)\*O and \*Lfunlockfile(\|)\*O functions used as a
pair.  The caller must ensure that the stream is locked before using
these functions.
.SH NOTES
.PP
If the \*Vstream\*O parameter is invalid, the result of calling the
\*Lfread(\|)\*O, \*Lfwrite(\|)\*O, \*Lfread_unlocked(\|)\*O, and
\*Lfwrite_unlocked(\|)\*O functions is undefined.
.PP
.VL
.LI "\*LAES Support Level:\*O"
Full use.
.LE
.SH RETURN VALUES
.PP
Upon successful completion,
the \*Lfread(\|)\*O, \*Lfwrite(\|)\*O, \*Lfread_unlocked(\|)\*O, and
\*Lfwrite_unlocked(\|)\*O functions return the
number of items actually transferred. If the \*Vnum_items\*O
parameter is negative or 0 (zero), no characters are transferred, and a value
of 0 (zero) is returned.  If a read or write error occurs,
the error indicator for the stream is set, and
\*Lerrno\*O is set to indicate the error.
.SH ERRORS
.PP
Refer to the \*Lfputc\*O(3) reference page for error codes returned by
\*Lfread(\|)\*O,
\*Lfwrite(\|)\*O, \*Lfread_unlocked(\|)\*O, and \*Lfwrite_unlocked(\|)\*O.
.SH RELATED INFORMATION
.PP
Functions:
\*Lread\*O(2)\*O,
\*Lwrite\*O(2)\*O,
\*Lfopen\*O(3)\*O,
\*Lgetc\*O(3)\*O,
\*Lgets\*O(3)\*O,
\*Lprintf\*O(3)\*O,
\*Lputc\*O(3)\*O,
\*Lputs\*O(3)\*O,
\*Lscanf\*O(3)\*O.
.EQ
delim off
.EN
