.\" This manpage source uses rsml coding. 
.so /usr/share/lib/tmac/sml
.so /usr/share/lib/tmac/rsml
.\"
.\"
.\" *********************************************************************
.\" *                                                                   *
.\" *      Copyright (c) Digital Equipment Corporation, 1991, 1994      *
.\" *                                                                   *
.\" *                       All Rights Reserved.                        *
.\" *                                                                   *
.\" *********************************************************************
.\"
.\"
.\" HISTORY
.\"
.\" @(#)$RCSfile: ldgetpd.3,v $ $Revision: 3.2.2.3 $ (DEC) $Date: 1993/02/03 21:15:31 $
.\"
.\" ------------------------------------------------------------------
.\" | Copyright Unpublished, MIPS Computer Systems, Inc.  All Rights |
.\" | Reserved.  This software contains proprietary and confidential |
.\" | information of MIPS and its suppliers.  Use, disclosure or     |
.\" | reproduction is prohibited without the prior express written   |
.\" | consent of MIPS.                                               |
.\" ------------------------------------------------------------------
.\"  ldgetpd.3 3.1
.TH ldgetpd 3
.SH NAME
\*Lldgetpd\*O \- Retrieves procedure descriptor given a procedure descriptor index
.SH SYNOPSIS
.PP
.iX "ldgetpd routine"
.sS
\*L#include <stdio.h>\*O
.nL
\*L#include <filehdr.h>\*O
.nL
\*L#include <sym.h>\*O
.nL
\*L#include <ldfcn.h>\*O
.sp
\*Llong ldgetpd (\*Vldptr\*L, \*Vipd\*L, \*Vppd\*L )\*O
.nL
\*LLDFILE \** \*Vldptr\*L ;\*O
.nL
\*Llong \*Vipd\*L ;\*O
.nL
\*LpPDR \** \*Vipd\*O ;
.sE
.SH DESCRIPTION
.PP
The \*Lldgetpd\*O routine returns a SUCCESS or FAILURE
depending on whether the procedure descriptor with index
\*Vipd\*O can be accessed.
If it can be accessed, the structure pointed to by
\*Vppd\*O
is filled with the contents of the corresponding procedure descriptor.
The \*Visym, iline,\*O and \*Viopt\*O
fields of the procedure descriptor are updated to be used in further
LD routine calls. The \*Vadr\*O
field is updated from the symbol referenced by the
\*Visym field\*O.
.PP
The PDR cannot be retrieved when:
.ML
.LI
The procedure descriptor table cannot be found.
.LI
The \*Vipd\*O offset into the procedure descriptor table is beyond the
end of the table.
.LI
The file descriptor that the \*Vipd\*O offset falls into cannot be found.
.LE
.PP
Typically, \*Lldgetpd\*O is called while traversing the table that
runs from 0 to SYMHEADER(ldptr).ipdMax - 1.
.PP
The program must be loaded with the object file access
routine library \*Llibmld.a\*O.
.SH RELATED INFORMATION
.PP
\*Lldclose\*O(3), \*Lldopen\*O(3), \*Lldtbseek\*O(3), \*Lldtbread\*O(3),
\*Lldfcn\*O(4).
.EQ
delim off
.EN
