.\" This manpage source uses rsml coding. 
.so /usr/share/lib/tmac/sml
.so /usr/share/lib/tmac/rsml
.\"
.\"
.\" *********************************************************************
.\" *                                                                   *
.\" *      Copyright (c) Digital Equipment Corporation, 1991, 1994      *
.\" *                                                                   *
.\" *                       All Rights Reserved.                        *
.\" *                                                                   *
.\" *********************************************************************
.\"
.\"
.\" HISTORY
.\"
.\" @(#)$RCSfile: tcdrain.3,v $ $Revision: 3.2.2.2 $ (DEC) $Date: 1992/05/21 09:06:37 $
.\"
.\" 
.\" (c) Copyright 1991, OPEN SOFTWARE FOUNDATION, INC.
.\" ALL RIGHTS RESERVED
.\" 
.\"
.\" Copyright (c) 1990, OPEN SOFTWARE FOUNDATION, INC.
.\" ALL RIGHTS RESERVED
.\"
.TH tcdrain 3
.SH NAME
tcdrain \-  Waits for output to complete
.SH LIBRARY
\f1Standard C Library (\f3libc.a\f1)
.SH SYNOPSIS
.PP
\f3#include <termios.h>
.ft R
.PP
\f3int tcdrain(
.br
	int \f2filedes \f3);
.rS
.SH PARAMETERS
.TP
\f2filedes
\f1Specifies an open file descriptor.
.SH DESCRIPTION
.iX "tcdrain function"
.iX "waiting for output"
.iX "output" "completing"
.PP
The \f3tcdrain(\|)\f1 function waits until all output written 
to the object referred to by the \f2filedes\f1 parameter 
has been transmitted.
.PP
A process group is sent a SIGTTOU signal if 
the
.B tcdrain(\|) 
function is called from one of its member processes.
If the calling process is blocking or ignoring SIGTTOU signals, the
process is allowed to perform the operation and no signal is sent.
.PP
The
.BR tcdrain(\|)  
function, which suspends the calling process until the request is
completed, is redefined so that only the calling thread is
suspended.
.SH NOTES
.PP
.BR "AES Support Level:"
Full use
.SH EXAMPLE
.PP
To wait until all output has been transmitted, enter:
.ft CW
.sp 1
.nf
rc\ =\ tcdrain(stdout);
.fi
.sp
.ne 3i
.SH RETURN VALUES
.PP
Upon successful completion, a value of 0 (zero) is returned. Otherwise, 
a value of -1 is returned and \f3errno\f1 is 
set to indicate the error. 
.SH ERRORS
.PP
If the \f3tcdrain(\|)\f1 function fails,
.B errno
may be set to one of the following values:
.TP 1i
[EBADF]
The \f2filedes\f1 parameter does not 
specify a valid file descriptor.
.TP 1i
[EINTR]
A signal interrupted the \f3tcdrain(\|)\f1 function.
.TP 1i
[ENOTTY]
The file associated with the \f2filedes\f1 
parameter is not a terminal. 
.SH RELATED INFORMATION
.PP
Functions: 
.BR tcflow (3),
.BR tcflush (3),
.BR tcsendbreak (3)
.iX "tcdrain function"
.EQ
delim off
.EN
