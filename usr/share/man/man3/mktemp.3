.\" This manpage source uses rsml coding. 
.so /usr/share/lib/tmac/sml
.so /usr/share/lib/tmac/rsml
.\"
.\"
.\" *********************************************************************
.\" *                                                                   *
.\" *      Copyright (c) Digital Equipment Corporation, 1991, 1994      *
.\" *                                                                   *
.\" *                       All Rights Reserved.                        *
.\" *                                                                   *
.\" *********************************************************************
.\"
.\"
.\" HISTORY
.\"
.\" @(#)$RCSfile: mktemp.3,v $ $Revision: 3.2.8.3 $ (DEC) $Date: 1993/12/08 16:24:31 $
.\"
.\" 
.\" (c) Copyright 1991, OPEN SOFTWARE FOUNDATION, INC.
.\" ALL RIGHTS RESERVED
.\" 
.\"
.\"
.TH mktemp 3
.SH NAME
\*Lmktemp\*O, \*Lmkstemp\*O \- Constructs a unique filename
.SH LIBRARY
.PP
\*OStandard C Library (\*Llibc.a\*O),
.PP
\*OSystem V Compatibility Library (\*Llibsys5.a\*O)
.PP
\*OBerkeley Compatibility Library (\*Llibbsd.a\*O)
.SH SYNOPSIS
.PP
.sS
.\" Begin Digital-specific information CORRECTION
.\" Changes 'char *' to 'int' per QAR 11041.
\*OStandard C Library\*O
.sp
\*Lint mkstemp\*O (\*L
.\" End Digital-specific information CORRECTION
.nL
	\*Lchar *\*Vtemplate \*L);
.sp
\*Lchar *mktemp (
.nL
	\*Lchar *\*Vtemplate\*O);
.sE
.SH PARAMETERS
.PP
.VL 4m
.LI "\*Vtemplate\*O"
Points to a string to be replaced with a unique
filename.  The string in the \*Vtemplate\*O parameter must be
a filename with six trailing Xs.
.LE
.SH DESCRIPTION
.PP
.iX "mktemp function"
.iX "mkstemp function"
.iX "filename" "constructing unique"
.PP
The \*Lmktemp(\|)\*O function replaces the contents of the string
pointed to by the \*Vtemplate\*O parameter with a unique filename.
Under \*Llibc.a\*O, the filename is a unique combination of the
thread name and process ID.  Under \*Llibsys5.a\*O, the filename
is created with the \*Lgetpid\*O function.
.\" Begin Digital-specific information CORRECTION
.\" Moved the following paragraph from NOTES to DESCRIPTION.
.PP
The \*Lmkstemp(\|)\*O function performs the same substitution
to the template name and also opens the file for reading and writing.
This function is not available under \*Llibsys5.a\*O.
.\" End Digital-specific information CORRECTION
.SH NOTES
.PP
In BSD systems, the \*Lmkstemp(\|)\*O function was intended to
avoid a race condition between generating a temporary name and creating
the file. Because the name generation in this system
is more random, this race condition is less likely.
.PP
To get the BSD version of this function, compile with the Berkeley
Compatibility Library (\*Llibbsd.a\*O).
.SH RETURN VALUES
.PP
Upon successful completion, the \*Lmktemp(\|)\*O function returns
the address of the string pointed to by the \*Vtemplate\*O parameter.
.PP
If the string pointed to by the \*Vtemplate\*O parameter contains
no Xs, or if the \*Lmktemp(\|)\*O function is unable to construct
a unique filename, the first character of the \*Vtemplate\*O parameter
string is replaced with a null character, and a null pointer is returned.
.PP
Upon successful completion, the \*Lmkstemp(\|)\*O function returns
an open file descriptor. If the \*Lmkstemp(\|)\*O function fails,
it returns a value of -1.
.SH ERRORS
.PP
No errors are defined for this routine.
.SH RELATED INFORMATION
.PP
Functions:
\*Ltmpfile\*O(3),
\*Ltmpnam\*O(3),
\*Lgetpid\*O(2)
.EQ
delim off
.EN
