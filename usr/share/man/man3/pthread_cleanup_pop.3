.\" This manpage source uses rsml coding. 
.so /usr/share/lib/tmac/sml
.so /usr/share/lib/tmac/rsml
.\"
.\"
.\" *********************************************************************
.\" *                                                                   *
.\" *      Copyright (c) Digital Equipment Corporation, 1991, 1994      *
.\" *                                                                   *
.\" *                       All Rights Reserved.                        *
.\" *                                                                   *
.\" *********************************************************************
.\"
.\"
.\" HISTORY
.\"
.\" @(#)$RCSfile: pthread_cleanup_pop.3,v $ $Revision: 3.3.2.3 $ (DEC) $Date: 1992/07/22 12:23:59 $
.\" 
...\" Copyright 1991, Open Software Foundation, Inc. ALL RIGHTS RESERVED.
.wH ********************************************************************
.wH                                                                    *
.wH COPYRIGHT (c) 1990 BY DIGITAL EQUIPMENT CORPORATION,               *
.wH Maynard, Mass.                                                     *
.wH                                                                    *
.wH This document is furnished under a license and may be used and     *
.wH copied only in accordance with the terms of such license and with  *
.wH the inclusion of the above copyright notice. This document or any  *
.wH other copies thereof may not be provided or otherwise made         *
.wH available to any other person. No title to or ownership of the     *
.wH document is hereby transferred.                                    *
.wH                                                                    *
.wH The information in this document is subject to change without      *
.wH notice and should not be construed as a commitment by DIGITAL      *
.wH Equipment Corporation.                                             *
.wH                                                                    *
.wH ********************************************************************
.wH "<routine_section>"
.TH pthread_cleanup_pop 3
.iX "Cleanup routine" "executing"
.SH NAME
\*Lpthread_cleanup_pop\*O \- Removes
the cleanup handler at the top of the cleanup stack and optionally executes
it.
.SH SYNOPSIS
.PP
.sS
\*L#include <pthread.h>
.fS "void pthread_cleanup_pop"
.dS "int"
\*Vexecute\*O
.dE
.fE
.sE
.wH "<endformat>"
.SH PARAMETERS
.PP
.VL 5m
.LI "\*Vexecute\*O"
Integer that specifies whether the cleanup routine in
\*Lpthread_cleanup_push\*O is executed when the thread terminates
normally (for example, when \*Lpthread_exit\*O is called). If the value
of \*Vexecute\*O is 0, the routine is executed only if the thread
terminates abnormally (for example, if the thread is canceled). If the value
is 1 or more, the routine is executed regardless of whether the thread
terminates normally or abnormally.
.LE
.wH "<endparameters>"
.SH DESCRIPTION
.PP
This routine removes the routine specified in
\*Lpthread_cleanup_push\*O at the top of the calling thread's cleanup
stack and executes it if the value specified in \*Vexecute\*O is
nonzero.
.PP
This routine and \*Lpthread_cleanup_push\*O are implemented as macros
and must be displayed as statements and in pairs within the same lexical scope.
You can think of the \*Lpthread_cleanup_push\*O macro as expanding to a
string whose first character is a left brace ({) and
\*Lpthread_cleanup_pop\*O expanding to a string containing the
corresponding right brace (}).
.SH RETURN VALUES
.PP
This routine must be used as a statement.
.PP
If an error is detected, it may be indicated by sending the thread a
synchronously generated signal.
.wH "<endnas_return>"
.cS
.SH EXAMPLES
.PP
.oS
void pthread_cleanup_pop (int execute);
.oE
.cE
.wH "<endnas_examples>"
.SH RELATED INFORMATION
.PP
\*Lpthread_cleanup_push\*O(3)
.EQ
delim off
.EN
