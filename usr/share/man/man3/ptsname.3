.\" This manpage source uses rsml coding. 
.so /usr/share/lib/tmac/sml
.so /usr/share/lib/tmac/rsml
.\"
.\"
.\" *********************************************************************
.\" *                                                                   *
.\" *      Copyright (c) Digital Equipment Corporation, 1991, 1994      *
.\" *                                                                   *
.\" *                       All Rights Reserved.                        *
.\" *                                                                   *
.\" *********************************************************************
.\"
.\" HISTORY
.\"
.\" (c) Copyright 1990, 1991, 1992, 1993 OPEN SOFTWARE FOUNDATION, INC.
.\" ALL RIGHTS RESERVED
.\" OSF/1 1.2
.TH ptsname 3
.SH NAME
.PP
\*Lptsname\*O, \*Lptsname_r\*O \- Gets the name of a slave pty
.SH LIBRARY
.PP
Standard C Library \*L(libc.a)\*O
.SH SYNOPSIS
.PP
.sS
.sp 0.4v
\*Lchar *ptsname(
.nL
	int \*Vmasterfd\*L);\*O
.sp 0.4v
\*Lint ptsname_r(
.nL
	int \*Vmasterfd\*L,
.nL
	char *\*Vslavename\*L,
.nL
	int \*Vlen\*L);\*O
.sE
.SH PARAMETERS
.PP
.VL
.LI "\*Vmasterfd\*O"
Specifies a file descriptor that is returned from a successful open
of the master pty.
.LI "\*Vslavename\*O"
Points to the character array for the resulting null-terminated pathname
of the slave pty.
.LI "\*Vlen\*O"
Specifies the length of the slave pty specified by \*Vslavename\*O.
This length must be 32 bytes.
.LE
.SH DESCRIPTION
.PP
.iX "slave pty" "getting the name of"
.iX "ptsname function"
The \*Lptsname(\|)\*O function and the System V Release 4
\*Lpty\*O name space are provided for System V Release 4 compatibility.
The \*Lptsname(\|)\*O function returns the name of the
slave pty associated with a master pty.
.PP
The \*Lptsname_r(\|)\*O function is the reentrant version of the
\*Lptsname(\|)\*O function.
.SH RETURN VALUES
.PP
Upon successful completion, the \*Lptsname()\*O function returns
a pointer to a string that contains the null-terminated pathname of
the slave pty. The pathname has the form: \*L/dev/pts /\*VN\*O.
The pointer is to a static data area that is
overwritten by each call to the \*Lptsname(\|)\*O function.
.PP
When the \*Lptsname(\|)\*O function fails, it returns a null pointer.
Failure can result under the following conditions:
.ML
.LI
The file descriptor specified by the \*Vmasterfd\*O parameter is an
invalid file descriptor.
.LI
The file system does not contain any more slave device names.
.LE
.PP
Upon successful completion, the \*Lptsname_r(\|)\*O function stores
the resulting
string in the array pointed to by the \*Vslavename\*O parameter,
and a value of 0 (zero) is returned.  Otherwise, -1 is returned, and
\*Lerrno\*O may be set.
.SH ERRORS
.PP
If the following conditions occur, the \*Lptsname_r(\|)\*O
function sets
\*Lerrno\*O to the following value:
.VL
.LI "[EINVAL]"
The \*Vslavename\*O parameter is invalid or the \*Vlen\*O parameter
is too small.
.LE
.SH RELATED INFORMATION
.PP
Functions:
\*Lopenpty\*O(3),
\*Lpty\*O(7).
.PP
Guides:
\*ESystem V Compatibility User's Guide\*O
.EQ
delim off
.EN
