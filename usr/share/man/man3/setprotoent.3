.\" This manpage source uses rsml coding. 
.so /usr/share/lib/tmac/sml
.so /usr/share/lib/tmac/rsml
.\"
.\"
.\" *********************************************************************
.\" *                                                                   *
.\" *      Copyright (c) Digital Equipment Corporation, 1991, 1994      *
.\" *                                                                   *
.\" *                       All Rights Reserved.                        *
.\" *                                                                   *
.\" *********************************************************************
.\"
.\" HISTORY
.\"
.\" @(#)$RCSfile: setprotoent.3,v $ $Revision: 3.2.5.5 $ (DEC) $Date: 1994/01/15 00:54:22 $
.\"
.\" (c) Copyright 1990, 1991, 1992, 1993 OPEN SOFTWARE FOUNDATION, INC. 
.\" ALL RIGHTS RESERVED 
.\" OSF/1 1.2
.\"
.TH setprotoent 3
.SH NAME
.PP
\*Lsetprotoent\*O, \*Lsetprotoent_r\*O \- Open or rewind the protocols file
.SH LIBRARY
.PP
Standard C Library\*L (libc.a)
.SH SYNOPSIS
.PP
.sS
\*L#include <netdb.h>
.sp 0.4v
\*Lint setprotoent\*O(\*L
.nL
	\*Lint \*Vstay_open\*L);
.sp 0.4v
\*Lint setprotoent_r(
.nL
	\*Lint \*Vstay_open\*L,
.nL
	\*Lstruct protoent_data *\*Vproto_data\*L);\*O
.sE
.SH PARAMETERS
.PP
.VL
.LI "\*Vstay_open"
\*OIndicates
when to close the protocols file.
\*OSpecifying a value of 0 (zero) closes the file after each call
to the \*Lsetprotoent(\|)\*O function.  Specifying a nonzero value
allows the \*L/etc/protocols\*O
file to remain open after each function.
.LI "\*Vproto_data\*O"
Points at a structure where \*Lsetprotoent_r(\|)\*O stores information
about the protocols file.
.LE
.SH DESCRIPTION
.PP
.iX "setprotoent function"
.iX "setprotoent_r function"
.iX "protocols file" "setting and rewinding"
.iX "file, protocols" "setting and rewinding"
.iX "setting the protocols file"
.iX "rewinding the protocols file"
The \*Lsetprotoent(\|)\*O (set protocol entry) function opens
the \*L/etc/protocols\*O file
and sets the file marker to the beginning of the file.
.PP
The \*Lsetprotoent_r(\|)\*O function
is the reentrant version of the
\*Lsetprotoent(\|)\*O function.  Note that before calling the
\*Lsetprotoent_r(\|)\*O function for the first time, you must zero-fill
the \*Lprotoent_data\*O structure.
The
\*Lnetdb.h\*O header file defines the
\*Lprotoent_data\*O structure.
.\" put before RETURN VALUES section 
.\" Begin Digital-specific information
.\" Adding Environment Note.
.PP
The system searches either the local \*L/etc/protocols\*O file or the
NIS distributed networks file for the requested information.
To determine which file or files to search, and
in which order, the system uses the switches in the \*L/etc/svc.conf\*O file.
.\" End Digital-specific information
.SH RETURN VALUES
.PP
Upon successful completion, the \*Lsetprotoent(\|)\*O function returns
a value of 1.  Otherwise, it returns a value of 0 (zero).
.PP
Upon successful completion, the \*Lsetprotoent_r(\|)\*O function
returns a value of 0 (zero).  Otherwise, it returns a value of -1.
.SH ERRORS
.PP
If any of the following conditions occurs, the \*Lsetprotoent_r(\|)\*O
function sets \*Lerrno\*O to the corresponding value:
.VL
.LI "[EINVAL]"
The \*Vproto_data\*O parameter is invalid.
.LE
.PP
In addition, the \*Lsetprotoent(\|)\*O and \*Lsetprotoent_r(\|)\*O
functions can fail
to open the file.  In this case, \*Lerrno\*O will be set to the failure.
.SH FILES
.PP
.VL
.LI "\*L/etc/protocols"
\*OContains the protocol names.
.LE
.SH RELATED INFORMATION
.PP
Functions:
\*Lendprotoent\*O(3),
\*Lgetprotobyname\*O(3),
\*Lgetprotobynumber\*O(3),
\*Lgetprotoent\*O(3).
.iX "setprotoent function"
.iX "setprotoent_r function"
.EQ
delim off
.EN
