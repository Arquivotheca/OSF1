.\" This manpage source uses rsml coding. 
.so /usr/share/lib/tmac/sml
.so /usr/share/lib/tmac/rsml
.\"
.\"
.\" *********************************************************************
.\" *                                                                   *
.\" *      Copyright (c) Digital Equipment Corporation, 1991, 1994      *
.\" *                                                                   *
.\" *                       All Rights Reserved.                        *
.\" *                                                                   *
.\" *********************************************************************
.\"
.\"
.\" HISTORY
.\"
.\" @(#)$RCSfile: getclock.3,v $ $Revision: 3.2.5.2 $ (DEC) $Date: 1993/05/24 19:46:58 $
.\"
.\" 
.\" (c) Copyright 1991, OPEN SOFTWARE FOUNDATION, INC.
.\" ALL RIGHTS RESERVED
.\" 
.\"
.\"
.TH getclock 3
.SH NAME
\*Lgetclock\*O \- Gets current value of system-wide clock.
.SH LIBRARY
.PP
Standard C Library (\*Llibc.a\*O)
.SH SYNOPSIS
.PP
.sS
\*L#include\*O <\*Lsys/timers.h\*O>\*L
.PP
\*Lint getclock(
.nL
	\*Lint \*Vclktyp\*O,\*L
.nL
	\*Lstruct timespec\*O *\*Vtp\*L) ;\*L
.sE
.SH PARAMETERS
.PP
.VL 5m
.LI "\*Vclktyp\*O"
Identifies a system-wide clock.
.LI "\*Vtp\*O"
Points to a \*Ltimespec\*O structure space where the current value of
the system-wide clock is stored.
.LE
.SH DESCRIPTION
.PP
.iX "getclock function"
.iX "system clock" "returning current value"
The \*Lgetclock(\|)\*O function sets the current value of the clock
specified by \*Vclktyp\*O into the location pointed to by
the \*Vtp\*O parameter.
.PP
The \*Vclktyp\*O parameter is given as a
symbolic constant name, as defined in the \*Lsys/timers.h\*O
include file.  Only the TIMEOFDAY symbolic constant, which
specifies the normal time-of-day clock to access for system-wide time,
is supported.
.PP
For the clock specified by TIMEOFDAY, the value returned by
this function is the elapsed time since the epoch.  The epoch is
referenced to 00:00:00 CUT (Coordinated Universal Time) 1 Jan 1970.
.PP
The \*Lgetclock(\|)\*O function returns a \*Ltimespec\*O structure,
which is defined in the \*Lsys/timers.h\*O header file.  It has the
following members:
.PP
.TS
tab(@);
r l l.
unsigned long@tv_sec@Elapsed time in seconds since the epoch
long@tv_nsec@Elapsed time as a fraction of a second since
@@the epoch (expressed in nanoseconds)
.TE
.PP
The time interval expressed by the members of this  structure is
((\*Ltv_sec\*O * 10^9) + (\*Ltv_nsec\*O)) nanoseconds.
.SH NOTES
.PP
.VL 15m
.LI "\*LAES Support Level:\*O"
Trial use
.LE
.SH RETURN VALUES
.PP
Upon successful completion,
the \*Lgetclock(\|)\*O function returns a value of 0 (zero).
Otherwise, \*Lgetclock(\|)\*O returns a value of \-1
and sets \*Lerrno\*O to indicate the error.
.SH ERRORS
.PP
If the \*Lgetclock(\|)\*O function fails, \*Lerrno\*O is to one of the
following values:
.VL 5m
.LI "[EINVAL]"
The \*Vclktyp\*O parameter does not specify a known system-wide clock.
.LI "[EIO]"
An error occurred when the system-wide clock specified by the
\*Vclktyp\*O parameter was accessed.
.LE
.SH RELATED INFORMATION
.PP
Functions:
\*Lgettimer\*O(3),
\*Lsetclock\*O(3),
\*Ltime\*O(3)
.EQ
delim off
.EN
