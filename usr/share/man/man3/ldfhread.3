.\" This manpage source uses rsml coding. 
.so /usr/share/lib/tmac/sml
.so /usr/share/lib/tmac/rsml
.\"
.\"
.\" *********************************************************************
.\" *                                                                   *
.\" *      Copyright (c) Digital Equipment Corporation, 1991, 1994      *
.\" *                                                                   *
.\" *                       All Rights Reserved.                        *
.\" *                                                                   *
.\" *********************************************************************
.\"
.\"
.\" HISTORY
.\"
.\" @(#)$RCSfile: ldfhread.3,v $ $Revision: 3.2.2.2 $ (DEC) $Date: 1992/05/27 10:55:46 $
.\"
.\" ------------------------------------------------------------------
.\" | Copyright Unpublished, MIPS Computer Systems, Inc.  All Rights |
.\" | Reserved.  This software contains proprietary and confidential |
.\" | information of MIPS and its suppliers.  Use, disclosure or     |
.\" | reproduction is prohibited without the prior express written   |
.\" | consent of MIPS.                                               |
.\" ------------------------------------------------------------------
.\"  ldfhread.3 3.1
.TH ldfhread 3
.SH NAME
ldfhread \- read the file header of a common object file
.SH SYNOPSIS
.PP
.nf
.ta \w'LDFILE\ \ \ 'u
.B #include <stdio.h>
.ie '\*p'' \{
.B #include <filehdr.h>
.B #include <syms.h>
.B #include <ldfcn.h>
\}
.el \{
.B #include "\s-1INCDIR\s+1\/filehdr.h"
.B #include "\s-1INCDIR\s+1\/syms.h"
.B #include "\s-1INCDIR\s+1\/ldfcn.h"
\}
.PP
.BR "int ldfhread (" "ldptr, filehead" )
.BR "\s-1LDFILE\s+1 \(**" ldptr ;
.BR "\s-1FILHDR\s+1 \(**" filehead ;
.fi
.SH DESCRIPTION
.PP
.B ldfhread
reads the file header of the common object file
currently associated with
\*Vldptr .\*O
It reads the file header
into the area of memory beginning at
.IR filehead .
.PP
.B ldfhread
.RB "returns " \s-1SUCCESS\s+1 " or " \s-1FAILURE\s+1 .
If \*Lldfhread\*O cannot read the file header,
it fails.
.PP
Usually,
.B ldfhread
can be avoided by using the macro
.BI \s-1HEADER\s+1\*S( ldptr )
defined in
.B <ldfcn.h>
(see \*Lldfcn\*O(4)). Note
that the information in HEADER is swapped, if necessary.
The information in any field,
.IR fieldname ,
of the file header can be accessed using
.SM
.BI HEADER\*S( ldptr ). fieldname\c
\&.
.PP
The program must be loaded with the object file access routine library
.ie '\*p'' \{
.BR libmld.a .
\}
.el \{
.BR \s-1LIBDIR\s+1\/libmld.a .
\}
.PP
.\" .if !'\*p'' \{
.\" \*Lintro\*O(4) describes
.\" .IR \s-1INCDIR\s+1  and  \s-1LIBDIR\s+1 .
.\" \}
.SH RELATED INFORMATION
.PP
.ie '\*p'' \{
\*Lldclose\*O(3), \*Lldopen\*O(3), \*Lldfcn\*O(4).
\}
.el \{
\*Lldclose\*O(3), \*Lldopen\*O(3), \*Lintro\*O(4), \*Lldfcn\*O(4)
.\" \*Lpath.h\*O(4).
\}
.EQ
delim off
.EN
