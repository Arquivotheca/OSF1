.\" This manpage source uses rsml coding. 
.so /usr/share/lib/tmac/sml
.so /usr/share/lib/tmac/rsml
.\"
.\"
.\" *********************************************************************
.\" *                                                                   *
.\" *      Copyright (c) Digital Equipment Corporation, 1991, 1994      *
.\" *                                                                   *
.\" *                       All Rights Reserved.                        *
.\" *                                                                   *
.\" *********************************************************************
.\"
.\" HISTORY
.\"
.\" @(#)$RCSfile: getdiskbyname.3,v $ $Revision: 3.2.5.3 $ (DEC) $Date: 1994/01/13 18:46:42 $
.\"
.\" (c) Copyright 1991, OPEN SOFTWARE FOUNDATION, INC.
.\" ALL RIGHTS RESERVED
.\" 
.\" Copyright (c) 1983 Regents of the University of California.
.\" All rights reserved.  The Berkeley software License Agreement
.\" specifies the terms and conditions for redistribution.
.\" 
.\" @(#)getdisk.3	6.3 (Berkeley) 6/18/87
.\" 
.\" (c) Copyright 1990, 1991, 1992, 1993 OPEN SOFTWARE FOUNDATION, INC. 
.\" ALL RIGHTS RESERVED 
.\" OSF/1 1.2
.\"
.\" Copyright (c) 1983 Regents of the University of California.
.\" All rights reserved.  The Berkeley software License Agreement
.\" specifies the terms and conditions for redistribution.
.\" 
.\" @(#)getdisk.3	6.3 (Berkeley) 6/18/87
.\" 
.TH getdiskbyname 3
.SH NAME
.PP
\*Lgetdiskbyname\*O, \*Lgetdiskbyname_r\*O \- Get the disk description using a disk name
.SH LIBRARY
.PP
\*OStandard C Library (\*Llibc.a\*O)
.SH SYNOPSIS
.PP
.sS
\*L#include <sys/disklabel.h>\*L
.nL
\*L#include <sys/types.h>\*O
.sp 0.4v
 \*Lstruct disklabel *getdiskbyname\*O(\*L
.nL
	\*Lchar\*O *\*Vname\*O);\*L
.sp 0.4v
 \*Lint getdiskbyname_r\*O(\*L
.nL
	\*Lchar\*O *\*Vname\*O,\*L
.nL
	\*Lstruct disklabel\*O *\*Vdisk\*O,\*L
.nL
	\*Lchar\*O *\*Vboot\*O,\*L
.nL
	\*Lint\*O \*Vboot_len\*O,\*L
.sE
.SH PARAMETERS
.PP
.VL
.LI "\*Vname\*O"
Specifies
a common name for the disk drive whose geometry and partition characteristics
are sought.
.LI "\*Vdisk\*O"
Points to the structure that will contain the returned disk description.
.LI "\*Vboot\*O"
Points to the buffer that will contain the optional names of the primary
and secondary bootstraps.
.LI "\*Vboot_len\*O"
Specifies the length of \*Vboot\*O.  This should be \*LBUFSIZ\*O.
.LE
.SH DESCRIPTION
.PP
.iX "getdiskbyname function"
.iX "getdiskbyname_r function"
.iX "disk" "getting description of"
The \*Lgetdiskbyname(\|)\*O function uses a disk (disk drive) name
to return a pointer to a structure that describes
the geometry and standard partition characteristics of the named disk
drive. Information obtained from the \*L/etc/disktab\*O
database file is written to the type \*Ldisklabel\*O structure
space referenced by the returned pointer.
.PP
The \*Lgetdiskbyname_r(\|)\*O function is the reentrant version of
\*Lgetdiskbyname(\|)\*O.  Upon success, the returned structure is
pointed at by \*Vdisk\*O.
.SH RETURN VALUES
.PP
Upon successful completion of the \*Lgetdiskbyname(\|)\*O function,
a pointer to a type \*Ldisklabel\*O structure is returned.
.PP
Upon successful completion of the \*Lgetdiskbyname_r(\|)\*O function,
a value of 0 (zero) is returned.  Upon error, a value of
-1 is returned, and
\*Lerrno\*O may be set to [EINVAL].
.SH ERRORS
.PP
If the following condition occurs, the \*Lgetdiskbyname(\|)\*O function sets
\*Lerrno\*O to the value that corresponds to the condition.
.VL
.LI "[EINVAL]"
Either \*Vdisk\*O or \*Vboot\*O is NULL, or \*Vboot_len\*O
is not equal to \*LBUFSIZ\*O.
.LE
.SH RELATED INFORMATION
.PP
Files:
\*Ldisklabel\*O(4),
\*Ldisktab\*O(4).
.PP
Commands:
\*Ldisklabel\*O(8).
.iX "getdiskbyname function"
.iX "getdiskbyname_r function"
.EQ
delim off
.EN
