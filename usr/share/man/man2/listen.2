.\" This manpage source uses rsml coding. 
.so /usr/share/lib/tmac/sml
.so /usr/share/lib/tmac/rsml
.\"
.\"
.\" *********************************************************************
.\" *                                                                   *
.\" *      Copyright (c) Digital Equipment Corporation, 1991, 1994      *
.\" *                                                                   *
.\" *                       All Rights Reserved.                        *
.\" *                                                                   *
.\" *********************************************************************
.\"
.\" HISTORY
.\"
.\" @(#)$RCSfile: listen.2,v $ $Revision: 3.3.4.2 $ (DEC) $Date: 1994/01/19 20:58:07 $
.\"
.\" (c) Copyright 1991, OPEN SOFTWARE FOUNDATION, INC.
.\" ALL RIGHTS RESERVED
.\"
.TH listen 2
.SH NAME
.PP
\*Llisten\*O \- Listens for socket connections and limits the backlog of incoming connections
.SH SYNOPSIS
.PP
.sS
.sp .4v
\*Lint listen\*O (\*L
.nL
	\*Lint \*Vsocket\*L,
.nL
	\*Lint \*Vbacklog \*L);
.sE
.SH PARAMETERS
.PP
.VL
.LI "\*Vsocket"
\*OSpecifies
the unique name for the socket.
.LI "\*Vbacklog"
\*OSpecifies
the maximum number of outstanding connection requests.
.LE
.SH DESCRIPTION
.PP
.iX "listen function"
.iX "socket" "listening for connections"
.iX "connection" "listening for on a socket"
The \*Llisten(\|)\*O function
identifies the socket that receives the connections,
marks the socket as accepting connections,
and
limits the number (\*Vbacklog)\*O of outstanding
connection requests in the system
queue.
.PP
The maximum queue length (\*Vbacklog\*O) that the \*Llisten(\|)\*O function
can specify is eight.  The maximum queue length is indicated by the SOMAXCONN
value in the \*Lsys/socket.h\*O header file.
.wH .rS
.SH RETURN VALUES
.PP
Upon successful completion, the \*Llisten(\|)\*O function returns
a value of 0 (zero).
Otherwise,
a value of -1 is returned and \*Lerrno\*O is set
to indicate the error.
.SH ERRORS
.PP
If the
\*Llisten(\|)\*O
function fails,
\*Lerrno\*O
may be set to one of the following values:
.VL 1i
.LI "[EBADF]"
The \*Vsocket\*O parameter is not valid.
.LI "[ENOTSOCK]"
The \*Vsocket\*O parameter refers to a file,
not a socket.
.LI "[EOPNOTSUPP]"
The referenced socket is not a type that supports
\*Othe \*Llisten(\|)\*O function.
.LE
.SH RELATED INFORMATION
.PP
Functions:
\*Laccept\*O(2),
\*Lconnect\*O(2),
\*Lsocket\*O(2)
.iX "listen function"
.EQ
delim off
.EN
