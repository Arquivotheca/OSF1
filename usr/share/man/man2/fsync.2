.\" This manpage source uses rsml coding. 
.so /usr/share/lib/tmac/sml
.so /usr/share/lib/tmac/rsml
.\"
.\"
.\" *********************************************************************
.\" *                                                                   *
.\" *      Copyright (c) Digital Equipment Corporation, 1991, 1994      *
.\" *                                                                   *
.\" *                       All Rights Reserved.                        *
.\" *                                                                   *
.\" *********************************************************************
.\"
.\"
.\" HISTORY
.\"
.\" @(#)$RCSfile: fsync.2,v $ $Revision: 3.2.2.2 $ (DEC) $Date: 1992/05/15 08:58:41 $
.\"
.\" 
.\" (c) Copyright 1991, OPEN SOFTWARE FOUNDATION, INC.
.\" ALL RIGHTS RESERVED
.\" 
.\"
.\"
.TH fsync 2
.SH NAME
\*Lfsync\*O \-  Writes changes in a file to permanent storage
.SH SYNOPSIS 
.sS
.sp .4v
\*Lint fsync (
.nL
	int \*Vfiledes \*L);
.sE 
.SH PARAMETERS
.\" from TP  
.VL 
.LI "\*Vfiledes\*O"
Specifies a valid open file descriptor.
.LE 
.SH DESCRIPTION
.iX "fsync function"
.iX "file" "writing changes to disk"
.PP 
The \*Lfsync(\|)\*O function saves all modified data in the
file open on the \*Vfiledes \*Oparameter to
permanent storage. On return from the\*L fsync(\|)\*O function,
all updates have been saved on permanent storage.
.SH NOTES
The file identified by the \*Vfiledes\*O
parameter must be open for writing when the \*Lfsync(\|)\*O function
is issued or the call fails. This restriction was not enforced
in BSD systems.
.VL 1.5i
.LI "\*LAES Support Level:\*O"
Trial use
.LE
.SH RETURN VALUES
.PP 
Upon successful completion, the \*Lfsync(\|)\*O function returns
a value of 0 (zero). If \*Lfsync(\|)\*O fails, a value of -1 is returned and
\*Lerrno\*O is set to indicate the error.
.SH ERRORS
.PP 
If the \*Lfsync(\|)\*O function fails,
\*Lerrno\*O
may be set to one of the following values:
.\" from TP 1i  
.VL 1i
.LI "[EIO]"
An I/O error occurred while reading from or writing to the file
system.
.\" from TP 1i  
.LI "[EBADF]" 
The \*Vfiledes\*O parameter is not a valid file descriptor
open for writing.
.PP
.\" from TP 1i  
.LI "[EINVAL]" 
The
\*Vfiledes\*O
parameter does not refer to a file on which this operation is
possible.
.\" from TP 1i  
.LI "[EINTR]" 
The
\*Lfsync(\|)\*O
function was interrupted by a signal which was caught.
.LE 
.SH RELATED INFORMATION
.PP 
Functions:
\*Lopen\*O(2),
\*Lsync\*O(2),
\*Lwrite\*O(2)
.iX "fsync function"
.EQ
delim off
.EN
