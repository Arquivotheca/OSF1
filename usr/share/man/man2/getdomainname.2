.\" This manpage source uses rsml coding. 
.so /usr/share/lib/tmac/sml
.so /usr/share/lib/tmac/rsml
.\"
.\"
.\" *********************************************************************
.\" *                                                                   *
.\" *      Copyright (c) Digital Equipment Corporation, 1991, 1994      *
.\" *                                                                   *
.\" *                       All Rights Reserved.                        *
.\" *                                                                   *
.\" *********************************************************************
.\"
.\"
.\" HISTORY
.\"
.\" @(#)$RCSfile: getdomainname.2,v $ $Revision: 3.2.2.3 $ (DEC) $Date: 1992/12/15 12:05:41 $
.\"
.TH getdomainname 2
.SH NAME
getdomainname, setdomainname \- get or set name of current domain
.SH SYNOPSIS
.PP
.nf
.ft B
getdomainname(\f2name\f1, \f2namelen\f1)
char *\f2name\f1;
int \f2namelen\f1;
.sp 0.5
.ft B
setdomainname(name, namelen)
char *name;
int namelen;
.fi
.SH DESCRIPTION
.PP
.iX "getdomainname system call"
.iX "setdomainname system call"
.iX "domain" "getting name"
.iX "domain" "setting name"
.PP
The \*Lgetdomainname\*O system call returns the domain
name of the current host, as set by \*Lsetdomainname\*O.
.PP
The \*Lsetdomainname\*O system call sets the domain of the host machine to be
\*Vname,\*O
which has a length specified by
\*Vnamelen.\*O
This system call is restricted to the superuser
and is normally used only
when the system is bootstrapped.
.PP
The purpose of domains is to allow merging of two distinct networks
that have common host names.  Each network can be
distinguished by having a different domain name.  At the current time,
only the Network Information Service (NIS) makes use of domains.
.PP
The
\*Vname\*O
argument is the address where the name of the current domain is
stored.
.PP
The
\*Vnamelen\*O
argument specifies the size of the
\*Vname\*O
array.  The returned name is null-terminated unless insufficient space
is provided.
.SH RESTRICTIONS
.PP
Domain names are limited to 31 characters.
.SH RETURN VALUES
.PP
If the call succeeds, a value of 0 is returned.  If the call fails,
a value of \-1 is returned and an error code is placed in the global
location, \f2errno\fP.
.SH ERRORS
.PP
.TP 15
[EFAULT]
The \f2name\fP parameter contains an invalid address.
.TP 15
[EPERM]
The caller was not the superuser.  This error message only
applies to the \*Lsetdomainname\*O system call.
.EQ
delim off
.EN
