.\" This manpage source uses rsml coding. 
.so /usr/share/lib/tmac/sml
.so /usr/share/lib/tmac/rsml
.\"
.\"
.\" *********************************************************************
.\" *                                                                   *
.\" *      Copyright (c) Digital Equipment Corporation, 1991, 1994      *
.\" *                                                                   *
.\" *                       All Rights Reserved.                        *
.\" *                                                                   *
.\" *********************************************************************
.\"
.\"
.\" HISTORY
.\"
.\" @(#)$RCSfile: setquota.2,v $ $Revision: 3.5.5.2 $ (DEC) $Date: 1993/10/04 18:18:12 $
.\"
.\" 
.\" (c) Copyright 1991, OPEN SOFTWARE FOUNDATION, INC.
.\" ALL RIGHTS RESERVED
.\" 
.\"build rmifdef
.\"
.\"
.\" Copyright (c) 1983 Regents of the University of California.
.\" All rights reserved.
.\" 
.\" Redistribution and use in source and binary forms are permitted
.\" provided that the above copyright notice and this paragraph are
.\" duplicated in all such forms and that any documentation,
.\" advertising materials, and other materials related to such
.\" distribution and use acknowledge that the software was developed
.\" by the University of California, Berkeley.  The name of the
.\" University may not be used to endorse or promote products derived
.\" from this software without specific prior written permission.
.\" THIS SOFTWARE IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED
.\" WARRANTIES OF MERCHANTIBILITY AND FITNESS FOR A PARTICULAR PURPOSE.
.\" 
.\" @(#)setquota.2	6.6 (Berkeley) 7/9/88
.\" 
.TH setquota 2
.SH NAME
\*Lsetquota\*O \- Enables or disables quotas on a file system
.SH SYNOPSIS 
.sS
\*Lint setquota\*O(\*L
.nL
	\*Lchar\*O *\*Vspecial\*O,\*L
.nL
	\*Lchar\*O *\*Vfile\*O) ;\*L
.sE
.SH PARAMETERS
.\"from TP "  
.VL 
.LI "\*Vspecial\*O"
Points to the pathname of the block special device on which a mounted
file system
exits.
.\"from TP "  
.LI "\*Vfile\*O" 
Points to the pathname of a file in the file system pointed to by the
\*Vspecial\*O parameter from which to take quotas.
.LE 
.SH DESCRIPTION
.iX "setquota function"
.iX "disk quotas" "enabling and disabling"
.iX "filesystem" "enabling and disabling disk quotas"
The \*Lsetquota(\|)\*O function enables and disables disk quotas on a
file system.
The \*Vspecial\*O parameter specifies a block special device on which a
mounted file system currently exists.  When the \*Vfile\*O parameter has a
positive value, the file in the file system pointed to by \*Vspecial\*O is
the one from which to take the quotas.  When \*Vfile\*O has a null value,
quotas are disabled on the file system pointed to by \*Vspecial\*O.
.PP 
The
\*Lsetquota(\|)\*O
function fails unless the calling process has
superuser
privilege.
.SH RETURN VALUES
Upon successful completion, a value of 0 (zero) is
returned. Upon failure, a value of \-1 is returned and \*Lerrno\*O is set to
indicate the error.
.SH ERRORS
If the \*Lsetquota(\|)\*O function fails,
\*Lerrno\*O
may be set to one of the following values:
.\"from TP 1i"  
.VL 1i
.LI "[ENOTDIR]"
A component of either path prefix is not a directory.
.\"from TP 1i"  
.LI "[EINVAL]" 
Either pathname contains a character with its  high-order bit set.
.\"from TP 1i"  
.LI "[EINVAL]" 
The kernel has not been compiled with the QUOTA option.
.\"from TP 1i"  
.LI "[ENAMETOOLONG]" 
A component of either pathname exceeded NAME_MAX characters,
or the entire length of either pathname exceeds PATH_NAME characters.
.\"from TP 1i"  
.LI "[ENODEV]" 
The block special device pointed to by the \*Vspecial\*O parameter
does not exist.
.\"from TP 1i"  
.LI "[ENOENT]" 
The file pointed to by the \*Vfile\*O parameter
does not exist.
.\"from TP 1i"  
.LI "[ELOOP]" 
Too many symbolic links were encountered when translating either pathname.
.\"from TP 1i"  
.LI "[EPERM]" 
The caller does not have the appropriate privilege.
.\"from TP 1i"  
.LI "[ENOTBLK]" 
The \*Vspecial\*O parameter does not point to
a block device.
.\"from TP 1i"  
.LI "[ENXIO]" 
The major device number of the block special device pointed to by the
\*Vspecial\*O parameter is out of range (this indicates no device driver exists
for the associated hardware).
.\"from TP 1i"  
.LI "[EROFS]" 
The file pointed to by the \*Vfile\*O parameter resides on a read-only
file system.
.\"from TP 1i"  
.LI "[EACCES]" 
Search permission is denied for a component of either path prefix.
.\"from TP 1i"  
.LI "[EACCES]" 
The file pointed to by the \*Vfile\*O parameter resides on a file
system different from
the one pointed to by the \*Vspecial\*O parameter.
.\"from TP 1i"  
.LI "[EACCES]" 
The file pointed to by the \*Vfile\*O parameter is not a plain file.
.\"from TP 1i"  
.LI "[EIO]" 
An I/O error occurred while reading quotas from or writing quotas to the file
pointed to by the \*Vfile\*O parameter.
.\"from TP "  
.LI "[EFAULT]" 
The \*Vfile\*O or \*Vspecial\*O parameter points outside allocated address
space accessible by the process.
.LE 
.SH RELATED INFORMATION
.PP 
Functions:
\*Lquotactl\*O(2)
.iX "setquota function"
.EQ
delim off
.EN
