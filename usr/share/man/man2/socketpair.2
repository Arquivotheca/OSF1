.\" This manpage source uses rsml coding. 
.so /usr/share/lib/tmac/sml
.so /usr/share/lib/tmac/rsml
.\"
.\"
.\" *********************************************************************
.\" *                                                                   *
.\" *      Copyright (c) Digital Equipment Corporation, 1991, 1994      *
.\" *                                                                   *
.\" *                       All Rights Reserved.                        *
.\" *                                                                   *
.\" *********************************************************************
.\"
.\"
.\" HISTORY
.\"
.\" @(#)$RCSfile: socketpair.2,v $ $Revision: 3.2.5.2 $ (DEC) $Date: 1993/11/24 21:20:51 $
.\"
.\"
.\"  THIS OSF SOURCE FILE HAS BEEN MODIFIED BY DLIBRARY IN OSP
.\"  If you need information about the changes, send mail 
.\"  to dlibrary@ravine at Digital Equipment Corp.
.\"
.\" 
.\" (c) Copyright 1991, OPEN SOFTWARE FOUNDATION, INC.
.\" ALL RIGHTS RESERVED
.\" 
.\"
.\"
.TH socketpair 2
.SH NAME
\*Lsocketpair\*O \- Creates a pair of connected sockets
.SH SYNOPSIS
.PP
.sS
\*L#include\*O <\*Lsys/types.h\*O>\*L
.sp .4v
\*L#include\*O <\*Lsys/socket.h\*O>\*L
.sp .4v
\*Lint socketpair\*O(\*L
.nL
	\*Lint \*Vdomain\*L,
.nL
	int \*Vtype\*L,
.nL
	int \*Vprotocol\*L,
.nL
	int \*Vsocket_vector\*L[2] );
.nL
.sE
.SH PARAMETERS
.PP
.VL
.LI "\*Vdomain\*O"
Specifies the communications domain
in which the sockets are created. This function does not create
sockets in the Internet domain.
.LI "\*Vtype\*O"
Specifies the communications method
that sockets use, for example
SOCK_DGRAM or SOCK_STREAM.
.LI "\*Vprotocol\*O"
Specifies an optional identifier used to define the communications protocols
used in the transport layer interface.
.LI "\*Vsocket_vector"
Specifies a two-integer array used to hold the file descriptors of the socket pair
created with the call to this function.
.LE
.SH DESCRIPTION
.iX "socketpair function"
.iX "socket" "creating a connected pair"
.iX "socketpair" "creating"
The
\*Lsocketpair(\|)\*O
function creates an unnamed pair of connected sockets in a
specified \*Vdomain\*O, of a specified \*V type\*O, under the protocol
optionally specified by the \*Vprotocol\*O parameter.  The two sockets
are identical. The file descriptors used in referencing the created
sockets are returned to \*Vsocket_vector\*O[0] and
\*Vsocket_vector\*O[1]. The \*Lsys/socket.h\*O include file contains
definitions for socket domains, types, and protocols.
.PP
Not all protocol families support the
\*Lsocketpair(\|)\*O
function.
.SH RETURN VALUES
.PP
Upon successful completion, this function returns a value of 0 (zero).
Otherwise, -1 is returned and
\*Lerrno\*O is specified to indicate the error.
.SH ERRORS
.PP
If the
\*Lsocketpair(\|)\*O
function fails,
\*Lerrno\*O
may be set to one of the following values:
.VL 1i
.LI "[EMFILE]"
The current process has too many open file descriptors.
.LI "[EAFNOSUPPORT]"
The addresses in the specified address family
cannot be used to create this socket pair.
.LI "[EPROTONOSUPPORT]"
The specified protocol cannot be used in this system.
.LI "[EOPNOTSUPP]"
The specified protocol does not permit creation of socket pairs.
.LI "[EFAULT]"
The \*Vsocket_vector\*O array is not located in a writable part of user
address space.
.\" Begin Digital-specific information
.\" Adding Environment Note information
.LI "[ENOMEM]"
The system was unable to allocate kernel memory to increase
the process descriptor table.
.\" End Digital-specific information
.LE
.SH RELATED INFORMATION
.PP
Functions:
\*Lsocket\*O(2)
.iX "socketpair function"
.EQ
delim off
.EN
