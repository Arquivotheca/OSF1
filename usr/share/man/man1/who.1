.\" This manpage source uses rsml coding. 
.so /usr/share/lib/tmac/sml
.so /usr/share/lib/tmac/rsml
.\"
.\"
.\" *********************************************************************
.\" *                                                                   *
.\" *      Copyright (c) Digital Equipment Corporation, 1991, 1994      *
.\" *                                                                   *
.\" *                       All Rights Reserved.                        *
.\" *                                                                   *
.\" *********************************************************************
.\"
.\"
.\" HISTORY
.\"
.\" @(#)$RCSfile: who.1,v $ $Revision: 3.2.7.5 $ (DEC) $Date: 1994/01/05 14:27:07 $
.\" 
...\"
...\" (c) Copyright 1991, OPEN SOFTWARE FOUNDATION, INC.
...\" ALL RIGHTS RESERVED
...\"
.TH who 1
.SH NAME
.PP
\*Lwho\*O - Identifies users currently logged in
.SH SYNOPSIS
.PP
.sS
\*Lwho\*O
\*O[\*L-a\*O]
|
\*O[\*L-A\*VbdHlmMpqrstTu?hM\*O]
\*O[\*Vfile\*O]
.PP
\*Lwho am I\*O | \*Lwho am i\*O |
\*Lwhoami\*O
.sE
.PP
.iX "who command
.iX "identifying" "users"
.iX "users" "identifying"
.iX "users" "logged-in"
.iX "logged-in users"
The \*Lwho\*O command displays information about users and processes on the
.\" Begin Digital-specific information CORRECTION
.\" Removed extra 'the' per QAR 6887.
local system.
.\" End Digital-specific information CORRECTION
.SH FLAGS
.PP
.VL 4m
.LI "\*L?h\*O"
Prints a help message
.LI "\*L-a\*O"
Specifies all options; processes \*L/var/adm/utmp\*O or the named file
with all flags on
.LI "\*L-A\*Vfile\*O"
.\" Begin Digital-specific information CORRECTION
.\" The OSF had "Displays users logged in to the system."
.\" Dave Long in answering QAR 3703 and Peter Deluca in answering 
.\" QAR #0702 corrected that to the following:
Displays accounting entries from the specified file. Accounting
information is stored in the
\*L/var/adm/wtmp\*O file, so you should specify that file. If you omit the
\*Vfile\*O argument, the
\*Lwho\*O command attempts to display information from the \*L/var/adm/utmp\*O
file, which normally contains no accounting information. If accounting
has never been enabled on your system, this option causes the \*Lwho\*O command to produce no output.
.\" End Digital-specific information CORRECTION
.LI "\*L-b\*O"
Indicates the most recent system start-up time and date.
The \*LLC_TIME\*O environment variable
controls the format of the login time and date.
.LI "\*L-d\*O"
Displays all processes that have expired without being regenerated
by \*Linit\*O.  The \*Vexit_status\*O field appears
for dead processes and contains the
termination and exit values (as returned by \*Lwait\*O) of the
dead processes.  (This flag is useful for determining why a process ended.)
.LI "\*L-h\*O"
Displays a help message.
.LI "\*L-H\*O"
Displays a header (title).
.LI "\*L-l\*O"
Lists only ttys not in use.  The \*Vuser\*O field is
\*LLOGIN\*O in such cases.  Other fields are the same as for user
entries except that the \*Vstate\*O field does not appear.
.LI "\*L-m\*O"
Displays information about the current tty (same as \*Lwho am
i\*O).
.LI "\*L-M\*O"
Lists only the \*Luser\*O, \*Lline\*O, \*Ltime\*O, and \*Lhost\*O (if
not null) fields.
.LI "\*L-p\*O"
Lists any active process that is currently active and was
previously generated by \*Linit\*O.
.LI "\*L-q\*O"
Prints a quick listing of users and the number of users on the
local system. When you use this option, all other options are ignored.
.LI "\*L-r\*O"
Indicates the current run-level of the system and provides information about
the system's state. An example might be:
.oS
    .   run-level 3 Jan 02 07:34   3   0   S
.oE
.IP
The date and time of the last state change.
.IP
The 3 is the current state or run level (termination status).
.IP
The 0 is the number of times the current state has been entered previously
(id).
.IP
The S is an identification of the previous state or run level (exit
status).
.LI "\*L-s\*O"
Lists only the \*Vuser\*O, \*Vline\*O, and \*Vtime\*O fields.  (This is the default;
thus, \*Lwho\*O and \*Lwho -s\*O are equivalent.)
The \*LLC_TIME\*O environment variable controls the format of the time.
.LI "\*L-t\*O"
Indicates the last change to the system clock by the superuser
using the \*Ldate\*O command.
The \*LLC_TIME\*O environment variable controls the format of the time.
.LI "\*L-T\*O"
Displays the status of the tty line and indicates
who can write to that tty as follows:
.VL 4m
.LI "\*L\(pl\*O"
Writable by anyone.
.LI "\*L-\*O"
Writable only by the superuser or the tty's owner.
.LI "\*L?\*O"
Bad line encountered.
.LE
.LI "\*L-u\*O"
Displays the username, terminal name, login time, line activity,
and process-ID of each current user.
The \*LLC_TIME\*O environment variable controls the format of the login time.
.LI "\*L-M\*O"
Displays the host machine name associated with the user.
.LE
.SH DESCRIPTION
.PP
The \*Lwho\*O command
displays the following information for the users and/or processes
you specify:
.ML
.LI
Login name
.LI
Terminal name
.LI
Date
.LI
Time of login
.LI
Host
.LE
.PP
Entering \*Lwho am i\*O or \*Lwho am I\*O displays your login name, terminal name,
date and time you logged in, and host. Entering \*Lwhoami\*O displays
your login name only.
.PP
With flags, \*Lwho\*O can also display the elapsed time since
line activity occurred, the process-ID of the command interpreter
(shell), logins, logouts, restarts, and changes to the system clock, as
well as other processes generated by the \*Linit\*O process.
.PP
The general output format of the \*Lwho\*O command is as follows:
.iS
\*Vuser\*O [\*Vstate\*O] \*Vline\*O \*Vtime\*O \*Vactivity\*O \*Vprocess_ID\*O [\*Vexit_status\*O]
.iE
.PP
where:
.ML
.LI
\*Vuser\*O is the user's login name.
.LI
\*Vstate\*O indicates whether or not the line is readable
by everyone (see the \*L-T\*O flag).
.LI
\*Vline\*O is the name of the line as found in the
\*L/dev\*O directory.
.LI
\*Vtime\*O is the time that user logged in.
.LI
\*Vactivity\*O is the hours and minutes since
activity last occurred on that user's line.
A \*L\&.\*O (dot) here indicates line activity within the last minute.
If the line has been quiet more than 24 hours or has not been
used since the last system start-up, the entry is marked as old.
.LI
\*Vprocess_ID\*O is the process-ID of the user's shell.
.LI
\*Vexit_status\*O is the exit status of ended processes
(see the \*L-d\*O flag).
.LE
.PP
To obtain its information, \*Lwho\*O normally examines \*L/var/adm/utmp\*O.
If you specify another file, \*Lwho\*O examines the
named file instead.  This file will usually be \*L/var/adm/wtmp\*O,
which contains the history of all logins since the file was last created.
.PP
Note that \*Lwho\*O only identifies users on the local node.
.SH EXAMPLES
.PP
.AL
.LI
To display information about who is using the local system, enter:
.iS
who
\*O\c
.iE
Information similar to the following is displayed:
.oS
george  console Jun 8  08:34  (abcpa.pasc.abc.c)
\*O\c
.oE
.LI
To display your username, enter:
.iS
who am i
.iE
Information similar to the following is displayed:
.oS
huang	console Jun 8	08:34  (maguro)
\*O\c
.oE
.LI
To display a history of logins, logouts, system start-ups, and
system shutdowns, enter:
.iS
who  /var/adm/wtmp
\*O\c
.iE
.sp
Information similar to the following is displayed:
.oS
huang	console	Jun 8	08:34
john	console	Jun 8	08:34
rachel	console	Jun 8	08:22
spike	ttyp4	Jun 8	09:19
\*O\c
.oE
.LI
To display the run-level of the local system, enter:
.iS
who -r
.iE
Information similar to the following is displayed:
.oS
.\" Begin Digital-specific information CORRECTION
.\" Corrected the following display per QAR 9968.
run-level 3              Jan 05 08:36     3     0     S
.\" End Digital-specific information CORRECTION
.oE
.LI
To display any active process that is currently active and was
previously generated by \*Linit\*O, enter:
.iS
who -p
\*O\c
.iE
.sp
Information similar to the following is displayed:
.oS
\&.	tty4	Jun 8	04:15
\&.	tty7	Jun 8	04:15
\&.	tty14	Jun 8	04:15
\*O\c
.oE
.LE
.SH FILES
.PP
.VL 11m
.LI "\*L/var/adm/utmp\*O"
Contains user and accounting information.
.LI "\*L/var/adm/wtmp\*O"
Contains login history.
.LE
.SH RELATED INFORMATION
.PP
Commands:  \*Ldate\*O(1), \*Linit\*O(8), \*Llogin\*O(1),
\*Lmesg\*O(1), \*Lsu\*O(1), \*Lusers\*O(1) \*Lwhoami\*O(1).
.PP
Functions:  \*Lwait\*O(2).
.PP
Files:  \*Lutmp\*O(4).
.EQ
delim off
.EN
