.\" This manpage source uses rsml coding. 
.so /usr/share/lib/tmac/sml
.so /usr/share/lib/tmac/rsml
.\"
.\"
.\" *********************************************************************
.\" *                                                                   *
.\" *      Copyright (c) Digital Equipment Corporation, 1991, 1994      *
.\" *                                                                   *
.\" *                       All Rights Reserved.                        *
.\" *                                                                   *
.\" *********************************************************************
.\"
.\"
.\" HISTORY
.\"
.\" @(#)$RCSfile: whatnow.1,v $ $Revision: 3.2.2.3 $ (DEC) $Date: 1993/01/28 14:59:53 $
.\"
.ds MA MH
.TH whatnow 1
.SH NAME
whatnow \- prompting front-end for send
.SH SYNOPSIS
.PP
.B whatnow
[
\*Voptions\*O
] [
\*Vfile\*O
]
.\"
.\"
.\"
.\"
.\"
.\" ***COMMENTED OUT
.\" .SH Arguments
.\" .IP \f2file\f1 10
.\" The file on which
.\" \*Lwhatnow\*O
.\" is run.
.\" This argument allows you to specify a named file;
.\" if you want to run
.\" \*Lwhatnow\*O
.\" on an existing message, use the
.\" .B \-draftfolder
.\" and
.\" .B \-draftmessage
.\" options.
.\" If you do not give an absolute pathname (one beginning with
.\" a / or \&./ or \&.\&./ ),
.\" \*Lwhatnow\*O
.\" assumes that the named file is in your current
.\" working directory.
.\" ***END OF COMMENTS
.\"
.\"
.\"
.\"
.\"
.SH DESCRIPTION
.PP
.iX "whatnow command"
After you have finished editing a draft message in \*Lcomp\*O, \*Ldist\*O,
\*Lforw\*O or \*Lrepl\*O, the \*Lwhatnow\*O program
prompts you for the next required action.
Press <Return> at the \*LWhat now?\*O prompt
to see a list of the available responses.
These responses are:
.oS
display [\f2options\fP]
edit [\f2editor\fP] [\f2options\fP]
list [\f2options\fP]
push [\f2options\fP]
quit [\-delete]
refile [\f2options\fP] +folder
.\"
.\" send [\-mts \f2mtsname\fP] [\f2options\fP]
.\" whom [\-mts \f2mtsname\fP] [\f2options\fP]
.\"
.\" ***LAST TO LINES REPLACED BY NEXT TWO
.\"
send  [\f2options\fP]
whom  [\f2options\fP]
.oE
For more information on the options available with
these commands, see the following reference pages: \*Lrefile\*O(1),
\*Lsend\*O(1), \*Lwhom\*O(1).
.PP
Use \*Ldisplay\*O if you have been using \*Lrepl\*O or \*Ldist\*O and
want to see the original message. Use \*Ledit\*O if
you want to continue editing the draft.
Use \*Llist\*O to display the draft message.
If you use \*Lpush\*O, \*Lsend\*O operates
in the background and frees your terminal
while the message is being sent.
.PP
Use \*Lquit\*O to exit from \*Lwhatnow\*O and to save the draft message.
The
.B \-delete
option to \*Lquit\*O will exit from \*Lwhatnow\*O and delete the draft message.
.PP
Use \*Lrefile\*O
\*V+folder\*O
to refile the draft message in a specified folder.
The \*Lsend\*O response will cause the message to be delivered.
Use \*Lwhom\*O to find out who will receive the mail when it is sent.
.PP
Unless the
.B \-noedit
option is given,
the editor starts when \*Lwhatnow\*O is invoked.
.PP
For the \*Ledit\*O response,
you can specify an editor if you wish to override
the editor specified in your  \*L\&.mh_profile\*O file.
If you specify an editor with the \*Ledit\*O response,
any valid option to the editor is valid.
Similarly,
for the \*Lsend\*O and \*Lwhom\*O responses,
any valid option to \*Lsend\*O and \*Lwhom\*O commands,
respectively, are valid.
.\"
.\"
.\"
.\" ***COMMENTED OUT
.ig
.PP
You can use the
.B \-mts
\*Vmtsname\*O
option with \*Lsend\*O or \*Lwhom\*O to specify either the X.400 or
non-X.400 transport system.
The
\*Vmtsname\*O
argument takes one of two forms:
.B \-mts\ x400
indicates that the message is
sent over the X.400 system;
.B \-mts\ smtp
is used for non-X.400 mail.
You can use upper- or lower-case letters,
or a combination of the two.
You cannot send the same message over both X.400 and
non-X.400 transport systems.
If there is an \*LX-mts:\*O field in the header of the
draft message, an entry in this field overrides any
.B \-mts
\*Vmtsname\*O
option.
See \*Lsend\*O(1) and \*Lwhom\*O(1) for more information.
..
.\" ***END OF COMMENTS
.\"
.\"
.\"
.PP
For the \*Lpush\*O response,
use any valid option to \*Lsend\*O. MH invokes \*Lsend\*O with the
.B \-push
option.
.PP
For the \*Lrefile\*O response,
any valid option to the \*Lfileproc\*O is valid.
The \*Lfileproc\*O is the element of your mail profile
which defines the program used to
refile messages in another folder.
For more information,
see \*Lmh_profile\*O(4).
.PP
For the \*Ldisplay\*O and \*Llist\*O responses,
any valid argument to the \*Llproc\*O is valid.
If any non-option arguments are present,
then the pathname of the draft is excluded
from the argument list given to the \*Llproc\*O (this
is useful for listing another MH message).
The \*Llproc\*O is the element in your mail profile which defines
the program used to display draft messages on your screen.
For more information, see \*Lmh_profile\*O(4).
.PP
See \*Lmh_profile\*O(4) for further information
about how editors are used by MH.
It also describes \*Llproc\*O and \*Lfileproc\*O and
shows how complex variables can be used to direct
the actions performed by \*Lwhatnow\*O.
.\"
.\" ***Info from old Arguments section
.\"
.PP
Although \*Lwhatnow\*O is usually invoked by other commands,
you can use it as a separate command.
You can run \*Lwhatnow\*O on a named file by specifying the file as the
\*Vfile \*O
argument.
If you do not give an absolute pathname (one beginning with
a / or \&./ or \&.\&./ ), \*Lwhatnow\*O assumes that the
named file is in your current
working directory.
If you want to run \*Lwhatnow\*O on an existing message, use the
.B \-draftfolder
and
.B \-draftmessage
options.
.\"
.\" ***End of old Arguments stuff
.\"
.\"
.\"
.\"
.SH FLAGS
.PP
.IP "\-draftfolder \f2+folder\*O" 10
.PD 0
.IP \-nodraftfolder 10
.PD
Specifies the folder in which \*Lwhatnow\*O searches for the draft message.
By default, the current message in the named folder
is used.
If you wish to specify another message, use the
.B \-draftmessage
option.
For more information on using a draft folder, see \*Lcomp\*O(1). The
.B \-draftfolder
option can be set up in your user profile;
see \*Lmh_profile\*O(4) for more information.
.\"
.\"
.IP \-draftmessage\ \f2msg\f1
Specifies the draft message to be used.
If you specify a folder with the
.B \-draftfolder
option, the
.B \-draftmessage
option takes the number of a message in that folder.
If you do not specify a folder,
.B \-draftmessage
takes the name of a file.
If you do not give an absolute pathname (one beginning with
a / or \&./ or \&.\&./ ),
.B \-draftmessage
assumes that the file is located in your Mail directory.
(This is different from the
\*Vfile\*O
argument to \*Lwhatnow\*O, which assumes that the file you name is in your
current working directory.)
.\"
.\"
.IP \-editor\ \f2editorname\f1
Specifies the name of the editor you want to use
to edit the draft message.
Any legal editor can be specified.
This option is used only if you select the \*Ledit\*O response
to the \*LWhat now?\*O prompt.
.\"
.\"
.IP \-help
Prints a list of the valid options for this command.
.\"
.\"
.IP \-noedit
Prevents the initial invocation of an editor
when an MH command is run.
Normally, when you enter an MH command such as \*Lcomp\*O,
\*Ldist\*O, \*Lforw\*O, or \*Lrepl\*O, the  \*Lwhatnow\*O program
is called to start the initial edit
of the draft message.
If you add this option to the \*Lwhatnow\*O entry in your
\*L\&.mh_profile\*O, the initial edit of the draft message is disabled.
This is a convenient way of disabling this edit
for all MH commands, rather than adding the
.B \-noedit
entry to the entries for the individual commands in \*L\&.mh_profile\*O.
.\"
.\"
.IP \-prompt\ \f2string\f1
Specifies the prompt used by \*Lwhatnow\*O. The
prompt you receive when you invoke \*Lwhatnow\*O can
be specified as a string with this option.
If the prompt contains spaces, you must enclose
the entire string in double quotes (" ").
The default prompt is \*LWhat now?\*O
.\"
.\"
.\"
.\"
.\"
.\"
.SH RESTRICTIONS
.PP
If the \*Lsendproc\*O entry in your \*L\&.mh_profile\*O is \*Lsend\*O,
\*Lwhatnow\*O uses a built-in program rather than running the regular
\*Lsend\*O. If you define your own \*Lsendproc\*O program,
you should not call it \*Lsend\*O, as \*Lwhatnow\*O will not run it.
.\"
.\"
.\"
.\"
.SH EXAMPLES
.PP
In the following example, \*Lwhatnow\*O takes the current
message in the folder \*L+drafts\*O, and asks what you want to do with it:
.oS
% \f(CBwhatnow -draftfolder +drafts\f1
\f(CWWhat now?
.oE
.PP
In the following example, \*Lwhatnow\*O takes message 6
from the folder \*L+drafts\*O:
.oS
% \f(CBwhatnow -draftfolder +drafts -draftmessage 6
\f(CWWhat now?
.oE
.PP
The following example sets the prompt to be \*LNow What?\*O:
.oS
% \f(CBwhatnow -prompt "Now What?"\f1
\f(CWNow what?
.oE
.\"
.\"
.\"
.\"
.SH PROFILE COMPONENTS
.PP
.TS
tab(+);
l l.
Path:+To determine your MH directory
Draft-Folder:+To find the default draft folder
Editor:+To override the default editor
\f2lasteditor\f1-next:+To name an editor to be used after
+exit from \f2lasteditor\f1
fileproc:+Program to refile the message
lproc:+Program to list the contents of a message
sendproc:+Program to send the message
whomproc:+Program to determine who a message would go to
.TE
.\"
.\"
.\"
.\"
.SH FILES
.PP
.TP 10
\*L$HOME/\&.mh_profile\*O
The user profile.
.\"
.\"
.\"
.\"
.SH RELATED INFORMATION
.PP
\*Lcomp\*O(1), \*Lsend\*O(1), \*Lwhom\*O(1)
.EQ
delim off
.EN
